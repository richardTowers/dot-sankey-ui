!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=17)}([function(t,n,e){"use strict";var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var o=i(r),u=o.right,a=o.left,c=u,s=function(t,n){null==n&&(n=l);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o};function l(t,n){return[t,n]}var f=function(t,n,e){var r,i,o,u,a=t.length,c=n.length,s=new Array(a*c);for(null==e&&(e=l),r=o=0;r<a;++r)for(u=t[r],i=0;i<c;++i,++o)s[o]=e(u,n[i]);return s},h=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,n){var e,r,i=t.length,o=0,u=-1,a=0,c=0;if(null==n)for(;++u<i;)isNaN(e=d(t[u]))||(c+=(r=e-a)*(e-(a+=r/++o)));else for(;++u<i;)isNaN(e=d(n(t[u],u,t)))||(c+=(r=e-a)*(e-(a+=r/++o)));if(o>1)return c/(o-1)},v=function(t,n){var e=p(t,n);return e?Math.sqrt(e):e},g=function(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},y=Array.prototype,m=y.slice,_=y.map,b=function(t){return function(){return t}},x=function(t){return t},w=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},M=Math.sqrt(50),C=Math.sqrt(10),k=Math.sqrt(2),S=function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=T(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o};function T(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=M?10:o>=C?5:o>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=M?10:o>=C?5:o>=k?2:1)}function A(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=M?i*=10:o>=C?i*=5:o>=k&&(i*=2),n<t?-i:i}var N=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},L=function(){var t=x,n=g,e=N;function r(r){var i,o,u=r.length,a=new Array(u);for(i=0;i<u;++i)a[i]=t(r[i],i,r);var s=n(a),l=s[0],f=s[1],h=e(a,l,f);Array.isArray(h)||(h=A(l,f,h),h=w(Math.ceil(l/h)*h,f,h));for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,v=new Array(d+1);for(i=0;i<=d;++i)(p=v[i]=[]).x0=i>0?h[i-1]:l,p.x1=i<d?h[i]:f;for(i=0;i<u;++i)l<=(o=a[i])&&o<=f&&v[c(h,o,0,d)].push(r[i]);return v}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:b(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:b([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?b(m.call(t)):b(t),r):e},r},E=function(t,n,e){if(null==e&&(e=d),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}},O=function(t,n,e){return t=_.call(t,d).sort(r),Math.ceil((e-n)/(2*(E(t,.75)-E(t,.25))*Math.pow(t.length,-1/3)))},D=function(t,n,e){return Math.ceil((e-n)/(3.5*v(t)*Math.pow(t.length,-1/3)))},P=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},z=function(t,n){var e,r=t.length,i=r,o=-1,u=0;if(null==n)for(;++o<r;)isNaN(e=d(t[o]))?--i:u+=e;else for(;++o<r;)isNaN(e=d(n(t[o],o,t)))?--i:u+=e;if(i)return u/i},R=function(t,n){var e,i=t.length,o=-1,u=[];if(null==n)for(;++o<i;)isNaN(e=d(t[o]))||u.push(e);else for(;++o<i;)isNaN(e=d(n(t[o],o,t)))||u.push(e);return E(u.sort(r),.5)},I=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e},F=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},j=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},W=function(t,n){if(e=t.length){var e,i,o=0,u=0,a=t[u];for(null==n&&(n=r);++o<e;)(n(i=t[o],a)<0||0!==n(a,a))&&(a=i,u=o);return 0===n(a,a)?u:void 0}},H=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},B=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},U=function(t){if(!(i=t.length))return[];for(var n=-1,e=F(t,q),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r};function q(t){return t.length}var Y=function(){return U(arguments)};e.d(n,"b",function(){return c}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return a}),e.d(n,"a",function(){return r}),e.d(n,"e",function(){return i}),e.d(n,"f",function(){return f}),e.d(n,"g",function(){return h}),e.d(n,"h",function(){return v}),e.d(n,"i",function(){return g}),e.d(n,"j",function(){return L}),e.d(n,"w",function(){return O}),e.d(n,"x",function(){return D}),e.d(n,"y",function(){return N}),e.d(n,"k",function(){return P}),e.d(n,"l",function(){return z}),e.d(n,"m",function(){return R}),e.d(n,"n",function(){return I}),e.d(n,"o",function(){return F}),e.d(n,"p",function(){return s}),e.d(n,"q",function(){return j}),e.d(n,"r",function(){return E}),e.d(n,"s",function(){return w}),e.d(n,"t",function(){return W}),e.d(n,"u",function(){return H}),e.d(n,"v",function(){return B}),e.d(n,"B",function(){return S}),e.d(n,"z",function(){return T}),e.d(n,"A",function(){return A}),e.d(n,"C",function(){return U}),e.d(n,"D",function(){return p}),e.d(n,"E",function(){return Y})},function(t,n,e){"use strict";var r=Math.PI,i=2*r,o=i-1e-6;function u(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function a(){return new u}u.prototype=a.prototype={constructor:u,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,i,o){t=+t,n=+n,e=+e,i=+i,o=+o;var u=this._x1,a=this._y1,c=e-t,s=i-n,l=u-t,f=a-n,h=l*l+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*c-s*l)>1e-6&&o){var d=e-u,p=i-a,v=c*c+s*s,g=d*d+p*p,y=Math.sqrt(v),m=Math.sqrt(h),_=o*Math.tan((r-Math.acos((v+h-g)/(2*y*m)))/2),b=_/m,x=_/y;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(n+b*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>l*p)+","+(this._x1=t+x*c)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,u,a,c){t=+t,n=+n;var s=(e=+e)*Math.cos(u),l=e*Math.sin(u),f=t+s,h=n+l,d=1^c,p=c?u-a:a-u;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),e&&(p<0&&(p=p%i+i),p>o?this._+="A"+e+","+e+",0,1,"+d+","+(t-s)+","+(n-l)+"A"+e+","+e+",0,1,"+d+","+(this._x1=f)+","+(this._y1=h):p>1e-6&&(this._+="A"+e+","+e+",0,"+ +(p>=r)+","+d+","+(this._x1=t+e*Math.cos(a))+","+(this._y1=n+e*Math.sin(a))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var c=a;e.d(n,"a",function(){return c})},function(t,n,e){var r;try{r=e(26)}catch(t){}r||(r=window._),t.exports=r},function(t,n,e){var r;try{r=e(23)}catch(t){}r||(r=window._),t.exports=r},function(t,n,e){"use strict";var r=e(1),i=function(t){return function(){return t}},o=Math.abs,u=Math.atan2,a=Math.cos,c=Math.max,s=Math.min,l=Math.sin,f=Math.sqrt,h=1e-12,d=Math.PI,p=d/2,v=2*d;function g(t){return t>=1?p:t<=-1?-p:Math.asin(t)}function y(t){return t.innerRadius}function m(t){return t.outerRadius}function _(t){return t.startAngle}function b(t){return t.endAngle}function x(t){return t&&t.padAngle}function w(t,n,e,r,i,o,u){var a=t-e,s=n-r,l=(u?o:-o)/f(a*a+s*s),h=l*s,d=-l*a,p=t+h,v=n+d,g=e+h,y=r+d,m=(p+g)/2,_=(v+y)/2,b=g-p,x=y-v,w=b*b+x*x,M=i-o,C=p*y-g*v,k=(x<0?-1:1)*f(c(0,M*M*w-C*C)),S=(C*x-b*k)/w,T=(-C*b-x*k)/w,A=(C*x+b*k)/w,N=(-C*b+x*k)/w,L=S-m,E=T-_,O=A-m,D=N-_;return L*L+E*E>O*O+D*D&&(S=A,T=N),{cx:S,cy:T,x01:-h,y01:-d,x11:S*(i/M-1),y11:T*(i/M-1)}}var M=function(){var t=y,n=m,e=i(0),c=null,M=_,C=b,k=x,S=null;function T(){var i,y,m,_=+t.apply(this,arguments),b=+n.apply(this,arguments),x=M.apply(this,arguments)-p,T=C.apply(this,arguments)-p,A=o(T-x),N=T>x;if(S||(S=i=Object(r.a)()),b<_&&(y=b,b=_,_=y),b>h)if(A>v-h)S.moveTo(b*a(x),b*l(x)),S.arc(0,0,b,x,T,!N),_>h&&(S.moveTo(_*a(T),_*l(T)),S.arc(0,0,_,T,x,N));else{var L,E,O=x,D=T,P=x,z=T,R=A,I=A,F=k.apply(this,arguments)/2,j=F>h&&(c?+c.apply(this,arguments):f(_*_+b*b)),W=s(o(b-_)/2,+e.apply(this,arguments)),H=W,B=W;if(j>h){var U=g(j/_*l(F)),q=g(j/b*l(F));(R-=2*U)>h?(P+=U*=N?1:-1,z-=U):(R=0,P=z=(x+T)/2),(I-=2*q)>h?(O+=q*=N?1:-1,D-=q):(I=0,O=D=(x+T)/2)}var Y=b*a(O),G=b*l(O),V=_*a(z),$=_*l(z);if(W>h){var X,K=b*a(D),Z=b*l(D),Q=_*a(P),J=_*l(P);if(A<d&&(X=function(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,l=u-i,f=a-o,d=f*c-l*s;if(!(d*d<h))return[t+(d=(l*(n-o)-f*(t-i))/d)*c,n+d*s]}(Y,G,Q,J,K,Z,V,$))){var tt=Y-X[0],nt=G-X[1],et=K-X[0],rt=Z-X[1],it=1/l(((m=(tt*et+nt*rt)/(f(tt*tt+nt*nt)*f(et*et+rt*rt)))>1?0:m<-1?d:Math.acos(m))/2),ot=f(X[0]*X[0]+X[1]*X[1]);H=s(W,(_-ot)/(it-1)),B=s(W,(b-ot)/(it+1))}}I>h?B>h?(L=w(Q,J,Y,G,b,B,N),E=w(K,Z,V,$,b,B,N),S.moveTo(L.cx+L.x01,L.cy+L.y01),B<W?S.arc(L.cx,L.cy,B,u(L.y01,L.x01),u(E.y01,E.x01),!N):(S.arc(L.cx,L.cy,B,u(L.y01,L.x01),u(L.y11,L.x11),!N),S.arc(0,0,b,u(L.cy+L.y11,L.cx+L.x11),u(E.cy+E.y11,E.cx+E.x11),!N),S.arc(E.cx,E.cy,B,u(E.y11,E.x11),u(E.y01,E.x01),!N))):(S.moveTo(Y,G),S.arc(0,0,b,O,D,!N)):S.moveTo(Y,G),_>h&&R>h?H>h?(L=w(V,$,K,Z,_,-H,N),E=w(Y,G,Q,J,_,-H,N),S.lineTo(L.cx+L.x01,L.cy+L.y01),H<W?S.arc(L.cx,L.cy,H,u(L.y01,L.x01),u(E.y01,E.x01),!N):(S.arc(L.cx,L.cy,H,u(L.y01,L.x01),u(L.y11,L.x11),!N),S.arc(0,0,_,u(L.cy+L.y11,L.cx+L.x11),u(E.cy+E.y11,E.cx+E.x11),N),S.arc(E.cx,E.cy,H,u(E.y11,E.x11),u(E.y01,E.x01),!N))):S.arc(0,0,_,z,P,N):S.lineTo(V,$)}else S.moveTo(0,0);if(S.closePath(),i)return S=null,i+""||null}return T.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+M.apply(this,arguments)+ +C.apply(this,arguments))/2-d/2;return[a(r)*e,l(r)*e]},T.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:i(+n),T):t},T.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),T):n},T.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),T):e},T.padRadius=function(t){return arguments.length?(c=null==t?null:"function"==typeof t?t:i(+t),T):c},T.startAngle=function(t){return arguments.length?(M="function"==typeof t?t:i(+t),T):M},T.endAngle=function(t){return arguments.length?(C="function"==typeof t?t:i(+t),T):C},T.padAngle=function(t){return arguments.length?(k="function"==typeof t?t:i(+t),T):k},T.context=function(t){return arguments.length?(S=null==t?null:t,T):S},T};function C(t){this._context=t}C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var k=function(t){return new C(t)};function S(t){return t[0]}function T(t){return t[1]}var A=function(){var t=S,n=T,e=i(!0),o=null,u=k,a=null;function c(i){var c,s,l,f=i.length,h=!1;for(null==o&&(a=u(l=Object(r.a)())),c=0;c<=f;++c)!(c<f&&e(s=i[c],c,i))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(s,c,i),+n(s,c,i));if(l)return a=null,l+""||null}return c.x=function(n){return arguments.length?(t="function"==typeof n?n:i(+n),c):t},c.y=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),c):n},c.defined=function(t){return arguments.length?(e="function"==typeof t?t:i(!!t),c):e},c.curve=function(t){return arguments.length?(u=t,null!=o&&(a=u(o)),c):u},c.context=function(t){return arguments.length?(null==t?o=a=null:a=u(o=t),c):o},c},N=function(){var t=S,n=null,e=i(0),o=T,u=i(!0),a=null,c=k,s=null;function l(i){var l,f,h,d,p,v=i.length,g=!1,y=new Array(v),m=new Array(v);for(null==a&&(s=c(p=Object(r.a)())),l=0;l<=v;++l){if(!(l<v&&u(d=i[l],l,i))===g)if(g=!g)f=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=f;--h)s.point(y[h],m[h]);s.lineEnd(),s.areaEnd()}g&&(y[l]=+t(d,l,i),m[l]=+e(d,l,i),s.point(n?+n(d,l,i):y[l],o?+o(d,l,i):m[l]))}if(p)return s=null,p+""||null}function f(){return A().defined(u).curve(c).context(a)}return l.x=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),n=null,l):t},l.x0=function(n){return arguments.length?(t="function"==typeof n?n:i(+n),l):t},l.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:i(+t),l):n},l.y=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),o=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),l):e},l.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:i(+t),l):o},l.lineX0=l.lineY0=function(){return f().x(t).y(e)},l.lineY1=function(){return f().x(t).y(o)},l.lineX1=function(){return f().x(n).y(e)},l.defined=function(t){return arguments.length?(u="function"==typeof t?t:i(!!t),l):u},l.curve=function(t){return arguments.length?(c=t,null!=a&&(s=c(a)),l):c},l.context=function(t){return arguments.length?(null==t?a=s=null:s=c(a=t),l):a},l},L=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},E=function(t){return t},O=function(){var t=E,n=L,e=null,r=i(0),o=i(v),u=i(0);function a(i){var a,c,s,l,f,h=i.length,d=0,p=new Array(h),g=new Array(h),y=+r.apply(this,arguments),m=Math.min(v,Math.max(-v,o.apply(this,arguments)-y)),_=Math.min(Math.abs(m)/h,u.apply(this,arguments)),b=_*(m<0?-1:1);for(a=0;a<h;++a)(f=g[p[a]=a]=+t(i[a],a,i))>0&&(d+=f);for(null!=n?p.sort(function(t,e){return n(g[t],g[e])}):null!=e&&p.sort(function(t,n){return e(i[t],i[n])}),a=0,s=d?(m-h*b)/d:0;a<h;++a,y=l)c=p[a],l=y+((f=g[c])>0?f*s:0)+b,g[c]={data:i[c],index:a,value:f,startAngle:y,endAngle:l,padAngle:_};return g}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:i(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),a):r},a.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),a):o},a.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:i(+t),a):u},a},D=z(k);function P(t){this._curve=t}function z(t){function n(n){return new P(t(n))}return n._curve=t,n}function R(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(z(t)):n()._curve},t}P.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var I=function(){return R(A().curve(D))},F=function(){var t=N().curve(D),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return R(e())},delete t.lineX0,t.lineEndAngle=function(){return R(r())},delete t.lineX1,t.lineInnerRadius=function(){return R(i())},delete t.lineY0,t.lineOuterRadius=function(){return R(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(z(t)):n()._curve},t},j=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},W=Array.prototype.slice;function H(t){return t.source}function B(t){return t.target}function U(t){var n=H,e=B,o=S,u=T,a=null;function c(){var i,c=W.call(arguments),s=n.apply(this,c),l=e.apply(this,c);if(a||(a=i=Object(r.a)()),t(a,+o.apply(this,(c[0]=s,c)),+u.apply(this,c),+o.apply(this,(c[0]=l,c)),+u.apply(this,c)),i)return a=null,i+""||null}return c.source=function(t){return arguments.length?(n=t,c):n},c.target=function(t){return arguments.length?(e=t,c):e},c.x=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),c):o},c.y=function(t){return arguments.length?(u="function"==typeof t?t:i(+t),c):u},c.context=function(t){return arguments.length?(a=null==t?null:t,c):a},c}function q(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Y(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function G(t,n,e,r,i){var o=j(n,e),u=j(n,e=(e+i)/2),a=j(r,e),c=j(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function V(){return U(q)}function $(){return U(Y)}function X(){var t=U(G);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var K={draw:function(t,n){var e=Math.sqrt(n/d);t.moveTo(e,0),t.arc(0,0,e,0,v)}},Z={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Q=Math.sqrt(1/3),J=2*Q,tt={draw:function(t,n){var e=Math.sqrt(n/J),r=e*Q;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},nt=Math.sin(d/10)/Math.sin(7*d/10),et=Math.sin(v/10)*nt,rt=-Math.cos(v/10)*nt,it={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=et*e,i=rt*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=v*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},ot={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},ut=Math.sqrt(3),at={draw:function(t,n){var e=-Math.sqrt(n/(3*ut));t.moveTo(0,2*e),t.lineTo(-ut*e,-e),t.lineTo(ut*e,-e),t.closePath()}},ct=Math.sqrt(3)/2,st=1/Math.sqrt(12),lt=3*(st/2+1),ft={draw:function(t,n){var e=Math.sqrt(n/lt),r=e/2,i=e*st,o=r,u=e*st+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-ct*i,ct*r+-.5*i),t.lineTo(-.5*o-ct*u,ct*o+-.5*u),t.lineTo(-.5*a-ct*c,ct*a+-.5*c),t.lineTo(-.5*r+ct*i,-.5*i-ct*r),t.lineTo(-.5*o+ct*u,-.5*u-ct*o),t.lineTo(-.5*a+ct*c,-.5*c-ct*a),t.closePath()}},ht=[K,Z,tt,ot,it,at,ft],dt=function(){var t=i(K),n=i(64),e=null;function o(){var i;if(e||(e=i=Object(r.a)()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),i)return e=null,i+""||null}return o.type=function(n){return arguments.length?(t="function"==typeof n?n:i(n),o):t},o.size=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),o):n},o.context=function(t){return arguments.length?(e=null==t?null:t,o):e},o},pt=function(){};function vt(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function gt(t){this._context=t}gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vt(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var yt=function(t){return new gt(t)};function mt(t){this._context=t}mt.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:vt(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var _t=function(t){return new mt(t)};function bt(t){this._context=t}bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:vt(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var xt=function(t){return new bt(t)};function wt(t,n){this._basis=new gt(t),this._beta=n}wt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Mt=function t(n){function e(t){return 1===n?new gt(t):new wt(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Ct(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function kt(t,n){this._context=t,this._k=(1-n)/6}kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ct(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ct(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var St=function t(n){function e(t){return new kt(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Tt(t,n){this._context=t,this._k=(1-n)/6}Tt.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ct(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var At=function t(n){function e(t){return new Tt(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Nt(t,n){this._context=t,this._k=(1-n)/6}Nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ct(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Lt=function t(n){function e(t){return new Nt(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Et(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>h){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>h){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/l,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function Ot(t,n){this._context=t,this._alpha=n}Ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Et(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Dt=function t(n){function e(t){return n?new Ot(t,n):new kt(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Pt(t,n){this._context=t,this._alpha=n}Pt.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Et(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var zt=function t(n){function e(t){return n?new Pt(t,n):new Tt(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Rt(t,n){this._context=t,this._alpha=n}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Et(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var It=function t(n){function e(t){return n?new Rt(t,n):new Nt(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Ft(t){this._context=t}Ft.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var jt=function(t){return new Ft(t)};function Wt(t){return t<0?-1:1}function Ht(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Wt(o)+Wt(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Bt(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Ut(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function qt(t){this._context=t}function Yt(t){this._context=new Gt(t)}function Gt(t){this._context=t}function Vt(t){return new qt(t)}function $t(t){return new Yt(t)}function Xt(t){this._context=t}function Kt(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ut(this,this._t0,Bt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Ut(this,Bt(this,e=Ht(this,t,n)),e);break;default:Ut(this,this._t0,e=Ht(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Yt.prototype=Object.create(qt.prototype)).point=function(t,n){qt.prototype.point.call(this,n,t)},Gt.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Kt(t),i=Kt(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Zt=function(t){return new Xt(t)};function Qt(t,n){this._context=t,this._t=n}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Jt=function(t){return new Qt(t,.5)};function tn(t){return new Qt(t,0)}function nn(t){return new Qt(t,1)}var en=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},rn=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e};function on(t,n){return t[n]}var un=function(){var t=i([]),n=rn,e=en,r=on;function o(i){var o,u,a=t.apply(this,arguments),c=i.length,s=a.length,l=new Array(s);for(o=0;o<s;++o){for(var f,h=a[o],d=l[o]=new Array(c),p=0;p<c;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(o=0,u=n(l);o<s;++o)l[u[o]].index=o;return e(l,u),l}return o.keys=function(n){return arguments.length?(t="function"==typeof n?n:i(W.call(n)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),o):r},o.order=function(t){return arguments.length?(n=null==t?rn:"function"==typeof t?t:i(W.call(t)),o):n},o.offset=function(t){return arguments.length?(e=null==t?en:t,o):e},o},an=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}en(t,n)}},cn=function(t,n){if((a=t.length)>0)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},sn=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}en(t,n)}},ln=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var l=t[n[a]],f=l[u][1]||0,h=(f-(l[u-1][1]||0))/2,d=0;d<a;++d){var p=t[n[d]];h+=(p[u][1]||0)-(p[u-1][1]||0)}c+=f,s+=h*f}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,en(t,n)}},fn=function(t){var n=t.map(hn);return rn(t).sort(function(t,e){return n[t]-n[e]})};function hn(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}var dn=function(t){var n=t.map(pn);return rn(t).sort(function(t,e){return n[t]-n[e]})};function pn(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}var vn=function(t){return dn(t).reverse()},gn=function(t){var n,e,r=t.length,i=t.map(pn),o=fn(t),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},yn=function(t){return rn(t).reverse()};e.d(n,"a",function(){return M}),e.d(n,"b",function(){return N}),e.d(n,"v",function(){return A}),e.d(n,"A",function(){return O}),e.d(n,"c",function(){return F}),e.d(n,"C",function(){return F}),e.d(n,"w",function(){return I}),e.d(n,"D",function(){return I}),e.d(n,"B",function(){return j}),e.d(n,"x",function(){return V}),e.d(n,"z",function(){return $}),e.d(n,"y",function(){return X}),e.d(n,"Q",function(){return dt}),e.d(n,"Y",function(){return ht}),e.d(n,"R",function(){return K}),e.d(n,"S",function(){return Z}),e.d(n,"T",function(){return tt}),e.d(n,"U",function(){return ot}),e.d(n,"V",function(){return it}),e.d(n,"W",function(){return at}),e.d(n,"X",function(){return ft}),e.d(n,"e",function(){return _t}),e.d(n,"f",function(){return xt}),e.d(n,"d",function(){return yt}),e.d(n,"g",function(){return Mt}),e.d(n,"i",function(){return At}),e.d(n,"j",function(){return Lt}),e.d(n,"h",function(){return St}),e.d(n,"l",function(){return zt}),e.d(n,"m",function(){return It}),e.d(n,"k",function(){return Dt}),e.d(n,"o",function(){return jt}),e.d(n,"n",function(){return k}),e.d(n,"p",function(){return Vt}),e.d(n,"q",function(){return $t}),e.d(n,"r",function(){return Zt}),e.d(n,"s",function(){return Jt}),e.d(n,"t",function(){return nn}),e.d(n,"u",function(){return tn}),e.d(n,"E",function(){return un}),e.d(n,"G",function(){return an}),e.d(n,"F",function(){return cn}),e.d(n,"H",function(){return en}),e.d(n,"I",function(){return sn}),e.d(n,"J",function(){return ln}),e.d(n,"K",function(){return fn}),e.d(n,"L",function(){return dn}),e.d(n,"M",function(){return vn}),e.d(n,"N",function(){return gn}),e.d(n,"O",function(){return rn}),e.d(n,"P",function(){return yn})},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";var r=e(2);t.exports=a;var i="\0",o="\0",u="";function a(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function c(t,n){t[n]?t[n]++:t[n]=1}function s(t,n){--t[n]||delete t[n]}function l(t,n,e,o){var a=""+n,c=""+e;if(!t&&a>c){var s=a;a=c,c=s}return a+u+c+u+(r.isUndefined(o)?i:o)}function f(t,n){return l(t,n.v,n.w,n.name)}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(t){return this._label=t,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return r.keys(this._nodes)},a.prototype.sources=function(){return r.filter(this.nodes(),function(t){return r.isEmpty(this._in[t])},this)},a.prototype.sinks=function(){return r.filter(this.nodes(),function(t){return r.isEmpty(this._out[t])},this)},a.prototype.setNodes=function(t,n){var e=arguments;return r.each(t,function(t){e.length>1?this.setNode(t,n):this.setNode(t)},this),this},a.prototype.setNode=function(t,n){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=n),this):(this._nodes[t]=arguments.length>1?n:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},a.prototype.node=function(t){return this._nodes[t]},a.prototype.hasNode=function(t){return r.has(this._nodes,t)},a.prototype.removeNode=function(t){var n=this;if(r.has(this._nodes,t)){var e=function(t){n.removeEdge(n._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),function(t){this.setParent(t)},this),delete this._children[t]),r.each(r.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},a.prototype.setParent=function(t,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(n))n=o;else{for(var e=n+="";!r.isUndefined(e);e=this.parent(e))if(e===t)throw new Error("Setting "+n+" as parent of "+t+" would create create a cycle");this.setNode(n)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=n,this._children[n][t]=!0,this},a.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},a.prototype.parent=function(t){if(this._isCompound){var n=this._parent[t];if(n!==o)return n}},a.prototype.children=function(t){if(r.isUndefined(t)&&(t=o),this._isCompound){var n=this._children[t];if(n)return r.keys(n)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},a.prototype.predecessors=function(t){var n=this._preds[t];if(n)return r.keys(n)},a.prototype.successors=function(t){var n=this._sucs[t];if(n)return r.keys(n)},a.prototype.neighbors=function(t){var n=this.predecessors(t);if(n)return r.union(n,this.successors(t))},a.prototype.filterNodes=function(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph()),r.each(this._nodes,function(e,r){t(r)&&n.setNode(r,e)},this),r.each(this._edgeObjs,function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,this.edge(t))},this);var e=this,i={};return this._isCompound&&r.each(n.nodes(),function(t){n.setParent(t,function t(r){var o=e.parent(r);return void 0===o||n.hasNode(o)?(i[r]=o,o):o in i?i[o]:t(o)}(t))}),n},a.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return r.values(this._edgeObjs)},a.prototype.setPath=function(t,n){var e=this,i=arguments;return r.reduce(t,function(t,r){return i.length>1?e.setEdge(t,r,n):e.setEdge(t,r),r}),this},a.prototype.setEdge=function(){var t,n,e,i,o=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(t=u.v,n=u.w,e=u.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=u,n=arguments[1],e=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,n=""+n,r.isUndefined(e)||(e=""+e);var a=l(this._isDirected,t,n,e);if(r.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=i),this;if(!r.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[a]=o?i:this._defaultEdgeLabelFn(t,n,e);var s=function(t,n,e,r){var i=""+n,o=""+e;if(!t&&i>o){var u=i;i=o,o=u}var a={v:i,w:o};r&&(a.name=r);return a}(this._isDirected,t,n,e);return t=s.v,n=s.w,Object.freeze(s),this._edgeObjs[a]=s,c(this._preds[n],t),c(this._sucs[t],n),this._in[n][a]=s,this._out[t][a]=s,this._edgeCount++,this},a.prototype.edge=function(t,n,e){var r=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,t,n,e);return this._edgeLabels[r]},a.prototype.hasEdge=function(t,n,e){var i=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,t,n,e);return r.has(this._edgeLabels,i)},a.prototype.removeEdge=function(t,n,e){var r=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,t,n,e),i=this._edgeObjs[r];return i&&(t=i.v,n=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[n],t),s(this._sucs[t],n),delete this._in[n][r],delete this._out[t][r],this._edgeCount--),this},a.prototype.inEdges=function(t,n){var e=this._in[t];if(e){var i=r.values(e);return n?r.filter(i,function(t){return t.v===n}):i}},a.prototype.outEdges=function(t,n){var e=this._out[t];if(e){var i=r.values(e);return n?r.filter(i,function(t){return t.w===n}):i}},a.prototype.nodeEdges=function(t,n){var e=this.inEdges(t,n);if(e)return e.concat(this.outEdges(t,n))}},function(t,n,e){t.exports=function(){"use strict";var t=navigator.userAgent,n=navigator.platform,e=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),u=r||i||o,a=u&&(r?document.documentMode||6:+(o||i)[1]),c=!o&&/WebKit\//.test(t),s=c&&/Qt\/\d+\.\d+/.test(t),l=!o&&/Chrome\//.test(t),f=/Opera\//.test(t),h=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),v=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),g=/Android/.test(t),y=v||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),m=v||/Mac/.test(n),_=/\bCrOS\b/.test(t),b=/win/i.test(n),x=f&&t.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(f=!1,c=!0);var w=m&&(s||f&&(null==x||x<12.11)),M=e||u&&a>=9;function C(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var k,S=function(t,n){var e=t.className,r=C(n).exec(e);if(r){var i=e.slice(r.index+r[0].length);t.className=e.slice(0,r.index)+(i?r[1]+i:"")}};function T(t){for(var n=t.childNodes.length;n>0;--n)t.removeChild(t.firstChild);return t}function A(t,n){return T(t).appendChild(n)}function N(t,n,e,r){var i=document.createElement(t);if(e&&(i.className=e),r&&(i.style.cssText=r),"string"==typeof n)i.appendChild(document.createTextNode(n));else if(n)for(var o=0;o<n.length;++o)i.appendChild(n[o]);return i}function L(t,n,e,r){var i=N(t,n,e,r);return i.setAttribute("role","presentation"),i}function E(t,n){if(3==n.nodeType&&(n=n.parentNode),t.contains)return t.contains(n);do{if(11==n.nodeType&&(n=n.host),n==t)return!0}while(n=n.parentNode)}function O(){var t;try{t=document.activeElement}catch(n){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function D(t,n){var e=t.className;C(n).test(e)||(t.className+=(e?" ":"")+n)}function P(t,n){for(var e=t.split(" "),r=0;r<e.length;r++)e[r]&&!C(e[r]).test(n)&&(n+=" "+e[r]);return n}k=document.createRange?function(t,n,e,r){var i=document.createRange();return i.setEnd(r||t,e),i.setStart(t,n),i}:function(t,n,e){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",n),r};var z=function(t){t.select()};function R(t){var n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,n)}}function I(t,n,e){for(var r in n||(n={}),t)!t.hasOwnProperty(r)||!1===e&&n.hasOwnProperty(r)||(n[r]=t[r]);return n}function F(t,n,e,r,i){null==n&&-1==(n=t.search(/[^\s\u00a0]/))&&(n=t.length);for(var o=r||0,u=i||0;;){var a=t.indexOf("\t",o);if(a<0||a>=n)return u+(n-o);u+=a-o,u+=e-u%e,o=a+1}}v?z=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:u&&(z=function(t){try{t.select()}catch(t){}});var j=function(){this.id=null};function W(t,n){for(var e=0;e<t.length;++e)if(t[e]==n)return e;return-1}j.prototype.set=function(t,n){clearTimeout(this.id),this.id=setTimeout(n,t)};var H=30,B={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},q={origin:"*mouse"},Y={origin:"+move"};function G(t,n,e){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var u=o-r;if(o==t.length||i+u>=n)return r+Math.min(u,n-i);if(i+=o-r,r=o+1,(i+=e-i%e)>=n)return r}}var V=[""];function $(t){for(;V.length<=t;)V.push(X(V)+" ");return V[t]}function X(t){return t[t.length-1]}function K(t,n){for(var e=[],r=0;r<t.length;r++)e[r]=n(t[r],r);return e}function Z(){}function Q(t,n){var e;return Object.create?e=Object.create(t):(Z.prototype=t,e=new Z),n&&I(n,e),e}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||J.test(t))}function nt(t,n){return n?!!(n.source.indexOf("\\w")>-1&&tt(t))||n.test(t):tt(t)}function et(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n])return!1;return!0}var rt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function it(t){return t.charCodeAt(0)>=768&&rt.test(t)}function ot(t,n,e){for(;(e<0?n>0:n<t.length)&&it(t.charAt(n));)n+=e;return n}function ut(t,n,e){for(var r=n>e?-1:1;;){if(n==e)return n;var i=(n+e)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==n)return t(o)?n:e;t(o)?e=o:n=o+r}}var at=null;function ct(t,n,e){var r;at=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<n&&o.to>n)return i;o.to==n&&(o.from!=o.to&&"before"==e?r=i:at=i),o.from==n&&(o.from!=o.to&&"before"!=e?r=i:at=i)}return null!=r?r:at}var st=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,u=/[1n]/;function a(t,n,e){this.level=t,this.from=n,this.to=e}return function(c,s){var l,f="ltr"==s?"L":"R";if(0==c.length||"ltr"==s&&!e.test(c))return!1;for(var h=c.length,d=[],p=0;p<h;++p)d.push((l=c.charCodeAt(p))<=247?t.charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?n.charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var v=0,g=f;v<h;++v){var y=d[v];"m"==y?d[v]=g:g=y}for(var m=0,_=f;m<h;++m){var b=d[m];"1"==b&&"r"==_?d[m]="n":i.test(b)&&(_=b,"r"==b&&(d[m]="R"))}for(var x=1,w=d[0];x<h-1;++x){var M=d[x];"+"==M&&"1"==w&&"1"==d[x+1]?d[x]="1":","!=M||w!=d[x+1]||"1"!=w&&"n"!=w||(d[x]=w),w=M}for(var C=0;C<h;++C){var k=d[C];if(","==k)d[C]="N";else if("%"==k){var S=void 0;for(S=C+1;S<h&&"%"==d[S];++S);for(var T=C&&"!"==d[C-1]||S<h&&"1"==d[S]?"1":"N",A=C;A<S;++A)d[A]=T;C=S-1}}for(var N=0,L=f;N<h;++N){var E=d[N];"L"==L&&"1"==E?d[N]="L":i.test(E)&&(L=E)}for(var O=0;O<h;++O)if(r.test(d[O])){var D=void 0;for(D=O+1;D<h&&r.test(d[D]);++D);for(var P="L"==(O?d[O-1]:f),z="L"==(D<h?d[D]:f),R=P==z?P?"L":"R":f,I=O;I<D;++I)d[I]=R;O=D-1}for(var F,j=[],W=0;W<h;)if(o.test(d[W])){var H=W;for(++W;W<h&&o.test(d[W]);++W);j.push(new a(0,H,W))}else{var B=W,U=j.length;for(++W;W<h&&"L"!=d[W];++W);for(var q=B;q<W;)if(u.test(d[q])){B<q&&j.splice(U,0,new a(1,B,q));var Y=q;for(++q;q<W&&u.test(d[q]);++q);j.splice(U,0,new a(2,Y,q)),B=q}else++q;B<W&&j.splice(U,0,new a(1,B,W))}return"ltr"==s&&(1==j[0].level&&(F=c.match(/^\s+/))&&(j[0].from=F[0].length,j.unshift(new a(0,0,F[0].length))),1==X(j).level&&(F=c.match(/\s+$/))&&(X(j).to-=F[0].length,j.push(new a(0,h-F[0].length,h)))),"rtl"==s?j.reverse():j}}();function lt(t,n){var e=t.order;return null==e&&(e=t.order=st(t.text,n)),e}var ft=[],ht=function(t,n,e){if(t.addEventListener)t.addEventListener(n,e,!1);else if(t.attachEvent)t.attachEvent("on"+n,e);else{var r=t._handlers||(t._handlers={});r[n]=(r[n]||ft).concat(e)}};function dt(t,n){return t._handlers&&t._handlers[n]||ft}function pt(t,n,e){if(t.removeEventListener)t.removeEventListener(n,e,!1);else if(t.detachEvent)t.detachEvent("on"+n,e);else{var r=t._handlers,i=r&&r[n];if(i){var o=W(i,e);o>-1&&(r[n]=i.slice(0,o).concat(i.slice(o+1)))}}}function vt(t,n){var e=dt(t,n);if(e.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<e.length;++i)e[i].apply(null,r)}function gt(t,n,e){return"string"==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),vt(t,e||n.type,t,n),wt(n)||n.codemirrorIgnore}function yt(t){var n=t._handlers&&t._handlers.cursorActivity;if(n)for(var e=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<n.length;++r)-1==W(e,n[r])&&e.push(n[r])}function mt(t,n){return dt(t,n).length>0}function _t(t){t.prototype.on=function(t,n){ht(this,t,n)},t.prototype.off=function(t,n){pt(this,t,n)}}function bt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function xt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function wt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Mt(t){bt(t),xt(t)}function Ct(t){return t.target||t.srcElement}function kt(t){var n=t.which;return null==n&&(1&t.button?n=1:2&t.button?n=3:4&t.button&&(n=2)),m&&t.ctrlKey&&1==n&&(n=3),n}var St,Tt,At=function(){if(u&&a<9)return!1;var t=N("div");return"draggable"in t||"dragDrop"in t}();function Nt(t){if(null==St){var n=N("span","​");A(t,N("span",[n,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(St=n.offsetWidth<=1&&n.offsetHeight>2&&!(u&&a<8))}var e=St?N("span","​"):N("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return e.setAttribute("cm-text",""),e}function Lt(t){if(null!=Tt)return Tt;var n=A(t,document.createTextNode("AخA")),e=k(n,0,1).getBoundingClientRect(),r=k(n,1,2).getBoundingClientRect();return T(t),!(!e||e.left==e.right)&&(Tt=r.right-e.right<3)}var Et,Ot=3!="\n\nb".split(/\n/).length?function(t){for(var n=0,e=[],r=t.length;n<=r;){var i=t.indexOf("\n",n);-1==i&&(i=t.length);var o=t.slice(n,"\r"==t.charAt(i-1)?i-1:i),u=o.indexOf("\r");-1!=u?(e.push(o.slice(0,u)),n+=u+1):(e.push(o),n=i+1)}return e}:function(t){return t.split(/\r\n?|\n/)},Dt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var n;try{n=t.ownerDocument.selection.createRange()}catch(t){}return!(!n||n.parentElement()!=t)&&0!=n.compareEndPoints("StartToEnd",n)},Pt="oncopy"in(Et=N("div"))||(Et.setAttribute("oncopy","return;"),"function"==typeof Et.oncopy),zt=null,Rt={},It={};function Ft(t){if("string"==typeof t&&It.hasOwnProperty(t))t=It[t];else if(t&&"string"==typeof t.name&&It.hasOwnProperty(t.name)){var n=It[t.name];"string"==typeof n&&(n={name:n}),(t=Q(n,t)).name=n.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ft("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ft("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function jt(t,n){n=Ft(n);var e=Rt[n.name];if(!e)return jt(t,"text/plain");var r=e(t,n);if(Wt.hasOwnProperty(n.name)){var i=Wt[n.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var u in n.modeProps)r[u]=n.modeProps[u];return r}var Wt={};function Ht(t,n){var e=Wt.hasOwnProperty(t)?Wt[t]:Wt[t]={};I(n,e)}function Bt(t,n){if(!0===n)return n;if(t.copyState)return t.copyState(n);var e={};for(var r in n){var i=n[r];i instanceof Array&&(i=i.concat([])),e[r]=i}return e}function Ut(t,n){for(var e;t.innerMode&&(e=t.innerMode(n))&&e.mode!=t;)n=e.state,t=e.mode;return e||{mode:t,state:n}}function qt(t,n,e){return!t.startState||t.startState(n,e)}var Yt=function(t,n,e){this.pos=this.start=0,this.string=t,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=e};function Gt(t,n){if((n-=t.first)<0||n>=t.size)throw new Error("There is no line "+(n+t.first)+" in the document.");for(var e=t;!e.lines;)for(var r=0;;++r){var i=e.children[r],o=i.chunkSize();if(n<o){e=i;break}n-=o}return e.lines[n]}function Vt(t,n,e){var r=[],i=n.line;return t.iter(n.line,e.line+1,function(t){var o=t.text;i==e.line&&(o=o.slice(0,e.ch)),i==n.line&&(o=o.slice(n.ch)),r.push(o),++i}),r}function $t(t,n,e){var r=[];return t.iter(n,e,function(t){r.push(t.text)}),r}function Xt(t,n){var e=n-t.height;if(e)for(var r=t;r;r=r.parent)r.height+=e}function Kt(t){if(null==t.parent)return null;for(var n=t.parent,e=W(n.lines,t),r=n.parent;r;n=r,r=r.parent)for(var i=0;r.children[i]!=n;++i)e+=r.children[i].chunkSize();return e+n.first}function Zt(t,n){var e=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(n<o){t=i;continue t}n-=o,e+=i.chunkSize()}return e}while(!t.lines);for(var u=0;u<t.lines.length;++u){var a=t.lines[u],c=a.height;if(n<c)break;n-=c}return e+u}function Qt(t,n){return n>=t.first&&n<t.first+t.size}function Jt(t,n){return String(t.lineNumberFormatter(n+t.firstLineNumber))}function tn(t,n,e){if(void 0===e&&(e=null),!(this instanceof tn))return new tn(t,n,e);this.line=t,this.ch=n,this.sticky=e}function nn(t,n){return t.line-n.line||t.ch-n.ch}function en(t,n){return t.sticky==n.sticky&&0==nn(t,n)}function rn(t){return tn(t.line,t.ch)}function on(t,n){return nn(t,n)<0?n:t}function un(t,n){return nn(t,n)<0?t:n}function an(t,n){return Math.max(t.first,Math.min(n,t.first+t.size-1))}function cn(t,n){if(n.line<t.first)return tn(t.first,0);var e=t.first+t.size-1;return n.line>e?tn(e,Gt(t,e).text.length):function(t,n){var e=t.ch;return null==e||e>n?tn(t.line,n):e<0?tn(t.line,0):t}(n,Gt(t,n.line).text.length)}function sn(t,n){for(var e=[],r=0;r<n.length;r++)e[r]=cn(t,n[r]);return e}Yt.prototype.eol=function(){return this.pos>=this.string.length},Yt.prototype.sol=function(){return this.pos==this.lineStart},Yt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Yt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Yt.prototype.eat=function(t){var n=this.string.charAt(this.pos);if("string"==typeof t?n==t:n&&(t.test?t.test(n):t(n)))return++this.pos,n},Yt.prototype.eatWhile=function(t){for(var n=this.pos;this.eat(t););return this.pos>n},Yt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Yt.prototype.skipToEnd=function(){this.pos=this.string.length},Yt.prototype.skipTo=function(t){var n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0},Yt.prototype.backUp=function(t){this.pos-=t},Yt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Yt.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Yt.prototype.match=function(t,n,e){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==n&&(this.pos+=r[0].length),r)}var i=function(t){return e?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return!1!==n&&(this.pos+=t.length),!0},Yt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Yt.prototype.hideFirstChars=function(t,n){this.lineStart+=t;try{return n()}finally{this.lineStart-=t}},Yt.prototype.lookAhead=function(t){var n=this.lineOracle;return n&&n.lookAhead(t)},Yt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ln=function(t,n){this.state=t,this.lookAhead=n},fn=function(t,n,e,r){this.state=n,this.doc=t,this.line=e,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function hn(t,n,e,r){var i=[t.state.modeGen],o={};xn(t,n.text,t.doc.mode,e,function(t,n){return i.push(t,n)},o,r);for(var u=e.state,a=function(r){e.baseTokens=i;var a=t.state.overlays[r],c=1,s=0;e.state=!0,xn(t,n.text,a.mode,e,function(t,n){for(var e=c;s<t;){var r=i[c];r>t&&i.splice(c,1,t,i[c+1],r),c+=2,s=Math.min(t,r)}if(n)if(a.opaque)i.splice(e,c-e,t,"overlay "+n),c=e+2;else for(;e<c;e+=2){var o=i[e+1];i[e+1]=(o?o+" ":"")+"overlay "+n}},o),e.state=u,e.baseTokens=null,e.baseTokenPos=1},c=0;c<t.state.overlays.length;++c)a(c);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function dn(t,n,e){if(!n.styles||n.styles[0]!=t.state.modeGen){var r=pn(t,Kt(n)),i=n.text.length>t.options.maxHighlightLength&&Bt(t.doc.mode,r.state),o=hn(t,n,r);i&&(r.state=i),n.stateAfter=r.save(!i),n.styles=o.styles,o.classes?n.styleClasses=o.classes:n.styleClasses&&(n.styleClasses=null),e===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return n.styles}function pn(t,n,e){var r=t.doc,i=t.display;if(!r.mode.startState)return new fn(r,!0,n);var o=function(t,n,e){for(var r,i,o=t.doc,u=e?-1:n-(t.doc.mode.innerMode?1e3:100),a=n;a>u;--a){if(a<=o.first)return o.first;var c=Gt(o,a-1),s=c.stateAfter;if(s&&(!e||a+(s instanceof ln?s.lookAhead:0)<=o.modeFrontier))return a;var l=F(c.text,null,t.options.tabSize);(null==i||r>l)&&(i=a-1,r=l)}return i}(t,n,e),u=o>r.first&&Gt(r,o-1).stateAfter,a=u?fn.fromSaved(r,u,o):new fn(r,qt(r.mode),o);return r.iter(o,n,function(e){vn(t,e.text,a);var r=a.line;e.stateAfter=r==n-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()}),e&&(r.modeFrontier=a.line),a}function vn(t,n,e,r){var i=t.doc.mode,o=new Yt(n,t.options.tabSize,e);for(o.start=o.pos=r||0,""==n&&gn(i,e.state);!o.eol();)yn(i,o,e.state),o.start=o.pos}function gn(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var e=Ut(t,n);return e.mode.blankLine?e.mode.blankLine(e.state):void 0}}function yn(t,n,e,r){for(var i=0;i<10;i++){r&&(r[0]=Ut(t,e).mode);var o=t.token(n,e);if(n.pos>n.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}fn.prototype.lookAhead=function(t){var n=this.doc.getLine(this.line+t);return null!=n&&t>this.maxLookAhead&&(this.maxLookAhead=t),n},fn.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},fn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},fn.fromSaved=function(t,n,e){return n instanceof ln?new fn(t,Bt(t.mode,n.state),e,n.lookAhead):new fn(t,Bt(t.mode,n),e)},fn.prototype.save=function(t){var n=!1!==t?Bt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ln(n,this.maxLookAhead):n};var mn=function(t,n,e){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=n||null,this.state=e};function _n(t,n,e,r){var i,o=t.doc,u=o.mode;n=cn(o,n);var a,c=Gt(o,n.line),s=pn(t,n.line,e),l=new Yt(c.text,t.options.tabSize,s);for(r&&(a=[]);(r||l.pos<n.ch)&&!l.eol();)l.start=l.pos,i=yn(u,l,s.state),r&&a.push(new mn(l,i,Bt(o.mode,s.state)));return r?a:new mn(l,i,s.state)}function bn(t,n){if(t)for(;;){var e=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!e)break;t=t.slice(0,e.index)+t.slice(e.index+e[0].length);var r=e[1]?"bgClass":"textClass";null==n[r]?n[r]=e[2]:new RegExp("(?:^|s)"+e[2]+"(?:$|s)").test(n[r])||(n[r]+=" "+e[2])}return t}function xn(t,n,e,r,i,o,u){var a=e.flattenSpans;null==a&&(a=t.options.flattenSpans);var c,s=0,l=null,f=new Yt(n,t.options.tabSize,r),h=t.options.addModeClass&&[null];for(""==n&&bn(gn(e,r.state),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(a=!1,u&&vn(t,n,r,f.pos),f.pos=n.length,c=null):c=bn(yn(e,f,r.state,h),o),h){var d=h[0].name;d&&(c="m-"+(c?d+" "+c:d))}if(!a||l!=c){for(;s<f.start;)s=Math.min(f.start,s+5e3),i(s,l);l=c}f.start=f.pos}for(;s<f.pos;){var p=Math.min(f.pos,s+5e3);i(p,l),s=p}}var wn=!1,Mn=!1;function Cn(t,n,e){this.marker=t,this.from=n,this.to=e}function kn(t,n){if(t)for(var e=0;e<t.length;++e){var r=t[e];if(r.marker==n)return r}}function Sn(t,n){for(var e,r=0;r<t.length;++r)t[r]!=n&&(e||(e=[])).push(t[r]);return e}function Tn(t,n){if(n.full)return null;var e=Qt(t,n.from.line)&&Gt(t,n.from.line).markedSpans,r=Qt(t,n.to.line)&&Gt(t,n.to.line).markedSpans;if(!e&&!r)return null;var i=n.from.ch,o=n.to.ch,u=0==nn(n.from,n.to),a=function(t,n,e){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],u=o.marker,a=null==o.from||(u.inclusiveLeft?o.from<=n:o.from<n);if(a||o.from==n&&"bookmark"==u.type&&(!e||!o.marker.insertLeft)){var c=null==o.to||(u.inclusiveRight?o.to>=n:o.to>n);(r||(r=[])).push(new Cn(u,o.from,c?null:o.to))}}return r}(e,i,u),c=function(t,n,e){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],u=o.marker,a=null==o.to||(u.inclusiveRight?o.to>=n:o.to>n);if(a||o.from==n&&"bookmark"==u.type&&(!e||o.marker.insertLeft)){var c=null==o.from||(u.inclusiveLeft?o.from<=n:o.from<n);(r||(r=[])).push(new Cn(u,c?null:o.from-n,null==o.to?null:o.to-n))}}return r}(r,o,u),s=1==n.text.length,l=X(n.text).length+(s?i:0);if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null==h.to){var d=kn(c,h.marker);d?s&&(h.to=null==d.to?null:d.to+l):h.to=i}}if(c)for(var p=0;p<c.length;++p){var v=c[p];if(null!=v.to&&(v.to+=l),null==v.from){var g=kn(a,v.marker);g||(v.from=l,s&&(a||(a=[])).push(v))}else v.from+=l,s&&(a||(a=[])).push(v)}a&&(a=An(a)),c&&c!=a&&(c=An(c));var y=[a];if(!s){var m,_=n.text.length-2;if(_>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(m||(m=[])).push(new Cn(a[b].marker,null,null));for(var x=0;x<_;++x)y.push(m);y.push(c)}return y}function An(t){for(var n=0;n<t.length;++n){var e=t[n];null!=e.from&&e.from==e.to&&!1!==e.marker.clearWhenEmpty&&t.splice(n--,1)}return t.length?t:null}function Nn(t){var n=t.markedSpans;if(n){for(var e=0;e<n.length;++e)n[e].marker.detachLine(t);t.markedSpans=null}}function Ln(t,n){if(n){for(var e=0;e<n.length;++e)n[e].marker.attachLine(t);t.markedSpans=n}}function En(t){return t.inclusiveLeft?-1:0}function On(t){return t.inclusiveRight?1:0}function Dn(t,n){var e=t.lines.length-n.lines.length;if(0!=e)return e;var r=t.find(),i=n.find(),o=nn(r.from,i.from)||En(t)-En(n);if(o)return-o;var u=nn(r.to,i.to)||On(t)-On(n);return u||n.id-t.id}function Pn(t,n){var e,r=Mn&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(n?i.from:i.to)&&(!e||Dn(e,i.marker)<0)&&(e=i.marker);return e}function zn(t){return Pn(t,!0)}function Rn(t){return Pn(t,!1)}function In(t,n){var e,r=Mn&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<n)&&(null==o.to||o.to>n)&&(!e||Dn(e,o.marker)<0)&&(e=o.marker)}return e}function Fn(t,n,e,r,i){var o=Gt(t,n),u=Mn&&o.markedSpans;if(u)for(var a=0;a<u.length;++a){var c=u[a];if(c.marker.collapsed){var s=c.marker.find(0),l=nn(s.from,e)||En(c.marker)-En(i),f=nn(s.to,r)||On(c.marker)-On(i);if(!(l>=0&&f<=0||l<=0&&f>=0)&&(l<=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?nn(s.to,e)>=0:nn(s.to,e)>0)||l>=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?nn(s.from,r)<=0:nn(s.from,r)<0)))return!0}}}function jn(t){for(var n;n=zn(t);)t=n.find(-1,!0).line;return t}function Wn(t,n){var e=Gt(t,n),r=jn(e);return e==r?n:Kt(r)}function Hn(t,n){if(n>t.lastLine())return n;var e,r=Gt(t,n);if(!Bn(t,r))return n;for(;e=Rn(r);)r=e.find(1,!0).line;return Kt(r)+1}function Bn(t,n){var e=Mn&&n.markedSpans;if(e)for(var r=void 0,i=0;i<e.length;++i)if((r=e[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Un(t,n,r))return!0}}function Un(t,n,e){if(null==e.to){var r=e.marker.find(1,!0);return Un(t,r.line,kn(r.line.markedSpans,e.marker))}if(e.marker.inclusiveRight&&e.to==n.text.length)return!0;for(var i=void 0,o=0;o<n.markedSpans.length;++o)if((i=n.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==e.to&&(null==i.to||i.to!=e.from)&&(i.marker.inclusiveLeft||e.marker.inclusiveRight)&&Un(t,n,i))return!0}function qn(t){t=jn(t);for(var n=0,e=t.parent,r=0;r<e.lines.length;++r){var i=e.lines[r];if(i==t)break;n+=i.height}for(var o=e.parent;o;o=(e=o).parent)for(var u=0;u<o.children.length;++u){var a=o.children[u];if(a==e)break;n+=a.height}return n}function Yn(t){if(0==t.height)return 0;for(var n,e=t.text.length,r=t;n=zn(r);){var i=n.find(0,!0);r=i.from.line,e+=i.from.ch-i.to.ch}for(r=t;n=Rn(r);){var o=n.find(0,!0);e-=r.text.length-o.from.ch,r=o.to.line,e+=r.text.length-o.to.ch}return e}function Gn(t){var n=t.display,e=t.doc;n.maxLine=Gt(e,e.first),n.maxLineLength=Yn(n.maxLine),n.maxLineChanged=!0,e.iter(function(t){var e=Yn(t);e>n.maxLineLength&&(n.maxLineLength=e,n.maxLine=t)})}var Vn=function(t,n,e){this.text=t,Ln(this,n),this.height=e?e(this):1};function $n(t){t.parent=null,Nn(t)}Vn.prototype.lineNo=function(){return Kt(this)},_t(Vn);var Xn={},Kn={};function Zn(t,n){if(!t||/^\s*$/.test(t))return null;var e=n.addModeClass?Kn:Xn;return e[t]||(e[t]=t.replace(/\S+/g,"cm-$&"))}function Qn(t,n){var e=L("span",null,null,c?"padding-right: .1px":null),r={pre:L("pre",[e],"CodeMirror-line"),content:e,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};n.measure={};for(var i=0;i<=(n.rest?n.rest.length:0);i++){var o=i?n.rest[i-1]:n.line,u=void 0;r.pos=0,r.addToken=te,Lt(t.display.measure)&&(u=lt(o,t.doc.direction))&&(r.addToken=ne(r.addToken,u)),r.map=[];var a=n!=t.display.externalMeasured&&Kt(o);re(o,r,dn(t,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=P(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=P(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Nt(t.display.measure))),0==i?(n.measure.map=r.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(r.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(c){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return vt(t,"renderLine",t,n.line,r.pre),r.pre.className&&(r.textClass=P(r.pre.className,r.textClass||"")),r}function Jn(t){var n=N("span","•","cm-invalidchar");return n.title="\\u"+t.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function te(t,n,e,r,i,o,c){if(n){var s,l=t.splitSpaces?function(t,n){if(t.length>1&&!/  /.test(t))return t;for(var e=n,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!e||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),r+=o,e=" "==o}return r}(n,t.trailingSpace):n,f=t.cm.state.specialChars,h=!1;if(f.test(n)){s=document.createDocumentFragment();for(var d=0;;){f.lastIndex=d;var p=f.exec(n),v=p?p.index-d:n.length-d;if(v){var g=document.createTextNode(l.slice(d,d+v));u&&a<9?s.appendChild(N("span",[g])):s.appendChild(g),t.map.push(t.pos,t.pos+v,g),t.col+=v,t.pos+=v}if(!p)break;d+=v+1;var y=void 0;if("\t"==p[0]){var m=t.cm.options.tabSize,_=m-t.col%m;(y=s.appendChild(N("span",$(_),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),t.col+=_}else"\r"==p[0]||"\n"==p[0]?((y=s.appendChild(N("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((y=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),u&&a<9?s.appendChild(N("span",[y])):s.appendChild(y),t.col+=1);t.map.push(t.pos,t.pos+1,y),t.pos++}}else t.col+=n.length,s=document.createTextNode(l),t.map.push(t.pos,t.pos+n.length,s),u&&a<9&&(h=!0),t.pos+=n.length;if(t.trailingSpace=32==l.charCodeAt(n.length-1),e||r||i||h||o){var b=e||"";r&&(b+=r),i&&(b+=i);var x=N("span",[s],b,o);if(c)for(var w in c)c.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&x.setAttribute(w,c[w]);return t.content.appendChild(x)}t.content.appendChild(s)}}function ne(t,n){return function(e,r,i,o,u,a,c){i=i?i+" cm-force-border":"cm-force-border";for(var s=e.pos,l=s+r.length;;){for(var f=void 0,h=0;h<n.length&&!((f=n[h]).to>s&&f.from<=s);h++);if(f.to>=l)return t(e,r,i,o,u,a,c);t(e,r.slice(0,f.to-s),i,o,null,a,c),o=null,r=r.slice(f.to-s),s=f.to}}}function ee(t,n,e,r){var i=!r&&e.widgetNode;i&&t.map.push(t.pos,t.pos+n,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",e.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=n,t.trailingSpace=!1}function re(t,n,e){var r=t.markedSpans,i=t.text,o=0;if(r)for(var u,a,c,s,l,f,h,d=i.length,p=0,v=1,g="",y=0;;){if(y==p){c=s=l=a="",h=null,f=null,y=1/0;for(var m=[],_=void 0,b=0;b<r.length;++b){var x=r[b],w=x.marker;if("bookmark"==w.type&&x.from==p&&w.widgetNode)m.push(w);else if(x.from<=p&&(null==x.to||x.to>p||w.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&y>x.to&&(y=x.to,s=""),w.className&&(c+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&x.from==p&&(l+=" "+w.startStyle),w.endStyle&&x.to==y&&(_||(_=[])).push(w.endStyle,x.to),w.title&&((h||(h={})).title=w.title),w.attributes)for(var M in w.attributes)(h||(h={}))[M]=w.attributes[M];w.collapsed&&(!f||Dn(f.marker,w)<0)&&(f=x)}else x.from>p&&y>x.from&&(y=x.from)}if(_)for(var C=0;C<_.length;C+=2)_[C+1]==y&&(s+=" "+_[C]);if(!f||f.from==p)for(var k=0;k<m.length;++k)ee(n,0,m[k]);if(f&&(f.from||0)==p){if(ee(n,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var S=Math.min(d,y);;){if(g){var T=p+g.length;if(!f){var A=T>S?g.slice(0,S-p):g;n.addToken(n,A,u?u+c:c,l,p+A.length==y?s:"",a,h)}if(T>=S){g=g.slice(S-p),p=S;break}p=T,l=""}g=i.slice(o,o=e[v++]),u=Zn(e[v++],n.cm.options)}}else for(var N=1;N<e.length;N+=2)n.addToken(n,i.slice(o,o=e[N]),Zn(e[N+1],n.cm.options))}function ie(t,n,e){this.line=n,this.rest=function(t){for(var n,e;n=Rn(t);)t=n.find(1,!0).line,(e||(e=[])).push(t);return e}(n),this.size=this.rest?Kt(X(this.rest))-e+1:1,this.node=this.text=null,this.hidden=Bn(t,n)}function oe(t,n,e){for(var r,i=[],o=n;o<e;o=r){var u=new ie(t.doc,Gt(t.doc,o),o);r=o+u.size,i.push(u)}return i}var ue=null,ae=null;function ce(t,n){var e=dt(t,n);if(e.length){var r,i=Array.prototype.slice.call(arguments,2);ue?r=ue.delayedCallbacks:ae?r=ae:(r=ae=[],setTimeout(se,0));for(var o=function(t){r.push(function(){return e[t].apply(null,i)})},u=0;u<e.length;++u)o(u)}}function se(){var t=ae;ae=null;for(var n=0;n<t.length;++n)t[n]()}function le(t,n,e,r){for(var i=0;i<n.changes.length;i++){var o=n.changes[i];"text"==o?de(t,n):"gutter"==o?ve(t,n,e,r):"class"==o?pe(t,n):"widget"==o&&ge(t,n,r)}n.changes=null}function fe(t){return t.node==t.text&&(t.node=N("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),u&&a<8&&(t.node.style.zIndex=2)),t.node}function he(t,n){var e=t.display.externalMeasured;return e&&e.line==n.line?(t.display.externalMeasured=null,n.measure=e.measure,e.built):Qn(t,n)}function de(t,n){var e=n.text.className,r=he(t,n);n.text==n.node&&(n.node=r.pre),n.text.parentNode.replaceChild(r.pre,n.text),n.text=r.pre,r.bgClass!=n.bgClass||r.textClass!=n.textClass?(n.bgClass=r.bgClass,n.textClass=r.textClass,pe(t,n)):e&&(n.text.className=e)}function pe(t,n){!function(t,n){var e=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),n.background)e?n.background.className=e:(n.background.parentNode.removeChild(n.background),n.background=null);else if(e){var r=fe(n);n.background=r.insertBefore(N("div",null,e),r.firstChild),t.display.input.setUneditable(n.background)}}(t,n),n.line.wrapClass?fe(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var e=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=e||""}function ve(t,n,e,r){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var i=fe(n);n.gutterBackground=N("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(n.gutterBackground),i.insertBefore(n.gutterBackground,n.text)}var o=n.line.gutterMarkers;if(t.options.lineNumbers||o){var u=fe(n),a=n.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),u.insertBefore(a,n.text),n.line.gutterClass&&(a.className+=" "+n.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(n.lineNumber=a.appendChild(N("div",Jt(t.options,e),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var c=0;c<t.display.gutterSpecs.length;++c){var s=t.display.gutterSpecs[c].className,l=o.hasOwnProperty(s)&&o[s];l&&a.appendChild(N("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[s]+"px; width: "+r.gutterWidth[s]+"px"))}}}function ge(t,n,e){n.alignable&&(n.alignable=null);for(var r=n.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&n.node.removeChild(r);me(t,n,e)}function ye(t,n,e,r){var i=he(t,n);return n.text=n.node=i.pre,i.bgClass&&(n.bgClass=i.bgClass),i.textClass&&(n.textClass=i.textClass),pe(t,n),ve(t,n,e,r),me(t,n,r),n.node}function me(t,n,e){if(_e(t,n.line,n,e,!0),n.rest)for(var r=0;r<n.rest.length;r++)_e(t,n.rest[r],n,e,!1)}function _e(t,n,e,r,i){if(n.widgets)for(var o=fe(e),u=0,a=n.widgets;u<a.length;++u){var c=a[u],s=N("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||s.setAttribute("cm-ignore-events","true"),be(c,s,e,r),t.display.input.setUneditable(s),i&&c.above?o.insertBefore(s,e.gutter||e.text):o.appendChild(s),ce(c,"redraw")}}function be(t,n,e,r){if(t.noHScroll){(e.alignable||(e.alignable=[])).push(n);var i=r.wrapperWidth;n.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,n.style.paddingLeft=r.gutterTotalWidth+"px"),n.style.width=i+"px"}t.coverGutter&&(n.style.zIndex=5,n.style.position="relative",t.noHScroll||(n.style.marginLeft=-r.gutterTotalWidth+"px"))}function xe(t){if(null!=t.height)return t.height;var n=t.doc.cm;if(!n)return 0;if(!E(document.body,t.node)){var e="position: relative;";t.coverGutter&&(e+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),t.noHScroll&&(e+="width: "+n.display.wrapper.clientWidth+"px;"),A(n.display.measure,N("div",[t.node],null,e))}return t.height=t.node.parentNode.offsetHeight}function we(t,n){for(var e=Ct(n);e!=t.wrapper;e=e.parentNode)if(!e||1==e.nodeType&&"true"==e.getAttribute("cm-ignore-events")||e.parentNode==t.sizer&&e!=t.mover)return!0}function Me(t){return t.lineSpace.offsetTop}function Ce(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function ke(t){if(t.cachedPaddingH)return t.cachedPaddingH;var n=A(t.measure,N("pre","x")),e=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,r={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Se(t){return H-t.display.nativeBarWidth}function Te(t){return t.display.scroller.clientWidth-Se(t)-t.display.barWidth}function Ae(t){return t.display.scroller.clientHeight-Se(t)-t.display.barHeight}function Ne(t,n,e){if(t.line==n)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==n)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(Kt(t.rest[i])>e)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Le(t,n,e,r){return De(t,Oe(t,n),e,r)}function Ee(t,n){if(n>=t.display.viewFrom&&n<t.display.viewTo)return t.display.view[cr(t,n)];var e=t.display.externalMeasured;return e&&n>=e.lineN&&n<e.lineN+e.size?e:void 0}function Oe(t,n){var e=Kt(n),r=Ee(t,e);r&&!r.text?r=null:r&&r.changes&&(le(t,r,e,rr(t)),t.curOp.forceUpdate=!0),r||(r=function(t,n){var e=Kt(n=jn(n)),r=t.display.externalMeasured=new ie(t.doc,n,e);r.lineN=e;var i=r.built=Qn(t,r);return r.text=i.pre,A(t.display.lineMeasure,i.pre),r}(t,n));var i=Ne(r,n,e);return{line:n,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function De(t,n,e,r,i){n.before&&(e=-1);var o,c=e+(r||"");return n.cache.hasOwnProperty(c)?o=n.cache[c]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(function(t,n,e){var r=t.options.lineWrapping,i=r&&Te(t);if(!n.measure.heights||r&&n.measure.width!=i){var o=n.measure.heights=[];if(r){n.measure.width=i;for(var u=n.text.firstChild.getClientRects(),a=0;a<u.length-1;a++){var c=u[a],s=u[a+1];Math.abs(c.bottom-s.bottom)>2&&o.push((c.bottom+s.top)/2-e.top)}}o.push(e.bottom-e.top)}}(t,n.view,n.rect),n.hasHeights=!0),(o=function(t,n,e,r){var i,o=Re(n.map,e,r),c=o.node,s=o.start,l=o.end,f=o.collapse;if(3==c.nodeType){for(var h=0;h<4;h++){for(;s&&it(n.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&it(n.line.text.charAt(o.coverStart+l));)++l;if((i=u&&a<9&&0==s&&l==o.coverEnd-o.coverStart?c.parentNode.getBoundingClientRect():Ie(k(c,s,l).getClientRects(),r)).left||i.right||0==s)break;l=s,s-=1,f="right"}u&&a<11&&(i=function(t,n){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=zt)return zt;var n=A(t,N("span","x")),e=n.getBoundingClientRect(),r=k(n,0,1).getBoundingClientRect();return zt=Math.abs(e.left-r.left)>1}(t))return n;var e=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*e,right:n.right*e,top:n.top*r,bottom:n.bottom*r}}(t.display.measure,i))}else{var d;s>0&&(f=r="right"),i=t.options.lineWrapping&&(d=c.getClientRects()).length>1?d["right"==r?d.length-1:0]:c.getBoundingClientRect()}if(u&&a<9&&!s&&(!i||!i.left&&!i.right)){var p=c.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+er(t.display),top:p.top,bottom:p.bottom}:ze}for(var v=i.top-n.rect.top,g=i.bottom-n.rect.top,y=(v+g)/2,m=n.view.measure.heights,_=0;_<m.length-1&&!(y<m[_]);_++);var b=_?m[_-1]:0,x=m[_],w={left:("right"==f?i.right:i.left)-n.rect.left,right:("left"==f?i.left:i.right)-n.rect.left,top:b,bottom:x};return i.left||i.right||(w.bogus=!0),t.options.singleCursorHeightPerLine||(w.rtop=v,w.rbottom=g),w}(t,n,e,r)).bogus||(n.cache[c]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Pe,ze={left:0,right:0,top:0,bottom:0};function Re(t,n,e){for(var r,i,o,u,a,c,s=0;s<t.length;s+=3)if(a=t[s],c=t[s+1],n<a?(i=0,o=1,u="left"):n<c?o=1+(i=n-a):(s==t.length-3||n==c&&t[s+3]>n)&&(i=(o=c-a)-1,n>=c&&(u="right")),null!=i){if(r=t[s+2],a==c&&e==(r.insertLeft?"left":"right")&&(u=e),"left"==e&&0==i)for(;s&&t[s-2]==t[s-3]&&t[s-1].insertLeft;)r=t[2+(s-=3)],u="left";if("right"==e&&i==c-a)for(;s<t.length-3&&t[s+3]==t[s+4]&&!t[s+5].insertLeft;)r=t[(s+=3)+2],u="right";break}return{node:r,start:i,end:o,collapse:u,coverStart:a,coverEnd:c}}function Ie(t,n){var e=ze;if("left"==n)for(var r=0;r<t.length&&(e=t[r]).left==e.right;r++);else for(var i=t.length-1;i>=0&&(e=t[i]).left==e.right;i--);return e}function Fe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var n=0;n<t.rest.length;n++)t.measure.caches[n]={}}function je(t){t.display.externalMeasure=null,T(t.display.lineMeasure);for(var n=0;n<t.display.view.length;n++)Fe(t.display.view[n])}function We(t){je(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function He(){return l&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Be(){return l&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ue(t){var n=0;if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].above&&(n+=xe(t.widgets[e]));return n}function qe(t,n,e,r,i){if(!i){var o=Ue(n);e.top+=o,e.bottom+=o}if("line"==r)return e;r||(r="local");var u=qn(n);if("local"==r?u+=Me(t.display):u-=t.display.viewOffset,"page"==r||"window"==r){var a=t.display.lineSpace.getBoundingClientRect();u+=a.top+("window"==r?0:Be());var c=a.left+("window"==r?0:He());e.left+=c,e.right+=c}return e.top+=u,e.bottom+=u,e}function Ye(t,n,e){if("div"==e)return n;var r=n.left,i=n.top;if("page"==e)r-=He(),i-=Be();else if("local"==e||!e){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var u=t.display.lineSpace.getBoundingClientRect();return{left:r-u.left,top:i-u.top}}function Ge(t,n,e,r,i){return r||(r=Gt(t.doc,n.line)),qe(t,r,Le(t,r,n.ch,i),e)}function Ve(t,n,e,r,i,o){function u(n,u){var a=De(t,i,n,u?"right":"left",o);return u?a.left=a.right:a.right=a.left,qe(t,r,a,e)}r=r||Gt(t.doc,n.line),i||(i=Oe(t,r));var a=lt(r,t.doc.direction),c=n.ch,s=n.sticky;if(c>=r.text.length?(c=r.text.length,s="before"):c<=0&&(c=0,s="after"),!a)return u("before"==s?c-1:c,"before"==s);function l(t,n,e){var r=a[n],i=1==r.level;return u(e?t-1:t,i!=e)}var f=ct(a,c,s),h=at,d=l(c,f,"before"==s);return null!=h&&(d.other=l(c,h,"before"!=s)),d}function $e(t,n){var e=0;n=cn(t.doc,n),t.options.lineWrapping||(e=er(t.display)*n.ch);var r=Gt(t.doc,n.line),i=qn(r)+Me(t.display);return{left:e,right:e,top:i,bottom:i+r.height}}function Xe(t,n,e,r,i){var o=tn(t,n,e);return o.xRel=i,r&&(o.outside=!0),o}function Ke(t,n,e){var r=t.doc;if((e+=t.display.viewOffset)<0)return Xe(r.first,0,null,!0,-1);var i=Zt(r,e),o=r.first+r.size-1;if(i>o)return Xe(r.first+r.size-1,Gt(r,o).text.length,null,!0,1);n<0&&(n=0);for(var u=Gt(r,i);;){var a=tr(t,u,i,n,e),c=In(u,a.ch+(a.xRel>0?1:0));if(!c)return a;var s=c.find(1);if(s.line==i)return s;u=Gt(r,i=s.line)}}function Ze(t,n,e,r){r-=Ue(n);var i=n.text.length,o=ut(function(n){return De(t,e,n-1).bottom<=r},i,0);return i=ut(function(n){return De(t,e,n).top>r},o,i),{begin:o,end:i}}function Qe(t,n,e,r){e||(e=Oe(t,n));var i=qe(t,n,De(t,e,r),"line").top;return Ze(t,n,e,i)}function Je(t,n,e,r){return!(t.bottom<=e)&&(t.top>e||(r?t.left:t.right)>n)}function tr(t,n,e,r,i){i-=qn(n);var o=Oe(t,n),u=Ue(n),a=0,c=n.text.length,s=!0,l=lt(n,t.doc.direction);if(l){var f=(t.options.lineWrapping?function(t,n,e,r,i,o,u){var a=Ze(t,n,r,u),c=a.begin,s=a.end;/\s/.test(n.text.charAt(s-1))&&s--;for(var l=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=s||d.to<=c)){var p=1!=d.level,v=De(t,r,p?Math.min(s,d.to)-1:Math.max(c,d.from)).right,g=v<o?o-v+1e9:v-o;(!l||f>g)&&(l=d,f=g)}}return l||(l=i[i.length-1]),l.from<c&&(l={from:c,to:l.to,level:l.level}),l.to>s&&(l={from:l.from,to:s,level:l.level}),l}:function(t,n,e,r,i,o,u){var a=ut(function(a){var c=i[a],s=1!=c.level;return Je(Ve(t,tn(e,s?c.to:c.from,s?"before":"after"),"line",n,r),o,u,!0)},0,i.length-1),c=i[a];if(a>0){var s=1!=c.level,l=Ve(t,tn(e,s?c.from:c.to,s?"after":"before"),"line",n,r);Je(l,o,u,!0)&&l.top>u&&(c=i[a-1])}return c})(t,n,e,o,l,r,i);s=1!=f.level,a=s?f.from:f.to-1,c=s?f.to:f.from-1}var h,d,p=null,v=null,g=ut(function(n){var e=De(t,o,n);return e.top+=u,e.bottom+=u,!!Je(e,r,i,!1)&&(e.top<=i&&e.left<=r&&(p=n,v=e),!0)},a,c),y=!1;if(v){var m=r-v.left<v.right-r,_=m==s;g=p+(_?0:1),d=_?"after":"before",h=m?v.left:v.right}else{s||g!=c&&g!=a||g++,d=0==g?"after":g==n.text.length?"before":De(t,o,g-(s?1:0)).bottom+u<=i==s?"after":"before";var b=Ve(t,tn(e,g,d),"line",n,o);h=b.left,y=i<b.top||i>=b.bottom}return g=ot(n.text,g,1),Xe(e,g,d,y,r-h)}function nr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Pe){Pe=N("pre");for(var n=0;n<49;++n)Pe.appendChild(document.createTextNode("x")),Pe.appendChild(N("br"));Pe.appendChild(document.createTextNode("x"))}A(t.measure,Pe);var e=Pe.offsetHeight/50;return e>3&&(t.cachedTextHeight=e),T(t.measure),e||1}function er(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var n=N("span","xxxxxxxxxx"),e=N("pre",[n]);A(t.measure,e);var r=n.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function rr(t){for(var n=t.display,e={},r={},i=n.gutters.clientLeft,o=n.gutters.firstChild,u=0;o;o=o.nextSibling,++u){var a=t.display.gutterSpecs[u].className;e[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth}return{fixedPos:ir(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:e,gutterWidth:r,wrapperWidth:n.wrapper.clientWidth}}function ir(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function or(t){var n=nr(t.display),e=t.options.lineWrapping,r=e&&Math.max(5,t.display.scroller.clientWidth/er(t.display)-3);return function(i){if(Bn(t.doc,i))return 0;var o=0;if(i.widgets)for(var u=0;u<i.widgets.length;u++)i.widgets[u].height&&(o+=i.widgets[u].height);return e?o+(Math.ceil(i.text.length/r)||1)*n:o+n}}function ur(t){var n=t.doc,e=or(t);n.iter(function(t){var n=e(t);n!=t.height&&Xt(t,n)})}function ar(t,n,e,r){var i=t.display;if(!e&&"true"==Ct(n).getAttribute("cm-not-content"))return null;var o,u,a=i.lineSpace.getBoundingClientRect();try{o=n.clientX-a.left,u=n.clientY-a.top}catch(n){return null}var c,s=Ke(t,o,u);if(r&&1==s.xRel&&(c=Gt(t.doc,s.line).text).length==s.ch){var l=F(c,c.length,t.options.tabSize)-c.length;s=tn(s.line,Math.max(0,Math.round((o-ke(t.display).left)/er(t.display))-l))}return s}function cr(t,n){if(n>=t.display.viewTo)return null;if((n-=t.display.viewFrom)<0)return null;for(var e=t.display.view,r=0;r<e.length;r++)if((n-=e[r].size)<0)return r}function sr(t,n,e,r){null==n&&(n=t.doc.first),null==e&&(e=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&e<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>n)&&(i.updateLineNumbers=n),t.curOp.viewChanged=!0,n>=i.viewTo)Mn&&Wn(t.doc,n)<i.viewTo&&fr(t);else if(e<=i.viewFrom)Mn&&Hn(t.doc,e+r)>i.viewFrom?fr(t):(i.viewFrom+=r,i.viewTo+=r);else if(n<=i.viewFrom&&e>=i.viewTo)fr(t);else if(n<=i.viewFrom){var o=hr(t,e,e+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):fr(t)}else if(e>=i.viewTo){var u=hr(t,n,n,-1);u?(i.view=i.view.slice(0,u.index),i.viewTo=u.lineN):fr(t)}else{var a=hr(t,n,n,-1),c=hr(t,e,e+r,1);a&&c?(i.view=i.view.slice(0,a.index).concat(oe(t,a.lineN,c.lineN)).concat(i.view.slice(c.index)),i.viewTo+=r):fr(t)}var s=i.externalMeasured;s&&(e<s.lineN?s.lineN+=r:n<s.lineN+s.size&&(i.externalMeasured=null))}function lr(t,n,e){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&n>=i.lineN&&n<i.lineN+i.size&&(r.externalMeasured=null),!(n<r.viewFrom||n>=r.viewTo)){var o=r.view[cr(t,n)];if(null!=o.node){var u=o.changes||(o.changes=[]);-1==W(u,e)&&u.push(e)}}}function fr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function hr(t,n,e,r){var i,o=cr(t,n),u=t.display.view;if(!Mn||e==t.doc.first+t.doc.size)return{index:o,lineN:e};for(var a=t.display.viewFrom,c=0;c<o;c++)a+=u[c].size;if(a!=n){if(r>0){if(o==u.length-1)return null;i=a+u[o].size-n,o++}else i=a-n;n+=i,e+=i}for(;Wn(t.doc,e)!=e;){if(o==(r<0?0:u.length-1))return null;e+=r*u[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:e}}function dr(t){for(var n=t.display.view,e=0,r=0;r<n.length;r++){var i=n[r];i.hidden||i.node&&!i.changes||++e}return e}function pr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function vr(t,n){void 0===n&&(n=!0);for(var e=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),u=0;u<e.sel.ranges.length;u++)if(n||u!=e.sel.primIndex){var a=e.sel.ranges[u];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var c=a.empty();(c||t.options.showCursorWhenSelecting)&&gr(t,a.head,i),c||mr(t,a,o)}}return r}function gr(t,n,e){var r=Ve(t,n,"div",null,null,!t.options.singleCursorHeightPerLine),i=e.appendChild(N("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=e.appendChild(N("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function yr(t,n){return t.top-n.top||t.left-n.left}function mr(t,n,e){var r=t.display,i=t.doc,o=document.createDocumentFragment(),u=ke(t.display),a=u.left,c=Math.max(r.sizerWidth,Te(t)-r.sizer.offsetLeft)-u.right,s="ltr"==i.direction;function l(t,n,e,r){n<0&&(n=0),n=Math.round(n),r=Math.round(r),o.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+n+"px; width: "+(null==e?c-t:e)+"px;\n                             height: "+(r-n)+"px"))}function f(n,e,r){var o,u,f=Gt(i,n),h=f.text.length;function d(e,r){return Ge(t,tn(n,e),"div",f,r)}function p(n,e,r){var i=Qe(t,f,null,n),o="ltr"==e==("after"==r)?"left":"right",u="after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1);return d(u,o)[o]}var v=lt(f,i.direction);return function(t,n,e,r){if(!t)return r(n,e,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var u=t[o];(u.from<e&&u.to>n||n==e&&u.to==n)&&(r(Math.max(u.from,n),Math.min(u.to,e),1==u.level?"rtl":"ltr",o),i=!0)}i||r(n,e,"ltr")}(v,e||0,null==r?h:r,function(t,n,i,f){var g="ltr"==i,y=d(t,g?"left":"right"),m=d(n-1,g?"right":"left"),_=null==e&&0==t,b=null==r&&n==h,x=0==f,w=!v||f==v.length-1;if(m.top-y.top<=3){var M=(s?_:b)&&x,C=(s?b:_)&&w,k=M?a:(g?y:m).left,S=C?c:(g?m:y).right;l(k,y.top,S-k,y.bottom)}else{var T,A,N,L;g?(T=s&&_&&x?a:y.left,A=s?c:p(t,i,"before"),N=s?a:p(n,i,"after"),L=s&&b&&w?c:m.right):(T=s?p(t,i,"before"):a,A=!s&&_&&x?c:y.right,N=!s&&b&&w?a:m.left,L=s?p(n,i,"after"):c),l(T,y.top,A-T,y.bottom),y.bottom<m.top&&l(a,y.bottom,null,m.top),l(N,m.top,L-N,m.bottom)}(!o||yr(y,o)<0)&&(o=y),yr(m,o)<0&&(o=m),(!u||yr(y,u)<0)&&(u=y),yr(m,u)<0&&(u=m)}),{start:o,end:u}}var h=n.from(),d=n.to();if(h.line==d.line)f(h.line,h.ch,d.ch);else{var p=Gt(i,h.line),v=Gt(i,d.line),g=jn(p)==jn(v),y=f(h.line,h.ch,g?p.text.length+1:null).end,m=f(d.line,g?0:null,d.ch).start;g&&(y.top<m.top-2?(l(y.right,y.top,null,y.bottom),l(a,m.top,m.left,m.bottom)):l(y.right,y.top,m.left-y.right,y.bottom)),y.bottom<m.top&&l(a,y.bottom,null,m.top)}e.appendChild(o)}function _r(t){if(t.state.focused){var n=t.display;clearInterval(n.blinker);var e=!0;n.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?n.blinker=setInterval(function(){return n.cursorDiv.style.visibility=(e=!e)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function br(t){t.state.focused||(t.display.input.focus(),wr(t))}function xr(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Mr(t))},100)}function wr(t,n){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(vt(t,"focus",t,n),t.state.focused=!0,D(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),c&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),_r(t))}function Mr(t,n){t.state.delayingBlurEvent||(t.state.focused&&(vt(t,"blur",t,n),t.state.focused=!1,S(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Cr(t){for(var n=t.display,e=n.lineDiv.offsetTop,r=0;r<n.view.length;r++){var i=n.view[r],o=t.options.lineWrapping,c=void 0,s=0;if(!i.hidden){if(u&&a<8){var l=i.node.offsetTop+i.node.offsetHeight;c=l-e,e=l}else{var f=i.node.getBoundingClientRect();c=f.bottom-f.top,!o&&i.text.firstChild&&(s=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var h=i.line.height-c;if((h>.005||h<-.005)&&(Xt(i.line,c),kr(i.line),i.rest))for(var d=0;d<i.rest.length;d++)kr(i.rest[d]);if(s>t.display.sizerWidth){var p=Math.ceil(s/er(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function kr(t){if(t.widgets)for(var n=0;n<t.widgets.length;++n){var e=t.widgets[n],r=e.node.parentNode;r&&(e.height=r.offsetHeight)}}function Sr(t,n,e){var r=e&&null!=e.top?Math.max(0,e.top):t.scroller.scrollTop;r=Math.floor(r-Me(t));var i=e&&null!=e.bottom?e.bottom:r+t.wrapper.clientHeight,o=Zt(n,r),u=Zt(n,i);if(e&&e.ensure){var a=e.ensure.from.line,c=e.ensure.to.line;a<o?(o=a,u=Zt(n,qn(Gt(n,a))+t.wrapper.clientHeight)):Math.min(c,n.lastLine())>=u&&(o=Zt(n,qn(Gt(n,c))-t.wrapper.clientHeight),u=c)}return{from:o,to:Math.max(u,o+1)}}function Tr(t,n){var e=t.display,r=nr(t.display);n.top<0&&(n.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:e.scroller.scrollTop,o=Ae(t),u={};n.bottom-n.top>o&&(n.bottom=n.top+o);var a=t.doc.height+Ce(e),c=n.top<r,s=n.bottom>a-r;if(n.top<i)u.scrollTop=c?0:n.top;else if(n.bottom>i+o){var l=Math.min(n.top,(s?a:n.bottom)-o);l!=i&&(u.scrollTop=l)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:e.scroller.scrollLeft,h=Te(t)-(t.options.fixedGutter?e.gutters.offsetWidth:0),d=n.right-n.left>h;return d&&(n.right=n.left+h),n.left<10?u.scrollLeft=0:n.left<f?u.scrollLeft=Math.max(0,n.left-(d?0:10)):n.right>h+f-3&&(u.scrollLeft=n.right+(d?0:10)-h),u}function Ar(t,n){null!=n&&(Er(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Nr(t){Er(t);var n=t.getCursor();t.curOp.scrollToPos={from:n,to:n,margin:t.options.cursorScrollMargin}}function Lr(t,n,e){null==n&&null==e||Er(t),null!=n&&(t.curOp.scrollLeft=n),null!=e&&(t.curOp.scrollTop=e)}function Er(t){var n=t.curOp.scrollToPos;if(n){t.curOp.scrollToPos=null;var e=$e(t,n.from),r=$e(t,n.to);Or(t,e,r,n.margin)}}function Or(t,n,e,r){var i=Tr(t,{left:Math.min(n.left,e.left),top:Math.min(n.top,e.top)-r,right:Math.max(n.right,e.right),bottom:Math.max(n.bottom,e.bottom)+r});Lr(t,i.scrollLeft,i.scrollTop)}function Dr(t,n){Math.abs(t.doc.scrollTop-n)<2||(e||oi(t,{top:n}),Pr(t,n,!0),e&&oi(t),ti(t,100))}function Pr(t,n,e){n=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,n),(t.display.scroller.scrollTop!=n||e)&&(t.doc.scrollTop=n,t.display.scrollbars.setScrollTop(n),t.display.scroller.scrollTop!=n&&(t.display.scroller.scrollTop=n))}function zr(t,n,e,r){n=Math.min(n,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(e?n==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-n)<2)&&!r||(t.doc.scrollLeft=n,ci(t),t.display.scroller.scrollLeft!=n&&(t.display.scroller.scrollLeft=n),t.display.scrollbars.setScrollLeft(n))}function Rr(t){var n=t.display,e=n.gutters.offsetWidth,r=Math.round(t.doc.height+Ce(t.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:t.options.fixedGutter?e:0,docHeight:r,scrollHeight:r+Se(t)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:e}}var Ir=function(t,n,e){this.cm=e;var r=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),ht(r,"scroll",function(){r.clientHeight&&n(r.scrollTop,"vertical")}),ht(i,"scroll",function(){i.clientWidth&&n(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ir.prototype.update=function(t){var n=t.scrollWidth>t.clientWidth+1,e=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(e){this.vert.style.display="block",this.vert.style.bottom=n?r+"px":"0";var i=t.viewHeight-(n?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(n){this.horiz.style.display="block",this.horiz.style.right=e?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(e?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:e?r:0,bottom:n?r:0}},Ir.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ir.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ir.prototype.zeroWidthHack=function(){var t=m&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},Ir.prototype.enableZeroWidthBar=function(t,n,e){t.style.pointerEvents="auto",n.set(1e3,function r(){var i=t.getBoundingClientRect(),o="vert"==e?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=t?t.style.pointerEvents="none":n.set(1e3,r)})},Ir.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Fr=function(){};function jr(t,n){n||(n=Rr(t));var e=t.display.barWidth,r=t.display.barHeight;Wr(t,n);for(var i=0;i<4&&e!=t.display.barWidth||r!=t.display.barHeight;i++)e!=t.display.barWidth&&t.options.lineWrapping&&Cr(t),Wr(t,Rr(t)),e=t.display.barWidth,r=t.display.barHeight}function Wr(t,n){var e=t.display,r=e.scrollbars.update(n);e.sizer.style.paddingRight=(e.barWidth=r.right)+"px",e.sizer.style.paddingBottom=(e.barHeight=r.bottom)+"px",e.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=r.bottom+"px",e.scrollbarFiller.style.width=r.right+"px"):e.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(e.gutterFiller.style.display="block",e.gutterFiller.style.height=r.bottom+"px",e.gutterFiller.style.width=n.gutterWidth+"px"):e.gutterFiller.style.display=""}Fr.prototype.update=function(){return{bottom:0,right:0}},Fr.prototype.setScrollLeft=function(){},Fr.prototype.setScrollTop=function(){},Fr.prototype.clear=function(){};var Hr={native:Ir,null:Fr};function Br(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&S(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Hr[t.options.scrollbarStyle](function(n){t.display.wrapper.insertBefore(n,t.display.scrollbarFiller),ht(n,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),n.setAttribute("cm-not-content","true")},function(n,e){"horizontal"==e?zr(t,n):Dr(t,n)},t),t.display.scrollbars.addClass&&D(t.display.wrapper,t.display.scrollbars.addClass)}var Ur=0;function qr(t){var n;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ur},n=t.curOp,ue?ue.ops.push(n):n.ownsGroup=ue={ops:[n],delayedCallbacks:[]}}function Yr(t){var n=t.curOp;n&&function(t,n){var e=t.ownsGroup;if(e)try{!function(t){var n=t.delayedCallbacks,e=0;do{for(;e<n.length;e++)n[e].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(e<n.length)}(e)}finally{ue=null,n(e)}}(n,function(t){for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(t){for(var n=t.ops,e=0;e<n.length;e++)Gr(n[e]);for(var r=0;r<n.length;r++)(i=n[r]).updatedDisplay=i.mustUpdate&&ri(i.cm,i.update);for(var i,o=0;o<n.length;o++)Vr(n[o]);for(var u=0;u<n.length;u++)$r(n[u]);for(var a=0;a<n.length;a++)Xr(n[a])}(t)})}function Gr(t){var n=t.cm,e=n.display;!function(t){var n=t.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Se(t)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Se(t)+"px",n.scrollbarsClipped=!0)}(n),t.updateMaxLine&&Gn(n),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<e.viewFrom||t.scrollToPos.to.line>=e.viewTo)||e.maxLineChanged&&n.options.lineWrapping,t.update=t.mustUpdate&&new ei(n,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Vr(t){var n=t.cm,e=n.display;t.updatedDisplay&&Cr(n),t.barMeasure=Rr(n),e.maxLineChanged&&!n.options.lineWrapping&&(t.adjustWidthTo=Le(n,e.maxLine,e.maxLine.text.length).left+3,n.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(e.scroller.clientWidth,e.sizer.offsetLeft+t.adjustWidthTo+Se(n)+n.display.barWidth),t.maxScrollLeft=Math.max(0,e.sizer.offsetLeft+t.adjustWidthTo-Te(n))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=e.input.prepareSelection())}function $r(t){var n=t.cm;null!=t.adjustWidthTo&&(n.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<n.doc.scrollLeft&&zr(n,Math.min(n.display.scroller.scrollLeft,t.maxScrollLeft),!0),n.display.maxLineChanged=!1);var e=t.focus&&t.focus==O();t.preparedSelection&&n.display.input.showSelection(t.preparedSelection,e),(t.updatedDisplay||t.startHeight!=n.doc.height)&&jr(n,t.barMeasure),t.updatedDisplay&&ai(n,t.barMeasure),t.selectionChanged&&_r(n),n.state.focused&&t.updateInput&&n.display.input.reset(t.typing),e&&br(t.cm)}function Xr(t){var n=t.cm,e=n.display,r=n.doc;if(t.updatedDisplay&&ii(n,t.update),null==e.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(e.wheelStartX=e.wheelStartY=null),null!=t.scrollTop&&Pr(n,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&zr(n,t.scrollLeft,!0,!0),t.scrollToPos){var i=function(t,n,e,r){var i;null==r&&(r=0),t.options.lineWrapping||n!=e||(n=n.ch?tn(n.line,"before"==n.sticky?n.ch-1:n.ch,"after"):n,e="before"==n.sticky?tn(n.line,n.ch+1,"before"):n);for(var o=0;o<5;o++){var u=!1,a=Ve(t,n),c=e&&e!=n?Ve(t,e):a;i={left:Math.min(a.left,c.left),top:Math.min(a.top,c.top)-r,right:Math.max(a.left,c.left),bottom:Math.max(a.bottom,c.bottom)+r};var s=Tr(t,i),l=t.doc.scrollTop,f=t.doc.scrollLeft;if(null!=s.scrollTop&&(Dr(t,s.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(u=!0)),null!=s.scrollLeft&&(zr(t,s.scrollLeft),Math.abs(t.doc.scrollLeft-f)>1&&(u=!0)),!u)break}return i}(n,cn(r,t.scrollToPos.from),cn(r,t.scrollToPos.to),t.scrollToPos.margin);!function(t,n){if(!gt(t,"scrollCursorIntoView")){var e=t.display,r=e.sizer.getBoundingClientRect(),i=null;if(n.top+r.top<0?i=!0:n.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=N("div","​",null,"position: absolute;\n                         top: "+(n.top-e.viewOffset-Me(t.display))+"px;\n                         height: "+(n.bottom-n.top+Se(t)+e.barHeight)+"px;\n                         left: "+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(n,i)}var o=t.maybeHiddenMarkers,u=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||vt(o[a],"hide");if(u)for(var c=0;c<u.length;++c)u[c].lines.length&&vt(u[c],"unhide");e.wrapper.offsetHeight&&(r.scrollTop=n.display.scroller.scrollTop),t.changeObjs&&vt(n,"changes",n,t.changeObjs),t.update&&t.update.finish()}function Kr(t,n){if(t.curOp)return n();qr(t);try{return n()}finally{Yr(t)}}function Zr(t,n){return function(){if(t.curOp)return n.apply(t,arguments);qr(t);try{return n.apply(t,arguments)}finally{Yr(t)}}}function Qr(t){return function(){if(this.curOp)return t.apply(this,arguments);qr(this);try{return t.apply(this,arguments)}finally{Yr(this)}}}function Jr(t){return function(){var n=this.cm;if(!n||n.curOp)return t.apply(this,arguments);qr(n);try{return t.apply(this,arguments)}finally{Yr(n)}}}function ti(t,n){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(n,R(ni,t))}function ni(t){var n=t.doc;if(!(n.highlightFrontier>=t.display.viewTo)){var e=+new Date+t.options.workTime,r=pn(t,n.highlightFrontier),i=[];n.iter(r.line,Math.min(n.first+n.size,t.display.viewTo+500),function(o){if(r.line>=t.display.viewFrom){var u=o.styles,a=o.text.length>t.options.maxHighlightLength?Bt(n.mode,r.state):null,c=hn(t,o,r,!0);a&&(r.state=a),o.styles=c.styles;var s=o.styleClasses,l=c.classes;l?o.styleClasses=l:s&&(o.styleClasses=null);for(var f=!u||u.length!=o.styles.length||s!=l&&(!s||!l||s.bgClass!=l.bgClass||s.textClass!=l.textClass),h=0;!f&&h<u.length;++h)f=u[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&vn(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>e)return ti(t,t.options.workDelay),!0}),n.highlightFrontier=r.line,n.modeFrontier=Math.max(n.modeFrontier,r.line),i.length&&Kr(t,function(){for(var n=0;n<i.length;n++)lr(t,i[n],"text")})}}var ei=function(t,n,e){var r=t.display;this.viewport=n,this.visible=Sr(r,t.doc,n),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Te(t),this.force=e,this.dims=rr(t),this.events=[]};function ri(t,n){var e=t.display,r=t.doc;if(n.editorIsHidden)return fr(t),!1;if(!n.force&&n.visible.from>=e.viewFrom&&n.visible.to<=e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>=e.viewTo)&&e.renderedView==e.view&&0==dr(t))return!1;si(t)&&(fr(t),n.dims=rr(t));var i=r.first+r.size,o=Math.max(n.visible.from-t.options.viewportMargin,r.first),u=Math.min(i,n.visible.to+t.options.viewportMargin);e.viewFrom<o&&o-e.viewFrom<20&&(o=Math.max(r.first,e.viewFrom)),e.viewTo>u&&e.viewTo-u<20&&(u=Math.min(i,e.viewTo)),Mn&&(o=Wn(t.doc,o),u=Hn(t.doc,u));var a=o!=e.viewFrom||u!=e.viewTo||e.lastWrapHeight!=n.wrapperHeight||e.lastWrapWidth!=n.wrapperWidth;!function(t,n,e){var r=t.display;0==r.view.length||n>=r.viewTo||e<=r.viewFrom?(r.view=oe(t,n,e),r.viewFrom=n):(r.viewFrom>n?r.view=oe(t,n,r.viewFrom).concat(r.view):r.viewFrom<n&&(r.view=r.view.slice(cr(t,n))),r.viewFrom=n,r.viewTo<e?r.view=r.view.concat(oe(t,r.viewTo,e)):r.viewTo>e&&(r.view=r.view.slice(0,cr(t,e)))),r.viewTo=e}(t,o,u),e.viewOffset=qn(Gt(t.doc,e.viewFrom)),t.display.mover.style.top=e.viewOffset+"px";var s=dr(t);if(!a&&0==s&&!n.force&&e.renderedView==e.view&&(null==e.updateLineNumbers||e.updateLineNumbers>=e.viewTo))return!1;var l=function(t){if(t.hasFocus())return null;var n=O();if(!n||!E(t.display.lineDiv,n))return null;var e={activeElt:n};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&E(t.display.lineDiv,r.anchorNode)&&(e.anchorNode=r.anchorNode,e.anchorOffset=r.anchorOffset,e.focusNode=r.focusNode,e.focusOffset=r.focusOffset)}return e}(t);return s>4&&(e.lineDiv.style.display="none"),function(t,n,e){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,u=o.firstChild;function a(n){var e=n.nextSibling;return c&&m&&t.display.currentWheelTarget==n?n.style.display="none":n.parentNode.removeChild(n),e}for(var s=r.view,l=r.viewFrom,f=0;f<s.length;f++){var h=s[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;u!=h.node;)u=a(u);var d=i&&null!=n&&n<=l&&h.lineNumber;h.changes&&(W(h.changes,"gutter")>-1&&(d=!1),le(t,h,l,e)),d&&(T(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(Jt(t.options,l)))),u=h.node.nextSibling}else{var p=ye(t,h,l,e);o.insertBefore(p,u)}l+=h.size}for(;u;)u=a(u)}(t,e.updateLineNumbers,n.dims),s>4&&(e.lineDiv.style.display=""),e.renderedView=e.view,function(t){if(t&&t.activeElt&&t.activeElt!=O()&&(t.activeElt.focus(),t.anchorNode&&E(document.body,t.anchorNode)&&E(document.body,t.focusNode))){var n=window.getSelection(),e=document.createRange();e.setEnd(t.anchorNode,t.anchorOffset),e.collapse(!1),n.removeAllRanges(),n.addRange(e),n.extend(t.focusNode,t.focusOffset)}}(l),T(e.cursorDiv),T(e.selectionDiv),e.gutters.style.height=e.sizer.style.minHeight=0,a&&(e.lastWrapHeight=n.wrapperHeight,e.lastWrapWidth=n.wrapperWidth,ti(t,400)),e.updateLineNumbers=null,!0}function ii(t,n){for(var e=n.viewport,r=!0;(r&&t.options.lineWrapping&&n.oldDisplayWidth!=Te(t)||(e&&null!=e.top&&(e={top:Math.min(t.doc.height+Ce(t.display)-Ae(t),e.top)}),n.visible=Sr(t.display,t.doc,e),!(n.visible.from>=t.display.viewFrom&&n.visible.to<=t.display.viewTo)))&&ri(t,n);r=!1){Cr(t);var i=Rr(t);pr(t),jr(t,i),ai(t,i),n.force=!1}n.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(n.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function oi(t,n){var e=new ei(t,n);if(ri(t,e)){Cr(t),ii(t,e);var r=Rr(t);pr(t),jr(t,r),ai(t,r),e.finish()}}function ui(t){var n=t.gutters.offsetWidth;t.sizer.style.marginLeft=n+"px"}function ai(t,n){t.display.sizer.style.minHeight=n.docHeight+"px",t.display.heightForcer.style.top=n.docHeight+"px",t.display.gutters.style.height=n.docHeight+t.display.barHeight+Se(t)+"px"}function ci(t){var n=t.display,e=n.view;if(n.alignWidgets||n.gutters.firstChild&&t.options.fixedGutter){for(var r=ir(n)-n.scroller.scrollLeft+t.doc.scrollLeft,i=n.gutters.offsetWidth,o=r+"px",u=0;u<e.length;u++)if(!e[u].hidden){t.options.fixedGutter&&(e[u].gutter&&(e[u].gutter.style.left=o),e[u].gutterBackground&&(e[u].gutterBackground.style.left=o));var a=e[u].alignable;if(a)for(var c=0;c<a.length;c++)a[c].style.left=o}t.options.fixedGutter&&(n.gutters.style.left=r+i+"px")}}function si(t){if(!t.options.lineNumbers)return!1;var n=t.doc,e=Jt(t.options,n.first+n.size-1),r=t.display;if(e.length!=r.lineNumChars){var i=r.measure.appendChild(N("div",[N("div",e)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,u=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-u)+1,r.lineNumWidth=r.lineNumInnerWidth+u,r.lineNumChars=r.lineNumInnerWidth?e.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ui(t.display),!0}return!1}function li(t,n){for(var e=[],r=!1,i=0;i<t.length;i++){var o=t[i],u=null;if("string"!=typeof o&&(u=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!n)continue;r=!0}e.push({className:o,style:u})}return n&&!r&&e.push({className:"CodeMirror-linenumbers",style:null}),e}function fi(t){var n=t.gutters,e=t.gutterSpecs;T(n),t.lineGutter=null;for(var r=0;r<e.length;++r){var i=e[r],o=i.className,u=i.style,a=n.appendChild(N("div",null,"CodeMirror-gutter "+o));u&&(a.style.cssText=u),"CodeMirror-linenumbers"==o&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}n.style.display=e.length?"":"none",ui(t)}function hi(t){fi(t.display),sr(t),ci(t)}function di(t,n,r,i){var o=this;this.input=r,o.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=N("div",null,"CodeMirror-cursors"),o.measure=N("div",null,"CodeMirror-measure"),o.lineMeasure=N("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var s=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=N("div",[s],null,"position: relative"),o.sizer=N("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=N("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),o.gutters=N("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=N("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=N("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),u&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),c||e&&y||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=n.first,o.reportedViewFrom=o.reportedViewTo=n.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=li(i.gutters,i.lineNumbers),fi(o),r.init(o)}ei.prototype.signal=function(t,n){mt(t,n)&&this.events.push(arguments)},ei.prototype.finish=function(){for(var t=0;t<this.events.length;t++)vt.apply(null,this.events[t])};var pi=0,vi=null;function gi(t){var n=t.wheelDeltaX,e=t.wheelDeltaY;return null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==e&&t.detail&&t.axis==t.VERTICAL_AXIS?e=t.detail:null==e&&(e=t.wheelDelta),{x:n,y:e}}function yi(t){var n=gi(t);return n.x*=vi,n.y*=vi,n}function mi(t,n){var r=gi(n),i=r.x,o=r.y,u=t.display,a=u.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(i&&s||o&&l){if(o&&m&&c)t:for(var h=n.target,d=u.view;h!=a;h=h.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==h){t.display.currentWheelTarget=h;break t}if(i&&!e&&!f&&null!=vi)return o&&l&&Dr(t,Math.max(0,a.scrollTop+o*vi)),zr(t,Math.max(0,a.scrollLeft+i*vi)),(!o||o&&l)&&bt(n),void(u.wheelStartX=null);if(o&&null!=vi){var v=o*vi,g=t.doc.scrollTop,y=g+u.wrapper.clientHeight;v<0?g=Math.max(0,g+v-50):y=Math.min(t.doc.height,y+v+50),oi(t,{top:g,bottom:y})}pi<20&&(null==u.wheelStartX?(u.wheelStartX=a.scrollLeft,u.wheelStartY=a.scrollTop,u.wheelDX=i,u.wheelDY=o,setTimeout(function(){if(null!=u.wheelStartX){var t=a.scrollLeft-u.wheelStartX,n=a.scrollTop-u.wheelStartY,e=n&&u.wheelDY&&n/u.wheelDY||t&&u.wheelDX&&t/u.wheelDX;u.wheelStartX=u.wheelStartY=null,e&&(vi=(vi*pi+e)/(pi+1),++pi)}},200)):(u.wheelDX+=i,u.wheelDY+=o))}}u?vi=-.53:e?vi=15:l?vi=-.7:h&&(vi=-1/3);var _i=function(t,n){this.ranges=t,this.primIndex=n};_i.prototype.primary=function(){return this.ranges[this.primIndex]},_i.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var e=this.ranges[n],r=t.ranges[n];if(!en(e.anchor,r.anchor)||!en(e.head,r.head))return!1}return!0},_i.prototype.deepCopy=function(){for(var t=[],n=0;n<this.ranges.length;n++)t[n]=new bi(rn(this.ranges[n].anchor),rn(this.ranges[n].head));return new _i(t,this.primIndex)},_i.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},_i.prototype.contains=function(t,n){n||(n=t);for(var e=0;e<this.ranges.length;e++){var r=this.ranges[e];if(nn(n,r.from())>=0&&nn(t,r.to())<=0)return e}return-1};var bi=function(t,n){this.anchor=t,this.head=n};function xi(t,n,e){var r=t&&t.options.selectionsMayTouch,i=n[e];n.sort(function(t,n){return nn(t.from(),n.from())}),e=W(n,i);for(var o=1;o<n.length;o++){var u=n[o],a=n[o-1],c=nn(a.to(),u.from());if(r&&!u.empty()?c>0:c>=0){var s=un(a.from(),u.from()),l=on(a.to(),u.to()),f=a.empty()?u.from()==u.head:a.from()==a.head;o<=e&&--e,n.splice(--o,2,new bi(f?l:s,f?s:l))}}return new _i(n,e)}function wi(t,n){return new _i([new bi(t,n||t)],0)}function Mi(t){return t.text?tn(t.from.line+t.text.length-1,X(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Ci(t,n){if(nn(t,n.from)<0)return t;if(nn(t,n.to)<=0)return Mi(n);var e=t.line+n.text.length-(n.to.line-n.from.line)-1,r=t.ch;return t.line==n.to.line&&(r+=Mi(n).ch-n.to.ch),tn(e,r)}function ki(t,n){for(var e=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];e.push(new bi(Ci(i.anchor,n),Ci(i.head,n)))}return xi(t.cm,e,t.sel.primIndex)}function Si(t,n,e){return t.line==n.line?tn(e.line,t.ch-n.ch+e.ch):tn(e.line+(t.line-n.line),t.ch)}function Ti(t){t.doc.mode=jt(t.options,t.doc.modeOption),Ai(t)}function Ai(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ti(t,100),t.state.modeGen++,t.curOp&&sr(t)}function Ni(t,n){return 0==n.from.ch&&0==n.to.ch&&""==X(n.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Li(t,n,e,r){function i(t){return e?e[t]:null}function o(t,e,i){!function(t,n,e,r){t.text=n,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Nn(t),Ln(t,e);var i=r?r(t):1;i!=t.height&&Xt(t,i)}(t,e,i,r),ce(t,"change",t,n)}function u(t,n){for(var e=[],o=t;o<n;++o)e.push(new Vn(s[o],i(o),r));return e}var a=n.from,c=n.to,s=n.text,l=Gt(t,a.line),f=Gt(t,c.line),h=X(s),d=i(s.length-1),p=c.line-a.line;if(n.full)t.insert(0,u(0,s.length)),t.remove(s.length,t.size-s.length);else if(Ni(t,n)){var v=u(0,s.length-1);o(f,f.text,d),p&&t.remove(a.line,p),v.length&&t.insert(a.line,v)}else if(l==f)if(1==s.length)o(l,l.text.slice(0,a.ch)+h+l.text.slice(c.ch),d);else{var g=u(1,s.length-1);g.push(new Vn(h+l.text.slice(c.ch),d,r)),o(l,l.text.slice(0,a.ch)+s[0],i(0)),t.insert(a.line+1,g)}else if(1==s.length)o(l,l.text.slice(0,a.ch)+s[0]+f.text.slice(c.ch),i(0)),t.remove(a.line+1,p);else{o(l,l.text.slice(0,a.ch)+s[0],i(0)),o(f,h+f.text.slice(c.ch),d);var y=u(1,s.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,y)}ce(t,"change",t,n)}function Ei(t,n,e){!function t(r,i,o){if(r.linked)for(var u=0;u<r.linked.length;++u){var a=r.linked[u];if(a.doc!=i){var c=o&&a.sharedHist;e&&!c||(n(a.doc,c),t(a.doc,r,c))}}}(t,null,!0)}function Oi(t,n){if(n.cm)throw new Error("This document is already in use.");t.doc=n,n.cm=t,ur(t),Ti(t),Di(t),t.options.lineWrapping||Gn(t),t.options.mode=n.modeOption,sr(t)}function Di(t){("rtl"==t.doc.direction?D:S)(t.display.lineDiv,"CodeMirror-rtl")}function Pi(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function zi(t,n){var e={from:rn(n.from),to:Mi(n),text:Vt(t,n.from,n.to)};return Wi(t,e,n.from.line,n.to.line+1),Ei(t,function(t){return Wi(t,e,n.from.line,n.to.line+1)},!0),e}function Ri(t){for(;t.length;){var n=X(t);if(!n.ranges)break;t.pop()}}function Ii(t,n,e,r){var i=t.history;i.undone.length=0;var o,u,a=+new Date;if((i.lastOp==r||i.lastOrigin==n.origin&&n.origin&&("+"==n.origin.charAt(0)&&i.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==n.origin.charAt(0)))&&(o=function(t,n){return n?(Ri(t.done),X(t.done)):t.done.length&&!X(t.done).ranges?X(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),X(t.done)):void 0}(i,i.lastOp==r)))u=X(o.changes),0==nn(n.from,n.to)&&0==nn(n.from,u.to)?u.to=Mi(n):o.changes.push(zi(t,n));else{var c=X(i.done);for(c&&c.ranges||ji(t.sel,i.done),o={changes:[zi(t,n)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(e),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=n.origin,u||vt(t,"historyAdded")}function Fi(t,n,e,r){var i=t.history,o=r&&r.origin;e==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,n,e,r){var i=n.charAt(0);return"*"==i||"+"==i&&e.ranges.length==r.ranges.length&&e.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,X(i.done),n))?i.done[i.done.length-1]=n:ji(n,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=e,r&&!1!==r.clearRedo&&Ri(i.undone)}function ji(t,n){var e=X(n);e&&e.ranges&&e.equals(t)||n.push(t)}function Wi(t,n,e,r){var i=n["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,r),function(e){e.markedSpans&&((i||(i=n["spans_"+t.id]={}))[o]=e.markedSpans),++o})}function Hi(t){if(!t)return null;for(var n,e=0;e<t.length;++e)t[e].marker.explicitlyCleared?n||(n=t.slice(0,e)):n&&n.push(t[e]);return n?n.length?n:null:t}function Bi(t,n){var e=function(t,n){var e=n["spans_"+t.id];if(!e)return null;for(var r=[],i=0;i<n.text.length;++i)r.push(Hi(e[i]));return r}(t,n),r=Tn(t,n);if(!e)return r;if(!r)return e;for(var i=0;i<e.length;++i){var o=e[i],u=r[i];if(o&&u)t:for(var a=0;a<u.length;++a){for(var c=u[a],s=0;s<o.length;++s)if(o[s].marker==c.marker)continue t;o.push(c)}else u&&(e[i]=u)}return e}function Ui(t,n,e){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(e?_i.prototype.deepCopy.call(o):o);else{var u=o.changes,a=[];r.push({changes:a});for(var c=0;c<u.length;++c){var s=u[c],l=void 0;if(a.push({from:s.from,to:s.to,text:s.text}),n)for(var f in s)(l=f.match(/^spans_(\d+)$/))&&W(n,Number(l[1]))>-1&&(X(a)[f]=s[f],delete s[f])}}}return r}function qi(t,n,e,r){if(r){var i=t.anchor;if(e){var o=nn(n,i)<0;o!=nn(e,i)<0?(i=n,n=e):o!=nn(n,e)<0&&(n=e)}return new bi(i,n)}return new bi(e||n,n)}function Yi(t,n,e,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Ki(t,new _i([qi(t.sel.primary(),n,e,i)],0),r)}function Gi(t,n,e){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=qi(t.sel.ranges[o],n[o],null,i);var u=xi(t.cm,r,t.sel.primIndex);Ki(t,u,e)}function Vi(t,n,e,r){var i=t.sel.ranges.slice(0);i[n]=e,Ki(t,xi(t.cm,i,t.sel.primIndex),r)}function $i(t,n,e,r){Ki(t,wi(n,e),r)}function Xi(t,n,e){var r=t.history.done,i=X(r);i&&i.ranges?(r[r.length-1]=n,Zi(t,n,e)):Ki(t,n,e)}function Ki(t,n,e){Zi(t,n,e),Fi(t,t.sel,t.cm?t.cm.curOp.id:NaN,e)}function Zi(t,n,e){(mt(t,"beforeSelectionChange")||t.cm&&mt(t.cm,"beforeSelectionChange"))&&(n=function(t,n,e){var r={ranges:n.ranges,update:function(n){this.ranges=[];for(var e=0;e<n.length;e++)this.ranges[e]=new bi(cn(t,n[e].anchor),cn(t,n[e].head))},origin:e&&e.origin};return vt(t,"beforeSelectionChange",t,r),t.cm&&vt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=n.ranges?xi(t.cm,r.ranges,r.ranges.length-1):n}(t,n,e));var r=e&&e.bias||(nn(n.primary().head,t.sel.primary().head)<0?-1:1);Qi(t,to(t,n,r,!0)),e&&!1===e.scroll||!t.cm||Nr(t.cm)}function Qi(t,n){n.equals(t.sel)||(t.sel=n,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,yt(t.cm)),ce(t,"cursorActivity",t))}function Ji(t){Qi(t,to(t,t.sel,null,!1))}function to(t,n,e,r){for(var i,o=0;o<n.ranges.length;o++){var u=n.ranges[o],a=n.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],c=eo(t,u.anchor,a&&a.anchor,e,r),s=eo(t,u.head,a&&a.head,e,r);(i||c!=u.anchor||s!=u.head)&&(i||(i=n.ranges.slice(0,o)),i[o]=new bi(c,s))}return i?xi(t.cm,i,n.primIndex):n}function no(t,n,e,r,i){var o=Gt(t,n.line);if(o.markedSpans)for(var u=0;u<o.markedSpans.length;++u){var a=o.markedSpans[u],c=a.marker;if((null==a.from||(c.inclusiveLeft?a.from<=n.ch:a.from<n.ch))&&(null==a.to||(c.inclusiveRight?a.to>=n.ch:a.to>n.ch))){if(i&&(vt(c,"beforeCursorEnter"),c.explicitlyCleared)){if(o.markedSpans){--u;continue}break}if(!c.atomic)continue;if(e){var s=c.find(r<0?1:-1),l=void 0;if((r<0?c.inclusiveRight:c.inclusiveLeft)&&(s=ro(t,s,-r,s&&s.line==n.line?o:null)),s&&s.line==n.line&&(l=nn(s,e))&&(r<0?l<0:l>0))return no(t,s,n,r,i)}var f=c.find(r<0?-1:1);return(r<0?c.inclusiveLeft:c.inclusiveRight)&&(f=ro(t,f,r,f.line==n.line?o:null)),f?no(t,f,n,r,i):null}}return n}function eo(t,n,e,r,i){var o=r||1,u=no(t,n,e,o,i)||!i&&no(t,n,e,o,!0)||no(t,n,e,-o,i)||!i&&no(t,n,e,-o,!0);return u||(t.cantEdit=!0,tn(t.first,0))}function ro(t,n,e,r){return e<0&&0==n.ch?n.line>t.first?cn(t,tn(n.line-1)):null:e>0&&n.ch==(r||Gt(t,n.line)).text.length?n.line<t.first+t.size-1?tn(n.line+1,0):null:new tn(n.line,n.ch+e)}function io(t){t.setSelection(tn(t.firstLine(),0),tn(t.lastLine()),U)}function oo(t,n,e){var r={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return r.canceled=!0}};return e&&(r.update=function(n,e,i,o){n&&(r.from=cn(t,n)),e&&(r.to=cn(t,e)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),vt(t,"beforeChange",t,r),t.cm&&vt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function uo(t,n,e){if(t.cm){if(!t.cm.curOp)return Zr(t.cm,uo)(t,n,e);if(t.cm.state.suppressEdits)return}if(!(mt(t,"beforeChange")||t.cm&&mt(t.cm,"beforeChange"))||(n=oo(t,n,!0))){var r=wn&&!e&&function(t,n,e){var r=null;if(t.iter(n.line,e.line+1,function(t){if(t.markedSpans)for(var n=0;n<t.markedSpans.length;++n){var e=t.markedSpans[n].marker;!e.readOnly||r&&-1!=W(r,e)||(r||(r=[])).push(e)}}),!r)return null;for(var i=[{from:n,to:e}],o=0;o<r.length;++o)for(var u=r[o],a=u.find(0),c=0;c<i.length;++c){var s=i[c];if(!(nn(s.to,a.from)<0||nn(s.from,a.to)>0)){var l=[c,1],f=nn(s.from,a.from),h=nn(s.to,a.to);(f<0||!u.inclusiveLeft&&!f)&&l.push({from:s.from,to:a.from}),(h>0||!u.inclusiveRight&&!h)&&l.push({from:a.to,to:s.to}),i.splice.apply(i,l),c+=l.length-3}}return i}(t,n.from,n.to);if(r)for(var i=r.length-1;i>=0;--i)ao(t,{from:r[i].from,to:r[i].to,text:i?[""]:n.text,origin:n.origin});else ao(t,n)}}function ao(t,n){if(1!=n.text.length||""!=n.text[0]||0!=nn(n.from,n.to)){var e=ki(t,n);Ii(t,n,e,t.cm?t.cm.curOp.id:NaN),lo(t,n,e,Tn(t,n));var r=[];Ei(t,function(t,e){e||-1!=W(r,t.history)||(vo(t.history,n),r.push(t.history)),lo(t,n,null,Tn(t,n))})}}function co(t,n,e){var r=t.cm&&t.cm.state.suppressEdits;if(!r||e){for(var i,o=t.history,u=t.sel,a="undo"==n?o.done:o.undone,c="undo"==n?o.undone:o.done,s=0;s<a.length&&(i=a[s],e?!i.ranges||i.equals(t.sel):i.ranges);s++);if(s!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if(ji(i,c),e&&!i.equals(t.sel))return void Ki(t,i,{clearRedo:!1});u=i}var l=[];ji(u,c),c.push({changes:l,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=mt(t,"beforeChange")||t.cm&&mt(t.cm,"beforeChange"),h=function(e){var r=i.changes[e];if(r.origin=n,f&&!oo(t,r,!1))return a.length=0,{};l.push(zi(t,r));var o=e?ki(t,r):X(a);lo(t,r,o,Bi(t,r)),!e&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Mi(r)});var u=[];Ei(t,function(t,n){n||-1!=W(u,t.history)||(vo(t.history,r),u.push(t.history)),lo(t,r,null,Bi(t,r))})},d=i.changes.length-1;d>=0;--d){var p=h(d);if(p)return p.v}}}}function so(t,n){if(0!=n&&(t.first+=n,t.sel=new _i(K(t.sel.ranges,function(t){return new bi(tn(t.anchor.line+n,t.anchor.ch),tn(t.head.line+n,t.head.ch))}),t.sel.primIndex),t.cm)){sr(t.cm,t.first,t.first-n,n);for(var e=t.cm.display,r=e.viewFrom;r<e.viewTo;r++)lr(t.cm,r,"gutter")}}function lo(t,n,e,r){if(t.cm&&!t.cm.curOp)return Zr(t.cm,lo)(t,n,e,r);if(n.to.line<t.first)so(t,n.text.length-1-(n.to.line-n.from.line));else if(!(n.from.line>t.lastLine())){if(n.from.line<t.first){var i=n.text.length-1-(t.first-n.from.line);so(t,i),n={from:tn(t.first,0),to:tn(n.to.line+i,n.to.ch),text:[X(n.text)],origin:n.origin}}var o=t.lastLine();n.to.line>o&&(n={from:n.from,to:tn(o,Gt(t,o).text.length),text:[n.text[0]],origin:n.origin}),n.removed=Vt(t,n.from,n.to),e||(e=ki(t,n)),t.cm?function(t,n,e){var r=t.doc,i=t.display,o=n.from,u=n.to,a=!1,c=o.line;t.options.lineWrapping||(c=Kt(jn(Gt(r,o.line))),r.iter(c,u.line+1,function(t){if(t==i.maxLine)return a=!0,!0})),r.sel.contains(n.from,n.to)>-1&&yt(t),Li(r,n,e,or(t)),t.options.lineWrapping||(r.iter(c,o.line+n.text.length,function(t){var n=Yn(t);n>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=n,i.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0)),function(t,n){if(t.modeFrontier=Math.min(t.modeFrontier,n),!(t.highlightFrontier<n-10)){for(var e=t.first,r=n-1;r>e;r--){var i=Gt(t,r).stateAfter;if(i&&(!(i instanceof ln)||r+i.lookAhead<n)){e=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,e)}}(r,o.line),ti(t,400);var s=n.text.length-(u.line-o.line)-1;n.full?sr(t):o.line!=u.line||1!=n.text.length||Ni(t.doc,n)?sr(t,o.line,u.line+1,s):lr(t,o.line,"text");var l=mt(t,"changes"),f=mt(t,"change");if(f||l){var h={from:o,to:u,text:n.text,removed:n.removed,origin:n.origin};f&&ce(t,"change",t,h),l&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,n,r):Li(t,n,r),Zi(t,e,U)}}function fo(t,n,e,r,i){var o;r||(r=e),nn(r,e)<0&&(e=(o=[r,e])[0],r=o[1]),"string"==typeof n&&(n=t.splitLines(n)),uo(t,{from:e,to:r,text:n,origin:i})}function ho(t,n,e,r){e<t.line?t.line+=r:n<t.line&&(t.line=n,t.ch=0)}function po(t,n,e,r){for(var i=0;i<t.length;++i){var o=t[i],u=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)ho(o.ranges[a].anchor,n,e,r),ho(o.ranges[a].head,n,e,r)}else{for(var c=0;c<o.changes.length;++c){var s=o.changes[c];if(e<s.from.line)s.from=tn(s.from.line+r,s.from.ch),s.to=tn(s.to.line+r,s.to.ch);else if(n<=s.to.line){u=!1;break}}u||(t.splice(0,i+1),i=0)}}}function vo(t,n){var e=n.from.line,r=n.to.line,i=n.text.length-(r-e)-1;po(t.done,e,r,i),po(t.undone,e,r,i)}function go(t,n,e,r){var i=n,o=n;return"number"==typeof n?o=Gt(t,an(t,n)):i=Kt(n),null==i?null:(r(o,i)&&t.cm&&lr(t.cm,i,e),o)}function yo(t){this.lines=t,this.parent=null;for(var n=0,e=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function mo(t){this.children=t;for(var n=0,e=0,r=0;r<t.length;++r){var i=t[r];n+=i.chunkSize(),e+=i.height,i.parent=this}this.size=n,this.height=e,this.parent=null}bi.prototype.from=function(){return un(this.anchor,this.head)},bi.prototype.to=function(){return on(this.anchor,this.head)},bi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},yo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,n){for(var e=t,r=t+n;e<r;++e){var i=this.lines[e];this.height-=i.height,$n(i),ce(i,"delete")}this.lines.splice(t,n)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,n,e){this.height+=e,this.lines=this.lines.slice(0,t).concat(n).concat(this.lines.slice(t));for(var r=0;r<n.length;++r)n[r].parent=this},iterN:function(t,n,e){for(var r=t+n;t<r;++t)if(e(this.lines[t]))return!0}},mo.prototype={chunkSize:function(){return this.size},removeInner:function(t,n){this.size-=n;for(var e=0;e<this.children.length;++e){var r=this.children[e],i=r.chunkSize();if(t<i){var o=Math.min(n,i-t),u=r.height;if(r.removeInner(t,o),this.height-=u-r.height,i==o&&(this.children.splice(e--,1),r.parent=null),0==(n-=o))break;t=0}else t-=i}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof yo))){var a=[];this.collapse(a),this.children=[new yo(a)],this.children[0].parent=this}},collapse:function(t){for(var n=0;n<this.children.length;++n)this.children[n].collapse(t)},insertInner:function(t,n,e){this.size+=n.length,this.height+=e;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,n,e),i.lines&&i.lines.length>50){for(var u=i.lines.length%25+25,a=u;a<i.lines.length;){var c=new yo(i.lines.slice(a,a+=25));i.height-=c.height,this.children.splice(++r,0,c),c.parent=this}i.lines=i.lines.slice(0,u),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var n=t.children.splice(t.children.length-5,5),e=new mo(n);if(t.parent){t.size-=e.size,t.height-=e.height;var r=W(t.parent.children,t);t.parent.children.splice(r+1,0,e)}else{var i=new mo(t.children);i.parent=t,t.children=[i,e],t=i}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,n,e){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var u=Math.min(n,o-t);if(i.iterN(t,u,e))return!0;if(0==(n-=u))break;t=0}else t-=o}}};var _o=function(t,n,e){if(e)for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);this.doc=t,this.node=n};function bo(t,n,e){qn(n)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ar(t,e)}_o.prototype.clear=function(){var t=this.doc.cm,n=this.line.widgets,e=this.line,r=Kt(e);if(null!=r&&n){for(var i=0;i<n.length;++i)n[i]==this&&n.splice(i--,1);n.length||(e.widgets=null);var o=xe(this);Xt(e,Math.max(0,e.height-o)),t&&(Kr(t,function(){bo(t,e,-o),lr(t,r,"widget")}),ce(t,"lineWidgetCleared",t,this,r))}},_o.prototype.changed=function(){var t=this,n=this.height,e=this.doc.cm,r=this.line;this.height=null;var i=xe(this)-n;i&&(Bn(this.doc,r)||Xt(r,r.height+i),e&&Kr(e,function(){e.curOp.forceUpdate=!0,bo(e,r,i),ce(e,"lineWidgetChanged",e,t,Kt(r))}))},_t(_o);var xo=0,wo=function(t,n){this.lines=[],this.type=n,this.doc=t,this.id=++xo};function Mo(t,n,e,r,i){if(r&&r.shared)return function(t,n,e,r,i){(r=I(r)).shared=!1;var o=[Mo(t,n,e,r,i)],u=o[0],a=r.widgetNode;return Ei(t,function(t){a&&(r.widgetNode=a.cloneNode(!0)),o.push(Mo(t,cn(t,n),cn(t,e),r,i));for(var c=0;c<t.linked.length;++c)if(t.linked[c].isParent)return;u=X(o)}),new Co(o,u)}(t,n,e,r,i);if(t.cm&&!t.cm.curOp)return Zr(t.cm,Mo)(t,n,e,r,i);var o=new wo(t,i),u=nn(n,e);if(r&&I(r,o,!1),u>0||0==u&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Fn(t,n.line,n,e,o)||n.line!=e.line&&Fn(t,e.line,n,e,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mn=!0}o.addToHistory&&Ii(t,{from:n,to:e,origin:"markText"},t.sel,NaN);var a,c=n.line,s=t.cm;if(t.iter(c,e.line+1,function(t){s&&o.collapsed&&!s.options.lineWrapping&&jn(t)==s.display.maxLine&&(a=!0),o.collapsed&&c!=n.line&&Xt(t,0),function(t,n){t.markedSpans=t.markedSpans?t.markedSpans.concat([n]):[n],n.marker.attachLine(t)}(t,new Cn(o,c==n.line?n.ch:null,c==e.line?e.ch:null)),++c}),o.collapsed&&t.iter(n.line,e.line+1,function(n){Bn(t,n)&&Xt(n,0)}),o.clearOnEnter&&ht(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(wn=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++xo,o.atomic=!0),s){if(a&&(s.curOp.updateMaxLine=!0),o.collapsed)sr(s,n.line,e.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var l=n.line;l<=e.line;l++)lr(s,l,"text");o.atomic&&Ji(s.doc),ce(s,"markerAdded",s,o)}return o}wo.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&qr(t),mt(this,"clear")){var e=this.find();e&&ce(this,"clear",e.from,e.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var u=this.lines[o],a=kn(u.markedSpans,this);t&&!this.collapsed?lr(t,Kt(u),"text"):t&&(null!=a.to&&(i=Kt(u)),null!=a.from&&(r=Kt(u))),u.markedSpans=Sn(u.markedSpans,a),null==a.from&&this.collapsed&&!Bn(this.doc,u)&&t&&Xt(u,nr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var s=jn(this.lines[c]),l=Yn(s);l>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=l,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&sr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ji(t.doc)),t&&ce(t,"markerCleared",t,this,r,i),n&&Yr(t),this.parent&&this.parent.clear()}},wo.prototype.find=function(t,n){var e,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],u=kn(o.markedSpans,this);if(null!=u.from&&(e=tn(n?o:Kt(o),u.from),-1==t))return e;if(null!=u.to&&(r=tn(n?o:Kt(o),u.to),1==t))return r}return e&&{from:e,to:r}},wo.prototype.changed=function(){var t=this,n=this.find(-1,!0),e=this,r=this.doc.cm;n&&r&&Kr(r,function(){var i=n.line,o=Kt(n.line),u=Ee(r,o);if(u&&(Fe(u),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Bn(e.doc,i)&&null!=e.height){var a=e.height;e.height=null;var c=xe(e)-a;c&&Xt(i,i.height+c)}ce(r,"markerChanged",r,t)})},wo.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;n.maybeHiddenMarkers&&-1!=W(n.maybeHiddenMarkers,this)||(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},wo.prototype.detachLine=function(t){if(this.lines.splice(W(this.lines,t),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},_t(wo);var Co=function(t,n){this.markers=t,this.primary=n;for(var e=0;e<t.length;++e)t[e].parent=this};function ko(t){return t.findMarks(tn(t.first,0),t.clipPos(tn(t.lastLine())),function(t){return t.parent})}function So(t){for(var n=function(n){var e=t[n],r=[e.primary.doc];Ei(e.primary.doc,function(t){return r.push(t)});for(var i=0;i<e.markers.length;i++){var o=e.markers[i];-1==W(r,o.doc)&&(o.parent=null,e.markers.splice(i--,1))}},e=0;e<t.length;e++)n(e)}Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ce(this,"clear")}},Co.prototype.find=function(t,n){return this.primary.find(t,n)},_t(Co);var To=0,Ao=function(t,n,e,r,i){if(!(this instanceof Ao))return new Ao(t,n,e,r,i);null==e&&(e=0),mo.call(this,[new yo([new Vn("",null)])]),this.first=e,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=e;var o=tn(e,0);this.sel=wi(o),this.history=new Pi(null),this.id=++To,this.modeOption=n,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Li(this,{from:o,to:o,text:t}),Ki(this,wi(o),U)};Ao.prototype=Q(mo.prototype,{constructor:Ao,iter:function(t,n,e){e?this.iterN(t-this.first,n-t,e):this.iterN(this.first,this.first+this.size,t)},insert:function(t,n){for(var e=0,r=0;r<n.length;++r)e+=n[r].height;this.insertInner(t-this.first,n,e)},remove:function(t,n){this.removeInner(t-this.first,n)},getValue:function(t){var n=$t(this,this.first,this.first+this.size);return!1===t?n:n.join(t||this.lineSeparator())},setValue:Jr(function(t){var n=tn(this.first,0),e=this.first+this.size-1;uo(this,{from:n,to:tn(e,Gt(this,e).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Lr(this.cm,0,0),Ki(this,wi(n),U)}),replaceRange:function(t,n,e,r){n=cn(this,n),e=e?cn(this,e):n,fo(this,t,n,e,r)},getRange:function(t,n,e){var r=Vt(this,cn(this,t),cn(this,n));return!1===e?r:r.join(e||this.lineSeparator())},getLine:function(t){var n=this.getLineHandle(t);return n&&n.text},getLineHandle:function(t){if(Qt(this,t))return Gt(this,t)},getLineNumber:function(t){return Kt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Gt(this,t)),jn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return cn(this,t)},getCursor:function(t){var n=this.sel.primary();return null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||!1===t?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jr(function(t,n,e){$i(this,cn(this,"number"==typeof t?tn(t,n||0):t),null,e)}),setSelection:Jr(function(t,n,e){$i(this,cn(this,t),cn(this,n||t),e)}),extendSelection:Jr(function(t,n,e){Yi(this,cn(this,t),n&&cn(this,n),e)}),extendSelections:Jr(function(t,n){Gi(this,sn(this,t),n)}),extendSelectionsBy:Jr(function(t,n){var e=K(this.sel.ranges,t);Gi(this,sn(this,e),n)}),setSelections:Jr(function(t,n,e){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new bi(cn(this,t[i].anchor),cn(this,t[i].head));null==n&&(n=Math.min(t.length-1,this.sel.primIndex)),Ki(this,xi(this.cm,r,n),e)}}),addSelection:Jr(function(t,n,e){var r=this.sel.ranges.slice(0);r.push(new bi(cn(this,t),cn(this,n||t))),Ki(this,xi(this.cm,r,r.length-1),e)}),getSelection:function(t){for(var n,e=this.sel.ranges,r=0;r<e.length;r++){var i=Vt(this,e[r].from(),e[r].to());n=n?n.concat(i):i}return!1===t?n:n.join(t||this.lineSeparator())},getSelections:function(t){for(var n=[],e=this.sel.ranges,r=0;r<e.length;r++){var i=Vt(this,e[r].from(),e[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),n[r]=i}return n},replaceSelection:function(t,n,e){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,n,e||"+input")},replaceSelections:Jr(function(t,n,e){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var u=i.ranges[o];r[o]={from:u.from(),to:u.to(),text:this.splitLines(t[o]),origin:e}}for(var a=n&&"end"!=n&&function(t,n,e){for(var r=[],i=tn(t.first,0),o=i,u=0;u<n.length;u++){var a=n[u],c=Si(a.from,i,o),s=Si(Mi(a),i,o);if(i=a.to,o=s,"around"==e){var l=t.sel.ranges[u],f=nn(l.head,l.anchor)<0;r[u]=new bi(f?s:c,f?c:s)}else r[u]=new bi(c,c)}return new _i(r,t.sel.primIndex)}(this,r,n),c=r.length-1;c>=0;c--)uo(this,r[c]);a?Xi(this,a):this.cm&&Nr(this.cm)}),undo:Jr(function(){co(this,"undo")}),redo:Jr(function(){co(this,"redo")}),undoSelection:Jr(function(){co(this,"undo",!0)}),redoSelection:Jr(function(){co(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,n=0,e=0,r=0;r<t.done.length;r++)t.done[r].ranges||++n;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++e;return{undo:n,redo:e}},clearHistory:function(){this.history=new Pi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ui(this.history.done),undone:Ui(this.history.undone)}},setHistory:function(t){var n=this.history=new Pi(this.history.maxGeneration);n.done=Ui(t.done.slice(0),null,!0),n.undone=Ui(t.undone.slice(0),null,!0)},setGutterMarker:Jr(function(t,n,e){return go(this,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[n]=e,!e&&et(r)&&(t.gutterMarkers=null),!0})}),clearGutter:Jr(function(t){var n=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&go(n,e,"gutter",function(){return e.gutterMarkers[t]=null,et(e.gutterMarkers)&&(e.gutterMarkers=null),!0})})}),lineInfo:function(t){var n;if("number"==typeof t){if(!Qt(this,t))return null;if(n=t,!(t=Gt(this,t)))return null}else if(null==(n=Kt(t)))return null;return{line:n,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jr(function(t,n,e){return go(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[r]){if(C(e).test(t[r]))return!1;t[r]+=" "+e}else t[r]=e;return!0})}),removeLineClass:Jr(function(t,n,e){return go(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==e)t[r]=null;else{var o=i.match(C(e));if(!o)return!1;var u=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&u!=i.length?" ":"")+i.slice(u)||null}return!0})}),addLineWidget:Jr(function(t,n,e){return function(t,n,e,r){var i=new _o(t,e,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),go(t,n,"widget",function(n){var e=n.widgets||(n.widgets=[]);if(null==i.insertAt?e.push(i):e.splice(Math.min(e.length-1,Math.max(0,i.insertAt)),0,i),i.line=n,o&&!Bn(t,n)){var r=qn(n)<t.scrollTop;Xt(n,n.height+xe(i)),r&&Ar(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&ce(o,"lineWidgetAdded",o,i,"number"==typeof n?n:Kt(n)),i}(this,t,n,e)}),removeLineWidget:function(t){t.clear()},markText:function(t,n,e){return Mo(this,cn(this,t),cn(this,n),e,e&&e.type||"range")},setBookmark:function(t,n){var e={replacedWith:n&&(null==n.nodeType?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return Mo(this,t=cn(this,t),t,e,"bookmark")},findMarksAt:function(t){t=cn(this,t);var n=[],e=Gt(this,t.line).markedSpans;if(e)for(var r=0;r<e.length;++r){var i=e[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&n.push(i.marker.parent||i.marker)}return n},findMarks:function(t,n,e){t=cn(this,t),n=cn(this,n);var r=[],i=t.line;return this.iter(t.line,n.line+1,function(o){var u=o.markedSpans;if(u)for(var a=0;a<u.length;a++){var c=u[a];null!=c.to&&i==t.line&&t.ch>=c.to||null==c.from&&i!=t.line||null!=c.from&&i==n.line&&c.from>=n.ch||e&&!e(c.marker)||r.push(c.marker.parent||c.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(n){var e=n.markedSpans;if(e)for(var r=0;r<e.length;++r)null!=e[r].from&&t.push(e[r].marker)}),t},posFromIndex:function(t){var n,e=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>t)return n=t,!0;t-=o,++e}),cn(this,tn(e,n))},indexFromPos:function(t){var n=(t=cn(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var e=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){n+=t.text.length+e}),n},copy:function(t){var n=new Ao($t(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,t&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(t){t||(t={});var n=this.first,e=this.first+this.size;null!=t.from&&t.from>n&&(n=t.from),null!=t.to&&t.to<e&&(e=t.to);var r=new Ao($t(this,n,e),t.mode||this.modeOption,n,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,n){for(var e=0;e<n.length;e++){var r=n[e],i=r.find(),o=t.clipPos(i.from),u=t.clipPos(i.to);if(nn(o,u)){var a=Mo(t,o,u,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,ko(this)),r},unlinkDoc:function(t){if(t instanceof Cu&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var e=this.linked[n];if(e.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),So(ko(this));break}}if(t.history==this.history){var r=[t.id];Ei(t,function(t){return r.push(t.id)},!0),t.history=new Pi(null),t.history.done=Ui(this.history.done,r),t.history.undone=Ui(this.history.undone,r)}},iterLinkedDocs:function(t){Ei(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Ot(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Jr(function(t){var n;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Kr(n=this.cm,function(){Di(n),sr(n)}))})}),Ao.prototype.eachLine=Ao.prototype.iter;var No=0;function Lo(t){var n=this;if(Eo(n),!gt(n,t)&&!we(n.display,t)){bt(t),u&&(No=+new Date);var e=ar(n,t,!0),r=t.dataTransfer.files;if(e&&!n.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,c=function(t,r){if(!n.options.allowDropFileTypes||-1!=W(n.options.allowDropFileTypes,t.type)){var u=new FileReader;u.onload=Zr(n,function(){var t=u.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++a==i){var c={from:e=cn(n.doc,e),to:e,text:n.doc.splitLines(o.join(n.doc.lineSeparator())),origin:"paste"};uo(n.doc,c),Xi(n.doc,wi(e,Mi(c)))}}),u.readAsText(t)}},s=0;s<i;++s)c(r[s],s);else{if(n.state.draggingText&&n.doc.sel.contains(e)>-1)return n.state.draggingText(t),void setTimeout(function(){return n.display.input.focus()},20);try{var l=t.dataTransfer.getData("Text");if(l){var f;if(n.state.draggingText&&!n.state.draggingText.copy&&(f=n.listSelections()),Zi(n.doc,wi(e,e)),f)for(var h=0;h<f.length;++h)fo(n.doc,"",f[h].anchor,f[h].head,"drag");n.replaceSelection(l,"around","paste"),n.display.input.focus()}}catch(t){}}}}function Eo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Oo(t){if(document.getElementsByClassName){for(var n=document.getElementsByClassName("CodeMirror"),e=[],r=0;r<n.length;r++){var i=n[r].CodeMirror;i&&e.push(i)}e.length&&e[0].operation(function(){for(var n=0;n<e.length;n++)t(e[n])})}}var Do=!1;function Po(){var t;Do||(ht(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Oo(zo)},100))}),ht(window,"blur",function(){return Oo(Mr)}),Do=!0)}function zo(t){var n=t.display;n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,t.setSize()}for(var Ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Io=0;Io<10;Io++)Ro[Io+48]=Ro[Io+96]=String(Io);for(var Fo=65;Fo<=90;Fo++)Ro[Fo]=String.fromCharCode(Fo);for(var jo=1;jo<=12;jo++)Ro[jo+111]=Ro[jo+63235]="F"+jo;var Wo={};function Ho(t){var n,e,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var u=0;u<o.length-1;u++){var a=o[u];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))e=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return n&&(t="Alt-"+t),e&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Bo(t){var n={};for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];if(/^(name|fallthrough|(de|at)tach)$/.test(e))continue;if("..."==r){delete t[e];continue}for(var i=K(e.split(" "),Ho),o=0;o<i.length;o++){var u=void 0,a=void 0;o==i.length-1?(a=i.join(" "),u=r):(a=i.slice(0,o+1).join(" "),u="...");var c=n[a];if(c){if(c!=u)throw new Error("Inconsistent bindings for "+a)}else n[a]=u}delete t[e]}for(var s in n)t[s]=n[s];return t}function Uo(t,n,e,r){var i=(n=Vo(n)).call?n.call(t,r):n[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&e(i))return"handled";if(n.fallthrough){if("[object Array]"!=Object.prototype.toString.call(n.fallthrough))return Uo(t,n.fallthrough,e,r);for(var o=0;o<n.fallthrough.length;o++){var u=Uo(t,n.fallthrough[o],e,r);if(u)return u}}}function qo(t){var n="string"==typeof t?t:Ro[t.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function Yo(t,n,e){var r=t;return n.altKey&&"Alt"!=r&&(t="Alt-"+t),(w?n.metaKey:n.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(w?n.ctrlKey:n.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!e&&n.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Go(t,n){if(f&&34==t.keyCode&&t.char)return!1;var e=Ro[t.keyCode];return null!=e&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(e=t.code),Yo(e,t,n))}function Vo(t){return"string"==typeof t?Wo[t]:t}function $o(t,n){for(var e=t.doc.sel.ranges,r=[],i=0;i<e.length;i++){for(var o=n(e[i]);r.length&&nn(o.from,X(r).to)<=0;){var u=r.pop();if(nn(u.from,o.from)<0){o.from=u.from;break}}r.push(o)}Kr(t,function(){for(var n=r.length-1;n>=0;n--)fo(t.doc,"",r[n].from,r[n].to,"+delete");Nr(t)})}function Xo(t,n,e){var r=ot(t.text,n+e,e);return r<0||r>t.text.length?null:r}function Ko(t,n,e){var r=Xo(t,n.ch,e);return null==r?null:new tn(n.line,r,e<0?"after":"before")}function Zo(t,n,e,r,i){if(t){var o=lt(e,n.doc.direction);if(o){var u,a=i<0?X(o):o[0],c=i<0==(1==a.level),s=c?"after":"before";if(a.level>0||"rtl"==n.doc.direction){var l=Oe(n,e);u=i<0?e.text.length-1:0;var f=De(n,l,u).top;u=ut(function(t){return De(n,l,t).top==f},i<0==(1==a.level)?a.from:a.to-1,u),"before"==s&&(u=Xo(e,u,1))}else u=i<0?a.to:a.from;return new tn(r,u,s)}}return new tn(r,i<0?e.text.length:0,i<0?"before":"after")}Wo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Wo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Wo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Wo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Wo.default=m?Wo.macDefault:Wo.pcDefault;var Qo={selectAll:io,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),U)},killLine:function(t){return $o(t,function(n){if(n.empty()){var e=Gt(t.doc,n.head.line).text.length;return n.head.ch==e&&n.head.line<t.lastLine()?{from:n.head,to:tn(n.head.line+1,0)}:{from:n.head,to:tn(n.head.line,e)}}return{from:n.from(),to:n.to()}})},deleteLine:function(t){return $o(t,function(n){return{from:tn(n.from().line,0),to:cn(t.doc,tn(n.to().line+1,0))}})},delLineLeft:function(t){return $o(t,function(t){return{from:tn(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return $o(t,function(n){var e=t.charCoords(n.head,"div").top+5,r=t.coordsChar({left:0,top:e},"div");return{from:r,to:n.from()}})},delWrappedLineRight:function(t){return $o(t,function(n){var e=t.charCoords(n.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div");return{from:n.from(),to:r}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(tn(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(tn(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(n){return Jo(t,n.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(n){return tu(t,n.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(n){return function(t,n){var e=Gt(t.doc,n),r=function(t){for(var n;n=Rn(t);)t=n.find(1,!0).line;return t}(e);return r!=e&&(n=Kt(r)),Zo(!0,t,e,n,-1)}(t,n.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(n){var e=t.cursorCoords(n.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div")},Y)},goLineLeft:function(t){return t.extendSelectionsBy(function(n){var e=t.cursorCoords(n.head,"div").top+5;return t.coordsChar({left:0,top:e},"div")},Y)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(n){var e=t.cursorCoords(n.head,"div").top+5,r=t.coordsChar({left:0,top:e},"div");return r.ch<t.getLine(r.line).search(/\S/)?tu(t,n.head):r},Y)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var n=[],e=t.listSelections(),r=t.options.tabSize,i=0;i<e.length;i++){var o=e[i].from(),u=F(t.getLine(o.line),o.ch,r);n.push($(r-u%r))}t.replaceSelections(n)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Kr(t,function(){for(var n=t.listSelections(),e=[],r=0;r<n.length;r++)if(n[r].empty()){var i=n[r].head,o=Gt(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new tn(i.line,i.ch-1)),i.ch>0)i=new tn(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),tn(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var u=Gt(t.doc,i.line-1).text;u&&(i=new tn(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+u.charAt(u.length-1),tn(i.line-1,u.length-1),i,"+transpose"))}e.push(new bi(i,i))}t.setSelections(e)})},newlineAndIndent:function(t){return Kr(t,function(){for(var n=t.listSelections(),e=n.length-1;e>=0;e--)t.replaceRange(t.doc.lineSeparator(),n[e].anchor,n[e].head,"+input");n=t.listSelections();for(var r=0;r<n.length;r++)t.indentLine(n[r].from().line,null,!0);Nr(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Jo(t,n){var e=Gt(t.doc,n),r=jn(e);return r!=e&&(n=Kt(r)),Zo(!0,t,r,n,1)}function tu(t,n){var e=Jo(t,n.line),r=Gt(t.doc,e.line),i=lt(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),u=n.line==e.line&&n.ch<=o&&n.ch;return tn(e.line,u?0:o,e.sticky)}return e}function nu(t,n,e){if("string"==typeof n&&!(n=Qo[n]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),e&&(t.display.shift=!1),i=n(t)!=B}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var eu=new j;function ru(t,n,e,r){var i=t.state.keySeq;if(i){if(qo(n))return"handled";if(/\'$/.test(n)?t.state.keySeq=null:eu.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),iu(t,i+" "+n,e,r))return!0}return iu(t,n,e,r)}function iu(t,n,e,r){var i=function(t,n,e){for(var r=0;r<t.state.keyMaps.length;r++){var i=Uo(n,t.state.keyMaps[r],e,t);if(i)return i}return t.options.extraKeys&&Uo(n,t.options.extraKeys,e,t)||Uo(n,t.options.keyMap,e,t)}(t,n,r);return"multi"==i&&(t.state.keySeq=n),"handled"==i&&ce(t,"keyHandled",t,n,e),"handled"!=i&&"multi"!=i||(bt(e),_r(t)),!!i}function ou(t,n){var e=Go(n,!0);return!!e&&(n.shiftKey&&!t.state.keySeq?ru(t,"Shift-"+e,n,function(n){return nu(t,n,!0)})||ru(t,e,n,function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return nu(t,n)}):ru(t,e,n,function(n){return nu(t,n)}))}var uu=null;function au(t){var n=this;if(n.curOp.focus=O(),!gt(n,t)){u&&a<11&&27==t.keyCode&&(t.returnValue=!1);var e=t.keyCode;n.display.shift=16==e||t.shiftKey;var r=ou(n,t);f&&(uu=r?e:null,!r&&88==e&&!Pt&&(m?t.metaKey:t.ctrlKey)&&n.replaceSelection("",null,"cut")),18!=e||/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)||function(t){var n=t.display.lineDiv;function e(t){18!=t.keyCode&&t.altKey||(S(n,"CodeMirror-crosshair"),pt(document,"keyup",e),pt(document,"mouseover",e))}D(n,"CodeMirror-crosshair"),ht(document,"keyup",e),ht(document,"mouseover",e)}(n)}}function cu(t){16==t.keyCode&&(this.doc.sel.shift=!1),gt(this,t)}function su(t){var n=this;if(!(we(n.display,t)||gt(n,t)||t.ctrlKey&&!t.altKey||m&&t.metaKey)){var e=t.keyCode,r=t.charCode;if(f&&e==uu)return uu=null,void bt(t);if(!f||t.which&&!(t.which<10)||!ou(n,t)){var i=String.fromCharCode(null==r?e:r);"\b"!=i&&(function(t,n,e){return ru(t,"'"+e+"'",n,function(n){return nu(t,n,!0)})}(n,t,i)||n.display.input.onKeyPress(t))}}}var lu,fu,hu=function(t,n,e){this.time=t,this.pos=n,this.button=e};function du(t){var n=this,e=n.display;if(!(gt(n,t)||e.activeTouch&&e.input.supportsTouch()))if(e.input.ensurePolled(),e.shift=t.shiftKey,we(e,t))c||(e.scroller.draggable=!1,setTimeout(function(){return e.scroller.draggable=!0},100));else if(!gu(n,t)){var r=ar(n,t),i=kt(t),o=r?function(t,n){var e=+new Date;return fu&&fu.compare(e,t,n)?(lu=fu=null,"triple"):lu&&lu.compare(e,t,n)?(fu=new hu(e,t,n),lu=null,"double"):(lu=new hu(e,t,n),fu=null,"single")}(r,i):"single";window.focus(),1==i&&n.state.selectingText&&n.state.selectingText(t),r&&function(t,n,e,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ru(t,Yo(o=(1==n?"Left":2==n?"Middle":"Right")+o,i),i,function(n){if("string"==typeof n&&(n=Qo[n]),!n)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=n(t,e)!=B}finally{t.state.suppressEdits=!1}return r})}(n,i,r,o,t)||(1==i?r?function(t,n,e,r){u?setTimeout(R(br,t),0):t.curOp.focus=O();var i,o=function(t,n,e){var r=t.getOption("configureMouse"),i=r?r(t,n,e):{};if(null==i.unit){var o=_?e.shiftKey&&e.metaKey:e.altKey;i.unit=o?"rectangle":"single"==n?"char":"double"==n?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||e.shiftKey),null==i.addNew&&(i.addNew=m?e.metaKey:e.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(m?e.altKey:e.ctrlKey)),i}(t,e,r),s=t.doc.sel;t.options.dragDrop&&At&&!t.isReadOnly()&&"single"==e&&(i=s.contains(n))>-1&&(nn((i=s.ranges[i]).from(),n)<0||n.xRel>0)&&(nn(i.to(),n)>0||n.xRel<0)?function(t,n,e,r){var i=t.display,o=!1,s=Zr(t,function(n){c&&(i.scroller.draggable=!1),t.state.draggingText=!1,pt(i.wrapper.ownerDocument,"mouseup",s),pt(i.wrapper.ownerDocument,"mousemove",l),pt(i.scroller,"dragstart",f),pt(i.scroller,"drop",s),o||(bt(n),r.addNew||Yi(t.doc,e,null,null,r.extend),c||u&&9==a?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),l=function(t){o=o||Math.abs(n.clientX-t.clientX)+Math.abs(n.clientY-t.clientY)>=10},f=function(){return o=!0};c&&(i.scroller.draggable=!0),t.state.draggingText=s,s.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ht(i.wrapper.ownerDocument,"mouseup",s),ht(i.wrapper.ownerDocument,"mousemove",l),ht(i.scroller,"dragstart",f),ht(i.scroller,"drop",s),xr(t),setTimeout(function(){return i.input.focus()},20)}(t,r,n,o):function(t,n,e,r){var i=t.display,o=t.doc;bt(n);var u,a,c=o.sel,s=c.ranges;if(r.addNew&&!r.extend?(a=o.sel.contains(e),u=a>-1?s[a]:new bi(e,e)):(u=o.sel.primary(),a=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(u=new bi(e,e)),e=ar(t,n,!0,!0),a=-1;else{var l=pu(t,e,r.unit);u=r.extend?qi(u,l.anchor,l.head,r.extend):l}r.addNew?-1==a?(a=s.length,Ki(o,xi(t,s.concat([u]),a),{scroll:!1,origin:"*mouse"})):s.length>1&&s[a].empty()&&"char"==r.unit&&!r.extend?(Ki(o,xi(t,s.slice(0,a).concat(s.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Vi(o,a,u,q):(a=0,Ki(o,new _i([u],0),q),c=o.sel);var f=e;function h(n){if(0!=nn(f,n))if(f=n,"rectangle"==r.unit){for(var i=[],s=t.options.tabSize,l=F(Gt(o,e.line).text,e.ch,s),h=F(Gt(o,n.line).text,n.ch,s),d=Math.min(l,h),p=Math.max(l,h),v=Math.min(e.line,n.line),g=Math.min(t.lastLine(),Math.max(e.line,n.line));v<=g;v++){var y=Gt(o,v).text,m=G(y,d,s);d==p?i.push(new bi(tn(v,m),tn(v,m))):y.length>m&&i.push(new bi(tn(v,m),tn(v,G(y,p,s))))}i.length||i.push(new bi(e,e)),Ki(o,xi(t,c.ranges.slice(0,a).concat(i),a),{origin:"*mouse",scroll:!1}),t.scrollIntoView(n)}else{var _,b=u,x=pu(t,n,r.unit),w=b.anchor;nn(x.anchor,w)>0?(_=x.head,w=un(b.from(),x.anchor)):(_=x.anchor,w=on(b.to(),x.head));var M=c.ranges.slice(0);M[a]=function(t,n){var e=n.anchor,r=n.head,i=Gt(t.doc,e.line);if(0==nn(e,r)&&e.sticky==r.sticky)return n;var o=lt(i);if(!o)return n;var u=ct(o,e.ch,e.sticky),a=o[u];if(a.from!=e.ch&&a.to!=e.ch)return n;var c,s=u+(a.from==e.ch==(1!=a.level)?0:1);if(0==s||s==o.length)return n;if(r.line!=e.line)c=(r.line-e.line)*("ltr"==t.doc.direction?1:-1)>0;else{var l=ct(o,r.ch,r.sticky),f=l-u||(r.ch-e.ch)*(1==a.level?-1:1);c=l==s-1||l==s?f<0:f>0}var h=o[s+(c?-1:0)],d=c==(1==h.level),p=d?h.from:h.to,v=d?"after":"before";return e.ch==p&&e.sticky==v?n:new bi(new tn(e.line,p,v),r)}(t,new bi(cn(o,w),_)),Ki(o,xi(t,M,a),q)}}var d=i.wrapper.getBoundingClientRect(),p=0;function v(n){t.state.selectingText=!1,p=1/0,n&&(bt(n),i.input.focus()),pt(i.wrapper.ownerDocument,"mousemove",g),pt(i.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var g=Zr(t,function(n){0!==n.buttons&&kt(n)?function n(e){var u=++p,a=ar(t,e,!0,"rectangle"==r.unit);if(a)if(0!=nn(a,f)){t.curOp.focus=O(),h(a);var c=Sr(i,o);(a.line>=c.to||a.line<c.from)&&setTimeout(Zr(t,function(){p==u&&n(e)}),150)}else{var s=e.clientY<d.top?-20:e.clientY>d.bottom?20:0;s&&setTimeout(Zr(t,function(){p==u&&(i.scroller.scrollTop+=s,n(e))}),50)}}(n):v(n)}),y=Zr(t,v);t.state.selectingText=y,ht(i.wrapper.ownerDocument,"mousemove",g),ht(i.wrapper.ownerDocument,"mouseup",y)}(t,r,n,o)}(n,r,o,t):Ct(t)==e.scroller&&bt(t):2==i?(r&&Yi(n.doc,r),setTimeout(function(){return e.input.focus()},20)):3==i&&(M?n.display.input.onContextMenu(t):xr(n)))}}function pu(t,n,e){if("char"==e)return new bi(n,n);if("word"==e)return t.findWordAt(n);if("line"==e)return new bi(tn(n.line,0),cn(t.doc,tn(n.line+1,0)));var r=e(t,n);return new bi(r.from,r.to)}function vu(t,n,e,r){var i,o;if(n.touches)i=n.touches[0].clientX,o=n.touches[0].clientY;else try{i=n.clientX,o=n.clientY}catch(n){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&bt(n);var u=t.display,a=u.lineDiv.getBoundingClientRect();if(o>a.bottom||!mt(t,e))return wt(n);o-=a.top-u.viewOffset;for(var c=0;c<t.display.gutterSpecs.length;++c){var s=u.gutters.childNodes[c];if(s&&s.getBoundingClientRect().right>=i){var l=Zt(t.doc,o),f=t.display.gutterSpecs[c];return vt(t,e,t,l,f.className,n),wt(n)}}}function gu(t,n){return vu(t,n,"gutterClick",!0)}function yu(t,n){we(t.display,n)||function(t,n){return!!mt(t,"gutterContextMenu")&&vu(t,n,"gutterContextMenu",!1)}(t,n)||gt(t,n,"contextmenu")||M||t.display.input.onContextMenu(n)}function mu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),We(t)}hu.prototype.compare=function(t,n,e){return this.time+400>t&&0==nn(n,this.pos)&&e==this.button};var _u={toString:function(){return"CodeMirror.Init"}},bu={},xu={};function wu(t,n,e){var r=e&&e!=_u;if(!n!=!r){var i=t.display.dragFunctions,o=n?ht:pt;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}function Mu(t){t.options.lineWrapping?(D(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(S(t.display.wrapper,"CodeMirror-wrap"),Gn(t)),ur(t),sr(t),We(t),setTimeout(function(){return jr(t)},100)}function Cu(t,n){var e=this;if(!(this instanceof Cu))return new Cu(t,n);this.options=n=n?I(n):{},I(bu,n,!1);var r=n.value;"string"==typeof r?r=new Ao(r,n.mode,null,n.lineSeparator,n.direction):n.mode&&(r.modeOption=n.mode),this.doc=r;var i=new Cu.inputStyles[n.inputStyle](this),o=this.display=new di(t,r,i,n);for(var s in o.wrapper.CodeMirror=this,mu(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Br(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},n.autofocus&&!y&&o.input.focus(),u&&a<11&&setTimeout(function(){return e.display.input.reset(!0)},20),function(t){var n=t.display;ht(n.scroller,"mousedown",Zr(t,du)),ht(n.scroller,"dblclick",u&&a<11?Zr(t,function(n){if(!gt(t,n)){var e=ar(t,n);if(e&&!gu(t,n)&&!we(t.display,n)){bt(n);var r=t.findWordAt(e);Yi(t.doc,r.anchor,r.head)}}}):function(n){return gt(t,n)||bt(n)}),ht(n.scroller,"contextmenu",function(n){return yu(t,n)});var e,r={end:0};function i(){n.activeTouch&&(e=setTimeout(function(){return n.activeTouch=null},1e3),(r=n.activeTouch).end=+new Date)}function o(t,n){if(null==n.left)return!0;var e=n.left-t.left,r=n.top-t.top;return e*e+r*r>400}ht(n.scroller,"touchstart",function(i){if(!gt(t,i)&&!function(t){if(1!=t.touches.length)return!1;var n=t.touches[0];return n.radiusX<=1&&n.radiusY<=1}(i)&&!gu(t,i)){n.input.ensurePolled(),clearTimeout(e);var o=+new Date;n.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(n.activeTouch.left=i.touches[0].pageX,n.activeTouch.top=i.touches[0].pageY)}}),ht(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),ht(n.scroller,"touchend",function(e){var r=n.activeTouch;if(r&&!we(n,e)&&null!=r.left&&!r.moved&&new Date-r.start<300){var u,a=t.coordsChar(n.activeTouch,"page");u=!r.prev||o(r,r.prev)?new bi(a,a):!r.prev.prev||o(r,r.prev.prev)?t.findWordAt(a):new bi(tn(a.line,0),cn(t.doc,tn(a.line+1,0))),t.setSelection(u.anchor,u.head),t.focus(),bt(e)}i()}),ht(n.scroller,"touchcancel",i),ht(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Dr(t,n.scroller.scrollTop),zr(t,n.scroller.scrollLeft,!0),vt(t,"scroll",t))}),ht(n.scroller,"mousewheel",function(n){return mi(t,n)}),ht(n.scroller,"DOMMouseScroll",function(n){return mi(t,n)}),ht(n.wrapper,"scroll",function(){return n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),n.dragFunctions={enter:function(n){gt(t,n)||Mt(n)},over:function(n){gt(t,n)||(function(t,n){var e=ar(t,n);if(e){var r=document.createDocumentFragment();gr(t,e,r),t.display.dragCursor||(t.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),A(t.display.dragCursor,r)}}(t,n),Mt(n))},start:function(n){return function(t,n){if(u&&(!t.state.draggingText||+new Date-No<100))Mt(n);else if(!gt(t,n)&&!we(t.display,n)&&(n.dataTransfer.setData("Text",t.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!h)){var e=N("img",null,null,"position: fixed; left: 0; top: 0;");e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(e.width=e.height=1,t.display.wrapper.appendChild(e),e._top=e.offsetTop),n.dataTransfer.setDragImage(e,0,0),f&&e.parentNode.removeChild(e)}}(t,n)},drop:Zr(t,Lo),leave:function(n){gt(t,n)||Eo(t)}};var c=n.input.getField();ht(c,"keyup",function(n){return cu.call(t,n)}),ht(c,"keydown",Zr(t,au)),ht(c,"keypress",Zr(t,su)),ht(c,"focus",function(n){return wr(t,n)}),ht(c,"blur",function(n){return Mr(t,n)})}(this),Po(),qr(this),this.curOp.forceUpdate=!0,Oi(this,r),n.autofocus&&!y||this.hasFocus()?setTimeout(R(wr,this),20):Mr(this),xu)xu.hasOwnProperty(s)&&xu[s](e,n[s],_u);si(this),n.finishInit&&n.finishInit(this);for(var l=0;l<ku.length;++l)ku[l](e);Yr(this),c&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Cu.defaults=bu,Cu.optionHandlers=xu;var ku=[];function Su(t,n,e,r){var i,o=t.doc;null==e&&(e="add"),"smart"==e&&(o.mode.indent?i=pn(t,n).state:e="prev");var u=t.options.tabSize,a=Gt(o,n),c=F(a.text,null,u);a.stateAfter&&(a.stateAfter=null);var s,l=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==e&&((s=o.mode.indent(i,a.text.slice(l.length),a.text))==B||s>150)){if(!r)return;e="prev"}}else s=0,e="not";"prev"==e?s=n>o.first?F(Gt(o,n-1).text,null,u):0:"add"==e?s=c+t.options.indentUnit:"subtract"==e?s=c-t.options.indentUnit:"number"==typeof e&&(s=c+e),s=Math.max(0,s);var f="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(s/u);d;--d)h+=u,f+="\t";if(h<s&&(f+=$(s-h)),f!=l)return fo(o,f,tn(n,0),tn(n,l.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var v=o.sel.ranges[p];if(v.head.line==n&&v.head.ch<l.length){var g=tn(n,l.length);Vi(o,p,new bi(g,g));break}}}Cu.defineInitHook=function(t){return ku.push(t)};var Tu=null;function Au(t){Tu=t}function Nu(t,n,e,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var u=+new Date-200,a="paste"==i||t.state.pasteIncoming>u,c=Ot(n),s=null;if(a&&r.ranges.length>1)if(Tu&&Tu.text.join("\n")==n){if(r.ranges.length%Tu.text.length==0){s=[];for(var l=0;l<Tu.text.length;l++)s.push(o.splitLines(Tu.text[l]))}}else c.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(s=K(c,function(t){return[t]}));for(var f=t.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],p=d.from(),v=d.to();d.empty()&&(e&&e>0?p=tn(p.line,p.ch-e):t.state.overwrite&&!a?v=tn(v.line,Math.min(Gt(o,v.line).text.length,v.ch+X(c).length)):a&&Tu&&Tu.lineWise&&Tu.text.join("\n")==n&&(p=v=tn(p.line,0)));var g={from:p,to:v,text:s?s[h%s.length]:c,origin:i||(a?"paste":t.state.cutIncoming>u?"cut":"+input")};uo(t.doc,g),ce(t,"inputRead",t,g)}n&&!a&&Eu(t,n),Nr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=f),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Lu(t,n){var e=t.clipboardData&&t.clipboardData.getData("Text");if(e)return t.preventDefault(),n.isReadOnly()||n.options.disableInput||Kr(n,function(){return Nu(n,e,0,null,"paste")}),!0}function Eu(t,n){if(t.options.electricChars&&t.options.smartIndent)for(var e=t.doc.sel,r=e.ranges.length-1;r>=0;r--){var i=e.ranges[r];if(!(i.head.ch>100||r&&e.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),u=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(n.indexOf(o.electricChars.charAt(a))>-1){u=Su(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Gt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(u=Su(t,i.head.line,"smart"));u&&ce(t,"electricInput",t,i.head.line)}}}function Ou(t){for(var n=[],e=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:tn(i,0),head:tn(i+1,0)};e.push(o),n.push(t.getRange(o.anchor,o.head))}return{text:n,ranges:e}}function Du(t,n,e,r){t.setAttribute("autocorrect",e?"":"off"),t.setAttribute("autocapitalize",r?"":"off"),t.setAttribute("spellcheck",!!n)}function Pu(){var t=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),n=N("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?t.style.width="1000px":t.setAttribute("wrap","off"),v&&(t.style.border="1px solid black"),Du(t),n}function zu(t,n,e,r,i){var o=n,u=e,a=Gt(t,n.line);function c(r){var o,u;if(null==(o=i?function(t,n,e,r){var i=lt(n,t.doc.direction);if(!i)return Ko(n,e,r);e.ch>=n.text.length?(e.ch=n.text.length,e.sticky="before"):e.ch<=0&&(e.ch=0,e.sticky="after");var o=ct(i,e.ch,e.sticky),u=i[o];if("ltr"==t.doc.direction&&u.level%2==0&&(r>0?u.to>e.ch:u.from<e.ch))return Ko(n,e,r);var a,c=function(t,e){return Xo(n,t instanceof tn?t.ch:t,e)},s=function(e){return t.options.lineWrapping?(a=a||Oe(t,n),Qe(t,n,a,e)):{begin:0,end:n.text.length}},l=s("before"==e.sticky?c(e,-1):e.ch);if("rtl"==t.doc.direction||1==u.level){var f=1==u.level==r<0,h=c(e,f?1:-1);if(null!=h&&(f?h<=u.to&&h<=l.end:h>=u.from&&h>=l.begin)){var d=f?"before":"after";return new tn(e.line,h,d)}}var p=function(t,n,r){for(var o=function(t,n){return n?new tn(e.line,c(t,1),"before"):new tn(e.line,t,"after")};t>=0&&t<i.length;t+=n){var u=i[t],a=n>0==(1!=u.level),s=a?r.begin:c(r.end,-1);if(u.from<=s&&s<u.to)return o(s,a);if(s=a?u.from:c(u.to,-1),r.begin<=s&&s<r.end)return o(s,a)}},v=p(o+r,r,l);if(v)return v;var g=r>0?l.end:c(l.begin,-1);return null==g||r>0&&g==n.text.length||!(v=p(r>0?0:i.length-1,r,s(g)))?null:v}(t.cm,a,n,e):Ko(a,n,e))){if(r||((u=n.line+e)<t.first||u>=t.first+t.size||(n=new tn(u,n.ch,n.sticky),!(a=Gt(t,u)))))return!1;n=Zo(i,t.cm,a,n.line,e)}else n=o;return!0}if("char"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var s=null,l="group"==r,f=t.cm&&t.cm.getHelper(n,"wordChars"),h=!0;!(e<0)||c(!h);h=!1){var d=a.text.charAt(n.ch)||"\n",p=nt(d,f)?"w":l&&"\n"==d?"n":!l||/\s/.test(d)?null:"p";if(!l||h||p||(p="s"),s&&s!=p){e<0&&(e=1,c(),n.sticky="after");break}if(p&&(s=p),e>0&&!c(!h))break}var v=eo(t,n,o,u,!0);return en(o,v)&&(v.hitSide=!0),v}function Ru(t,n,e,r){var i,o,u=t.doc,a=n.left;if("page"==r){var c=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(c-.5*nr(t.display),3);i=(e>0?n.bottom:n.top)+e*s}else"line"==r&&(i=e>0?n.bottom+3:n.top-3);for(;(o=Ke(t,a,i)).outside;){if(e<0?i<=0:i>=u.height){o.hitSide=!0;break}i+=5*e}return o}var Iu=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Fu(t,n){var e=Ee(t,n.line);if(!e||e.hidden)return null;var r=Gt(t.doc,n.line),i=Ne(e,r,n.line),o=lt(r,t.doc.direction),u="left";if(o){var a=ct(o,n.ch);u=a%2?"right":"left"}var c=Re(i.map,n.ch,u);return c.offset="right"==c.collapse?c.end:c.start,c}function ju(t,n){return n&&(t.bad=!0),t}function Wu(t,n,e){var r;if(n==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[e]))return ju(t.clipPos(tn(t.display.viewTo-1)),!0);n=null,e=0}else for(r=n;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return Hu(o,n,e)}}function Hu(t,n,e){var r=t.text.firstChild,i=!1;if(!n||!E(r,n))return ju(tn(Kt(t.line),0),!0);if(n==r&&(i=!0,n=r.childNodes[e],e=0,!n)){var o=t.rest?X(t.rest):t.line;return ju(tn(Kt(o),o.text.length),i)}var u=3==n.nodeType?n:null,a=n;for(u||1!=n.childNodes.length||3!=n.firstChild.nodeType||(u=n.firstChild,e&&(e=u.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var c=t.measure,s=c.maps;function l(n,e,r){for(var i=-1;i<(s?s.length:0);i++)for(var o=i<0?c.map:s[i],u=0;u<o.length;u+=3){var a=o[u+2];if(a==n||a==e){var l=Kt(i<0?t.line:t.rest[i]),f=o[u]+r;return(r<0||a!=n)&&(f=o[u+(r?1:0)]),tn(l,f)}}}var f=l(u,a,e);if(f)return ju(f,i);for(var h=a.nextSibling,d=u?u.nodeValue.length-e:0;h;h=h.nextSibling){if(f=l(h,h.firstChild,0))return ju(tn(f.line,f.ch-d),i);d+=h.textContent.length}for(var p=a.previousSibling,v=e;p;p=p.previousSibling){if(f=l(p,p.firstChild,-1))return ju(tn(f.line,f.ch+v),i);v+=p.textContent.length}}Iu.prototype.init=function(t){var n=this,e=this,r=e.cm,i=e.div=t.lineDiv;function o(t){if(!gt(r,t)){if(r.somethingSelected())Au({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var n=Ou(r);Au({lineWise:!0,text:n.text}),"cut"==t.type&&r.operation(function(){r.setSelections(n.ranges,0,U),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=Tu.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var u=Pu(),a=u.firstChild;r.display.lineSpace.insertBefore(u,r.display.lineSpace.firstChild),a.value=Tu.text.join("\n");var c=document.activeElement;z(a),setTimeout(function(){r.display.lineSpace.removeChild(u),c.focus(),c==i&&e.showPrimarySelection()},50)}}Du(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ht(i,"paste",function(t){gt(r,t)||Lu(t,r)||a<=11&&setTimeout(Zr(r,function(){return n.updateFromDOM()}),20)}),ht(i,"compositionstart",function(t){n.composing={data:t.data,done:!1}}),ht(i,"compositionupdate",function(t){n.composing||(n.composing={data:t.data,done:!1})}),ht(i,"compositionend",function(t){n.composing&&(t.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ht(i,"touchstart",function(){return e.forceCompositionEnd()}),ht(i,"input",function(){n.composing||n.readFromDOMSoon()}),ht(i,"copy",o),ht(i,"cut",o)},Iu.prototype.prepareSelection=function(){var t=vr(this.cm,!1);return t.focus=this.cm.state.focused,t},Iu.prototype.showSelection=function(t,n){t&&this.cm.display.view.length&&((t.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Iu.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Iu.prototype.showPrimarySelection=function(){var t=this.getSelection(),n=this.cm,r=n.doc.sel.primary(),i=r.from(),o=r.to();if(n.display.viewTo==n.display.viewFrom||i.line>=n.display.viewTo||o.line<n.display.viewFrom)t.removeAllRanges();else{var u=Wu(n,t.anchorNode,t.anchorOffset),a=Wu(n,t.focusNode,t.focusOffset);if(!u||u.bad||!a||a.bad||0!=nn(un(u,a),i)||0!=nn(on(u,a),o)){var c=n.display.view,s=i.line>=n.display.viewFrom&&Fu(n,i)||{node:c[0].measure.map[2],offset:0},l=o.line<n.display.viewTo&&Fu(n,o);if(!l){var f=c[c.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;l={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(s&&l){var d,p=t.rangeCount&&t.getRangeAt(0);try{d=k(s.node,s.offset,l.offset,l.node)}catch(t){}d&&(!e&&n.state.focused?(t.collapse(s.node,s.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),p&&null==t.anchorNode?t.addRange(p):e&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Iu.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Iu.prototype.showMultipleSelections=function(t){A(this.cm.display.cursorDiv,t.cursors),A(this.cm.display.selectionDiv,t.selection)},Iu.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Iu.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var n=t.getRangeAt(0).commonAncestorContainer;return E(this.div,n)},Iu.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Iu.prototype.blur=function(){this.div.blur()},Iu.prototype.getField=function(){return this.div},Iu.prototype.supportsTouch=function(){return!0},Iu.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Kr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))})},Iu.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Iu.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),n=this.cm;if(g&&l&&this.cm.display.gutterSpecs.length&&function(t){for(var n=t;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var e=Wu(n,t.anchorNode,t.anchorOffset),r=Wu(n,t.focusNode,t.focusOffset);e&&r&&Kr(n,function(){Ki(n.doc,wi(e,r),U),(e.bad||r.bad)&&(n.curOp.selectionChanged=!0)})}}},Iu.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,n,e,r=this.cm,i=r.display,o=r.doc.sel.primary(),u=o.from(),a=o.to();if(0==u.ch&&u.line>r.firstLine()&&(u=tn(u.line-1,Gt(r.doc,u.line-1).length)),a.ch==Gt(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=tn(a.line+1,0)),u.line<i.viewFrom||a.line>i.viewTo-1)return!1;u.line==i.viewFrom||0==(t=cr(r,u.line))?(n=Kt(i.view[0].line),e=i.view[0].node):(n=Kt(i.view[t].line),e=i.view[t-1].node.nextSibling);var c,s,l=cr(r,a.line);if(l==i.view.length-1?(c=i.viewTo-1,s=i.lineDiv.lastChild):(c=Kt(i.view[l+1].line)-1,s=i.view[l+1].node.previousSibling),!e)return!1;for(var f=r.doc.splitLines(function(t,n,e,r,i){var o="",u=!1,a=t.doc.lineSeparator(),c=!1;function s(){u&&(o+=a,c&&(o+=a),u=c=!1)}function l(t){t&&(s(),o+=t)}function f(n){if(1==n.nodeType){var e=n.getAttribute("cm-text");if(e)return void l(e);var o,h=n.getAttribute("cm-marker");if(h){var d=t.findMarks(tn(r,0),tn(i+1,0),(g=+h,function(t){return t.id==g}));return void(d.length&&(o=d[0].find(0))&&l(Vt(t.doc,o.from,o.to).join(a)))}if("false"==n.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(n.nodeName);if(!/^br$/i.test(n.nodeName)&&0==n.textContent.length)return;p&&s();for(var v=0;v<n.childNodes.length;v++)f(n.childNodes[v]);/^(pre|p)$/i.test(n.nodeName)&&(c=!0),p&&(u=!0)}else 3==n.nodeType&&l(n.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;f(n),n!=e;)n=n.nextSibling,c=!1;return o}(r,e,s,n,c)),h=Vt(r.doc,tn(n,0),tn(c,Gt(r.doc,c).text.length));f.length>1&&h.length>1;)if(X(f)==X(h))f.pop(),h.pop(),c--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),n++}for(var d=0,p=0,v=f[0],g=h[0],y=Math.min(v.length,g.length);d<y&&v.charCodeAt(d)==g.charCodeAt(d);)++d;for(var m=X(f),_=X(h),b=Math.min(m.length-(1==f.length?d:0),_.length-(1==h.length?d:0));p<b&&m.charCodeAt(m.length-p-1)==_.charCodeAt(_.length-p-1);)++p;if(1==f.length&&1==h.length&&n==u.line)for(;d&&d>u.ch&&m.charCodeAt(m.length-p-1)==_.charCodeAt(_.length-p-1);)d--,p++;f[f.length-1]=m.slice(0,m.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var x=tn(n,d),w=tn(c,h.length?X(h).length-p:0);return f.length>1||f[0]||nn(x,w)?(fo(r.doc,f,x,w,"+input"),!0):void 0},Iu.prototype.ensurePolled=function(){this.forceCompositionEnd()},Iu.prototype.reset=function(){this.forceCompositionEnd()},Iu.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Iu.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Iu.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Kr(this.cm,function(){return sr(t.cm)})},Iu.prototype.setUneditable=function(t){t.contentEditable="false"},Iu.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zr(this.cm,Nu)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Iu.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Iu.prototype.onContextMenu=function(){},Iu.prototype.resetPosition=function(){},Iu.prototype.needsContentAttribute=!0;var Bu=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};Bu.prototype.init=function(t){var n=this,e=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!gt(r,t)){if(r.somethingSelected())Au({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var n=Ou(r);Au({lineWise:!0,text:n.text}),"cut"==t.type?r.setSelections(n.ranges,null,U):(e.prevInput="",i.value=n.text.join("\n"),z(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),v&&(i.style.width="0px"),ht(i,"input",function(){u&&a>=9&&n.hasSelection&&(n.hasSelection=null),e.poll()}),ht(i,"paste",function(t){gt(r,t)||Lu(t,r)||(r.state.pasteIncoming=+new Date,e.fastPoll())}),ht(i,"cut",o),ht(i,"copy",o),ht(t.scroller,"paste",function(n){if(!we(t,n)&&!gt(r,n)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void e.focus();var o=new Event("paste");o.clipboardData=n.clipboardData,i.dispatchEvent(o)}}),ht(t.lineSpace,"selectstart",function(n){we(t,n)||bt(n)}),ht(i,"compositionstart",function(){var t=r.getCursor("from");e.composing&&e.composing.range.clear(),e.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ht(i,"compositionend",function(){e.composing&&(e.poll(),e.composing.range.clear(),e.composing=null)})},Bu.prototype.createField=function(t){this.wrapper=Pu(),this.textarea=this.wrapper.firstChild},Bu.prototype.prepareSelection=function(){var t=this.cm,n=t.display,e=t.doc,r=vr(t);if(t.options.moveInputWithCursor){var i=Ve(t,e.sel.primary().head,"div"),o=n.wrapper.getBoundingClientRect(),u=n.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,i.top+u.top-o.top)),r.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,i.left+u.left-o.left))}return r},Bu.prototype.showSelection=function(t){var n=this.cm,e=n.display;A(e.cursorDiv,t.cursors),A(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Bu.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var n=this.cm;if(n.somethingSelected()){this.prevInput="";var e=n.getSelection();this.textarea.value=e,n.state.focused&&z(this.textarea),u&&a>=9&&(this.hasSelection=e)}else t||(this.prevInput=this.textarea.value="",u&&a>=9&&(this.hasSelection=null))}},Bu.prototype.getField=function(){return this.textarea},Bu.prototype.supportsTouch=function(){return!1},Bu.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||O()!=this.textarea))try{this.textarea.focus()}catch(t){}},Bu.prototype.blur=function(){this.textarea.blur()},Bu.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Bu.prototype.receivedFocus=function(){this.slowPoll()},Bu.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Bu.prototype.fastPoll=function(){var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))})},Bu.prototype.poll=function(){var t=this,n=this.cm,e=this.textarea,r=this.prevInput;if(this.contextMenuPending||!n.state.focused||Dt(e)&&!r&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var i=e.value;if(i==r&&!n.somethingSelected())return!1;if(u&&a>=9&&this.hasSelection===i||m&&/[\uf700-\uf7ff]/.test(i))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var c=0,s=Math.min(r.length,i.length);c<s&&r.charCodeAt(c)==i.charCodeAt(c);)++c;return Kr(n,function(){Nu(n,i.slice(c),r.length-c,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?e.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=n.markText(t.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Bu.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Bu.prototype.onKeyPress=function(){u&&a>=9&&(this.hasSelection=null),this.fastPoll()},Bu.prototype.onContextMenu=function(t){var n=this,e=n.cm,r=e.display,i=n.textarea;n.contextMenuPending&&n.contextMenuPending();var o=ar(e,t),s=r.scroller.scrollTop;if(o&&!f){var l=e.options.resetSelectionOnContextMenu;l&&-1==e.doc.sel.contains(o)&&Zr(e,Ki)(e.doc,wi(o),U);var h,d=i.style.cssText,p=n.wrapper.style.cssText,v=n.wrapper.offsetParent.getBoundingClientRect();if(n.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-v.top-5)+"px; left: "+(t.clientX-v.left-5)+"px;\n      z-index: 1000; background: "+(u?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(h=window.scrollY),r.input.focus(),c&&window.scrollTo(null,h),r.input.reset(),e.somethingSelected()||(i.value=n.prevInput=" "),n.contextMenuPending=m,r.selForContextMenu=e.doc.sel,clearTimeout(r.detectingSelectAll),u&&a>=9&&y(),M){Mt(t);var g=function(){pt(window,"mouseup",g),setTimeout(m,20)};ht(window,"mouseup",g)}else setTimeout(m,50)}function y(){if(null!=i.selectionStart){var t=e.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,n.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=e.doc.sel}}function m(){if(n.contextMenuPending==m&&(n.contextMenuPending=!1,n.wrapper.style.cssText=p,i.style.cssText=d,u&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=s),null!=i.selectionStart)){(!u||u&&a<9)&&y();var t=0,o=function(){r.selForContextMenu==e.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==n.prevInput?Zr(e,io)(e):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Bu.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Bu.prototype.setUneditable=function(){},Bu.prototype.needsContentAttribute=!1,function(t){var n=t.optionHandlers;function e(e,r,i,o){t.defaults[e]=r,i&&(n[e]=o?function(t,n,e){e!=_u&&i(t,n,e)}:i)}t.defineOption=e,t.Init=_u,e("value","",function(t,n){return t.setValue(n)},!0),e("mode",null,function(t,n){t.doc.modeOption=n,Ti(t)},!0),e("indentUnit",2,Ti,!0),e("indentWithTabs",!1),e("smartIndent",!0),e("tabSize",4,function(t){Ai(t),We(t),sr(t)},!0),e("lineSeparator",null,function(t,n){if(t.doc.lineSep=n,n){var e=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(n,i);if(-1==o)break;i=o+n.length,e.push(tn(r,o))}r++});for(var i=e.length-1;i>=0;i--)fo(t.doc,n,e[i],tn(e[i].line,e[i].ch+n.length))}}),e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,e){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),e!=_u&&t.refresh()}),e("specialCharPlaceholder",Jn,function(t){return t.refresh()},!0),e("electricChars",!0),e("inputStyle",y?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),e("spellcheck",!1,function(t,n){return t.getInputField().spellcheck=n},!0),e("autocorrect",!1,function(t,n){return t.getInputField().autocorrect=n},!0),e("autocapitalize",!1,function(t,n){return t.getInputField().autocapitalize=n},!0),e("rtlMoveVisually",!b),e("wholeLineUpdateBefore",!0),e("theme","default",function(t){mu(t),hi(t)},!0),e("keyMap","default",function(t,n,e){var r=Vo(n),i=e!=_u&&Vo(e);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)}),e("extraKeys",null),e("configureMouse",null),e("lineWrapping",!1,Mu,!0),e("gutters",[],function(t,n){t.display.gutterSpecs=li(n,t.options.lineNumbers),hi(t)},!0),e("fixedGutter",!0,function(t,n){t.display.gutters.style.left=n?ir(t.display)+"px":"0",t.refresh()},!0),e("coverGutterNextToScrollbar",!1,function(t){return jr(t)},!0),e("scrollbarStyle","native",function(t){Br(t),jr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),e("lineNumbers",!1,function(t,n){t.display.gutterSpecs=li(t.options.gutters,n),hi(t)},!0),e("firstLineNumber",1,hi,!0),e("lineNumberFormatter",function(t){return t},hi,!0),e("showCursorWhenSelecting",!1,pr,!0),e("resetSelectionOnContextMenu",!0),e("lineWiseCopyCut",!0),e("pasteLinesPerSelection",!0),e("selectionsMayTouch",!1),e("readOnly",!1,function(t,n){"nocursor"==n&&(Mr(t),t.display.input.blur()),t.display.input.readOnlyChanged(n)}),e("disableInput",!1,function(t,n){n||t.display.input.reset()},!0),e("dragDrop",!0,wu),e("allowDropFileTypes",null),e("cursorBlinkRate",530),e("cursorScrollMargin",0),e("cursorHeight",1,pr,!0),e("singleCursorHeightPerLine",!0,pr,!0),e("workTime",100),e("workDelay",100),e("flattenSpans",!0,Ai,!0),e("addModeClass",!1,Ai,!0),e("pollInterval",100),e("undoDepth",200,function(t,n){return t.doc.history.undoDepth=n}),e("historyEventDelay",1250),e("viewportMargin",10,function(t){return t.refresh()},!0),e("maxHighlightLength",1e4,Ai,!0),e("moveInputWithCursor",!0,function(t,n){n||t.display.input.resetPosition()}),e("tabindex",null,function(t,n){return t.display.input.getField().tabIndex=n||""}),e("autofocus",null),e("direction","ltr",function(t,n){return t.doc.setDirection(n)},!0),e("phrases",null)}(Cu),function(t){var n=t.optionHandlers,e=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var r=this.options,i=r[t];r[t]==e&&"mode"!=t||(r[t]=e,n.hasOwnProperty(t)&&Zr(this,n[t])(this,e,i),vt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,n){this.state.keyMaps[n?"push":"unshift"](Vo(t))},removeKeyMap:function(t){for(var n=this.state.keyMaps,e=0;e<n.length;++e)if(n[e]==t||n[e].name==t)return n.splice(e,1),!0},addOverlay:Qr(function(n,e){var r=n.token?n:t.getMode(this.options,n);if(r.startState)throw new Error("Overlays may not be stateful.");!function(t,n,e){for(var r=0,i=e(n);r<t.length&&e(t[r])<=i;)r++;t.splice(r,0,n)}(this.state.overlays,{mode:r,modeSpec:n,opaque:e&&e.opaque,priority:e&&e.priority||0},function(t){return t.priority}),this.state.modeGen++,sr(this)}),removeOverlay:Qr(function(t){for(var n=this.state.overlays,e=0;e<n.length;++e){var r=n[e].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return n.splice(e,1),this.state.modeGen++,void sr(this)}}),indentLine:Qr(function(t,n,e){"string"!=typeof n&&"number"!=typeof n&&(n=null==n?this.options.smartIndent?"smart":"prev":n?"add":"subtract"),Qt(this.doc,t)&&Su(this,t,n,e)}),indentSelection:Qr(function(t){for(var n=this.doc.sel.ranges,e=-1,r=0;r<n.length;r++){var i=n[r];if(i.empty())i.head.line>e&&(Su(this,i.head.line,t,!0),e=i.head.line,r==this.doc.sel.primIndex&&Nr(this));else{var o=i.from(),u=i.to(),a=Math.max(e,o.line);e=Math.min(this.lastLine(),u.line-(u.ch?0:1))+1;for(var c=a;c<e;++c)Su(this,c,t);var s=this.doc.sel.ranges;0==o.ch&&n.length==s.length&&s[r].from().ch>0&&Vi(this.doc,r,new bi(o,s[r].to()),U)}}}),getTokenAt:function(t,n){return _n(this,t,n)},getLineTokens:function(t,n){return _n(this,tn(t),n,!0)},getTokenTypeAt:function(t){t=cn(this.doc,t);var n,e=dn(this,Gt(this.doc,t.line)),r=0,i=(e.length-1)/2,o=t.ch;if(0==o)n=e[2];else for(;;){var u=r+i>>1;if((u?e[2*u-1]:0)>=o)i=u;else{if(!(e[2*u+1]<o)){n=e[2*u+2];break}r=u+1}}var a=n?n.indexOf("overlay "):-1;return a<0?n:0==a?null:n.slice(0,a-1)},getModeAt:function(n){var e=this.doc.mode;return e.innerMode?t.innerMode(e,this.getTokenAt(n).state).mode:e},getHelper:function(t,n){return this.getHelpers(t,n)[0]},getHelpers:function(t,n){var r=[];if(!e.hasOwnProperty(n))return r;var i=e[n],o=this.getModeAt(t);if("string"==typeof o[n])i[o[n]]&&r.push(i[o[n]]);else if(o[n])for(var u=0;u<o[n].length;u++){var a=i[o[n][u]];a&&r.push(a)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var c=0;c<i._global.length;c++){var s=i._global[c];s.pred(o,this)&&-1==W(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(t,n){var e=this.doc;return pn(this,(t=an(e,null==t?e.first+e.size-1:t))+1,n).state},cursorCoords:function(t,n){var e=this.doc.sel.primary();return Ve(this,null==t?e.head:"object"==typeof t?cn(this.doc,t):t?e.from():e.to(),n||"page")},charCoords:function(t,n){return Ge(this,cn(this.doc,t),n||"page")},coordsChar:function(t,n){return Ke(this,(t=Ye(this,t,n||"page")).left,t.top)},lineAtHeight:function(t,n){return t=Ye(this,{top:t,left:0},n||"page").top,Zt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,n,e){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=Gt(this.doc,t)}else r=t;return qe(this,r,{top:0,left:0},n||"page",e||i).top+(i?this.doc.height-qn(r):0)},defaultTextHeight:function(){return nr(this.display)},defaultCharWidth:function(){return er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,n,e,r,i){var o,u,a,c=this.display,s=(t=Ve(this,cn(this.doc,t))).bottom,l=t.left;if(n.style.position="absolute",n.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(n),c.sizer.appendChild(n),"over"==r)s=t.top;else if("above"==r||"near"==r){var f=Math.max(c.wrapper.clientHeight,this.doc.height),h=Math.max(c.sizer.clientWidth,c.lineSpace.clientWidth);("above"==r||t.bottom+n.offsetHeight>f)&&t.top>n.offsetHeight?s=t.top-n.offsetHeight:t.bottom+n.offsetHeight<=f&&(s=t.bottom),l+n.offsetWidth>h&&(l=h-n.offsetWidth)}n.style.top=s+"px",n.style.left=n.style.right="","right"==i?(l=c.sizer.clientWidth-n.offsetWidth,n.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(c.sizer.clientWidth-n.offsetWidth)/2),n.style.left=l+"px"),e&&(o=this,u={left:l,top:s,right:l+n.offsetWidth,bottom:s+n.offsetHeight},null!=(a=Tr(o,u)).scrollTop&&Dr(o,a.scrollTop),null!=a.scrollLeft&&zr(o,a.scrollLeft))},triggerOnKeyDown:Qr(au),triggerOnKeyPress:Qr(su),triggerOnKeyUp:cu,triggerOnMouseDown:Qr(du),execCommand:function(t){if(Qo.hasOwnProperty(t))return Qo[t].call(null,this)},triggerElectric:Qr(function(t){Eu(this,t)}),findPosH:function(t,n,e,r){var i=1;n<0&&(i=-1,n=-n);for(var o=cn(this.doc,t),u=0;u<n&&!(o=zu(this.doc,o,i,e,r)).hitSide;++u);return o},moveH:Qr(function(t,n){var e=this;this.extendSelectionsBy(function(r){return e.display.shift||e.doc.extend||r.empty()?zu(e.doc,r.head,t,n,e.options.rtlMoveVisually):t<0?r.from():r.to()},Y)}),deleteH:Qr(function(t,n){var e=this.doc.sel,r=this.doc;e.somethingSelected()?r.replaceSelection("",null,"+delete"):$o(this,function(e){var i=zu(r,e.head,t,n,!1);return t<0?{from:i,to:e.head}:{from:e.head,to:i}})}),findPosV:function(t,n,e,r){var i=1,o=r;n<0&&(i=-1,n=-n);for(var u=cn(this.doc,t),a=0;a<n;++a){var c=Ve(this,u,"div");if(null==o?o=c.left:c.left=o,(u=Ru(this,c,i,e)).hitSide)break}return u},moveV:Qr(function(t,n){var e=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(u){if(o)return t<0?u.from():u.to();var a=Ve(e,u.head,"div");null!=u.goalColumn&&(a.left=u.goalColumn),i.push(a.left);var c=Ru(e,a,t,n);return"page"==n&&u==r.sel.primary()&&Ar(e,Ge(e,c,"div").top-a.top),c},Y),i.length)for(var u=0;u<r.sel.ranges.length;u++)r.sel.ranges[u].goalColumn=i[u]}),findWordAt:function(t){var n=this.doc,e=Gt(n,t.line).text,r=t.ch,i=t.ch;if(e){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=e.length||!r?++i:--r;for(var u=e.charAt(r),a=nt(u,o)?function(t){return nt(t,o)}:/\s/.test(u)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!nt(t)};r>0&&a(e.charAt(r-1));)--r;for(;i<e.length&&a(e.charAt(i));)++i}return new bi(tn(t.line,r),tn(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),vt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Qr(function(t,n){Lr(this,t,n)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Se(this)-this.display.barHeight,width:t.scrollWidth-Se(this)-this.display.barWidth,clientHeight:Ae(this),clientWidth:Te(this)}},scrollIntoView:Qr(function(t,n){null==t?(t={from:this.doc.sel.primary().head,to:null},null==n&&(n=this.options.cursorScrollMargin)):"number"==typeof t?t={from:tn(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=n||0,null!=t.from.line?function(t,n){Er(t),t.curOp.scrollToPos=n}(this,t):Or(this,t.from,t.to,t.margin)}),setSize:Qr(function(t,n){var e=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=n&&(this.display.wrapper.style.height=r(n)),this.options.lineWrapping&&je(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(t){if(t.widgets)for(var n=0;n<t.widgets.length;n++)if(t.widgets[n].noHScroll){lr(e,i,"widget");break}++i}),this.curOp.forceUpdate=!0,vt(this,"refresh",this)}),operation:function(t){return Kr(this,t)},startOperation:function(){return qr(this)},endOperation:function(){return Yr(this)},refresh:Qr(function(){var t=this.display.cachedTextHeight;sr(this),this.curOp.forceUpdate=!0,We(this),Lr(this,this.doc.scrollLeft,this.doc.scrollTop),ui(this.display),(null==t||Math.abs(t-nr(this.display))>.5)&&ur(this),vt(this,"refresh",this)}),swapDoc:Qr(function(t){var n=this.doc;return n.cm=null,this.state.selectingText&&this.state.selectingText(),Oi(this,t),We(this),this.display.input.reset(),Lr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ce(this,"swapDoc",this,n),n}),phrase:function(t){var n=this.options.phrases;return n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_t(t),t.registerHelper=function(n,r,i){e.hasOwnProperty(n)||(e[n]=t[n]={_global:[]}),e[n][r]=i},t.registerGlobalHelper=function(n,r,i,o){t.registerHelper(n,r,o),e[n]._global.push({pred:i,val:o})}}(Cu);var Uu="iter insert remove copy getEditor constructor".split(" ");for(var qu in Ao.prototype)Ao.prototype.hasOwnProperty(qu)&&W(Uu,qu)<0&&(Cu.prototype[qu]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ao.prototype[qu]));return _t(Ao),Cu.inputStyles={textarea:Bu,contenteditable:Iu},Cu.defineMode=function(t){Cu.defaults.mode||"null"==t||(Cu.defaults.mode=t),function(t,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Rt[t]=n}.apply(this,arguments)},Cu.defineMIME=function(t,n){It[t]=n},Cu.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Cu.defineMIME("text/plain","null"),Cu.defineExtension=function(t,n){Cu.prototype[t]=n},Cu.defineDocExtension=function(t,n){Ao.prototype[t]=n},Cu.fromTextArea=function(t,n){if((n=n?I(n):{}).value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var e=O();n.autofocus=e==t||null!=t.getAttribute("autofocus")&&e==document.body}function r(){t.value=a.getValue()}var i;if(t.form&&(ht(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var u=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=u}}catch(t){}}n.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(pt(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display="none";var a=Cu(function(n){return t.parentNode.insertBefore(n,t.nextSibling)},n);return a},function(t){t.off=pt,t.on=ht,t.wheelEventPixels=yi,t.Doc=Ao,t.splitLines=Ot,t.countColumn=F,t.findColumn=G,t.isWordChar=tt,t.Pass=B,t.signal=vt,t.Line=Vn,t.changeEnd=Mi,t.scrollbarModel=Hr,t.Pos=tn,t.cmpPos=nn,t.modes=Rt,t.mimeModes=It,t.resolveMode=Ft,t.getMode=jt,t.modeExtensions=Wt,t.extendMode=Ht,t.copyState=Bt,t.startState=qt,t.innerMode=Ut,t.commands=Qo,t.keyMap=Wo,t.keyName=Go,t.isModifierKey=qo,t.lookupKey=Uo,t.normalizeKeyMap=Bo,t.StringStream=Yt,t.SharedTextMarker=Co,t.TextMarker=wo,t.LineWidget=_o,t.e_preventDefault=bt,t.e_stopPropagation=xt,t.e_stop=Mt,t.addClass=D,t.contains=E,t.rmClass=S,t.keyNames=Ro}(Cu),Cu.version="5.46.0",Cu}()},function(t,n,e){t.exports=function(){function t(t,n,e,r,i,o){this.message=t,this.expected=n,this.found=e,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}return function(t,n){function e(){this.constructor=t}e.prototype=n.prototype,t.prototype=new e}(t,Error),{SyntaxError:t,parse:function(n){var r,i=arguments.length>1?arguments[1]:{},o={},u={start:bn,graphStmt:xn},a=bn,c=o,s=null,l="{",f={type:"literal",value:"{",description:'"{"'},h="}",d={type:"literal",value:"}",description:'"}"'},p=function(t,n,e,r){return{type:n,id:e,strict:null!==t,stmts:r}},v=";",g={type:"literal",value:";",description:'";"'},y=function(t,n){for(var e=[t],r=0;r<n.length;++r)e.push(n[r][1]);return e},m=function(t,n){return{type:"attr",attrType:t,attrs:n||{}}},_="=",b={type:"literal",value:"=",description:'"="'},x=function(t,n){var e={};return e[t]=n,{type:"inlineAttr",attrs:e}},w=function(t,n){return{type:"node",id:t,attrs:n||{}}},M=function(t,n,e){for(var r=[t],i=0;i<n.length;++i)r.push(n[i]);return{type:"edge",elems:r,attrs:e||{}}},C=function(t,n){return{type:"subgraph",id:(t=t&&t[2]||[])[0],stmts:n}},k=function(t,n){for(var e=t,r=0;r<n.length;++r)Pn.merge(e,n[r][1]);return e},S="[",T={type:"literal",value:"[",description:'"["'},A="]",N={type:"literal",value:"]",description:'"]"'},L=function(t){return t},E=",",O={type:"literal",value:",",description:'","'},D=function(t,n){for(var e=t,r=0;r<n.length;++r)Pn.merge(e,n[r][3]);return e},P="--",z={type:"literal",value:"--",description:'"--"'},R=function(){return Dn},I=void 0,F="->",j={type:"literal",value:"->",description:'"->"'},W=function(t,n){var e=[t];if(n)for(var r=0;r<n.length;++r)e.push(n[r]);return e},H=function(t,n){var e={};return e[t]=n[3],e},B=function(t){return{type:"node",id:t,attrs:{}}},U=function(t){return t},q=":",Y={type:"literal",value:":",description:'":"'},G="ne",V={type:"literal",value:"ne",description:'"ne"'},$="se",X={type:"literal",value:"se",description:'"se"'},K="sw",Z={type:"literal",value:"sw",description:'"sw"'},Q="nw",J={type:"literal",value:"nw",description:'"nw"'},tt="n",nt={type:"literal",value:"n",description:'"n"'},et="e",rt={type:"literal",value:"e",description:'"e"'},it="s",ot={type:"literal",value:"s",description:'"s"'},ut="w",at={type:"literal",value:"w",description:'"w"'},ct="c",st={type:"literal",value:"c",description:'"c"'},lt="_",ft={type:"literal",value:"_",description:'"_"'},ht={type:"other",description:"identifier"},dt=/^[a-zA-Z\u0200-\u0377_]/,pt={type:"class",value:"[a-zA-Z\\u0200-\\u0377_]",description:"[a-zA-Z\\u0200-\\u0377_]"},vt=/^[a-zA-Z\u0200-\u0377_0-9]/,gt={type:"class",value:"[a-zA-Z\\u0200-\\u0377_0-9]",description:"[a-zA-Z\\u0200-\\u0377_0-9]"},yt=function(t,n){return t+n.join("")},mt="-",_t={type:"literal",value:"-",description:'"-"'},bt=".",xt={type:"literal",value:".",description:'"."'},wt=/^[0-9]/,Mt={type:"class",value:"[0-9]",description:"[0-9]"},Ct=function(t,n,e){return(t||"")+n+e.join("")},kt=function(t,n,e){return(t||"")+n.join("")+(e?e[0]:"")+(e?e[1].join(""):"")},St='"',Tt={type:"literal",value:'"',description:'"\\""'},At='\\"',Nt={type:"literal",value:'\\"',description:'"\\\\\\""'},Lt=function(){return'"'},Et="\\",Ot={type:"literal",value:"\\",description:'"\\\\"'},Dt=/^[^"]/,Pt={type:"class",value:'[^"]',description:'[^"]'},zt=function(t){return"\\"+t},Rt=function(t){return t.join("")},It="node",Ft={type:"literal",value:"node",description:'"node"'},jt=function(t){return t.toLowerCase()},Wt="edge",Ht={type:"literal",value:"edge",description:'"edge"'},Bt="graph",Ut={type:"literal",value:"graph",description:'"graph"'},qt="digraph",Yt={type:"literal",value:"digraph",description:'"digraph"'},Gt="subgraph",Vt={type:"literal",value:"subgraph",description:'"subgraph"'},$t="strict",Xt={type:"literal",value:"strict",description:'"strict"'},Kt=function(t){return Dn="digraph"===t,t},Zt={type:"other",description:"whitespace"},Qt=/^[ \t\r\n]/,Jt={type:"class",value:"[ \\t\\r\\n]",description:"[ \\t\\r\\n]"},tn={type:"other",description:"comment"},nn="//",en={type:"literal",value:"//",description:'"//"'},rn=/^[^\n]/,on={type:"class",value:"[^\\n]",description:"[^\\n]"},un="/*",an={type:"literal",value:"/*",description:'"/*"'},cn="*/",sn={type:"literal",value:"*/",description:'"*/"'},ln={type:"any",description:"any character"},fn=0,hn=0,dn={line:1,column:1,seenCR:!1},pn=0,vn=[],gn=0;if("startRule"in i){if(!(i.startRule in u))throw new Error("Can't start parsing from rule \""+i.startRule+'".');a=u[i.startRule]}function yn(t){return hn!==t&&(hn>t&&(hn=0,dn={line:1,column:1,seenCR:!1}),function(t,e,r){var i,o;for(i=e;i<r;i++)"\n"===(o=n.charAt(i))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(dn,hn,t),hn=t),dn}function mn(t){fn<pn||(fn>pn&&(pn=fn,vn=[]),vn.push(t))}function _n(e,r,i){var o=yn(i),u=i<n.length?n.charAt(i):null;return null!==r&&function(t){var n=1;for(t.sort(function(t,n){return t.description<n.description?-1:t.description>n.description?1:0});n<t.length;)t[n-1]===t[n]?t.splice(n,1):n++}(r),new t(null!==e?e:function(t,n){var e,r=new Array(t.length);for(e=0;e<t.length;e++)r[e]=t[e].description;return"Expected "+(t.length>1?r.slice(0,-1).join(", ")+" or "+r[t.length-1]:r[0])+" but "+(n?'"'+function(t){function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+n(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+n(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+n(t)})}(n)+'"':"end of input")+" found."}(r,u),r,u,i,o.line,o.column)}function bn(){var t,n;if(t=[],(n=xn())!==o)for(;n!==o;)t.push(n),n=xn();else t=c;return t}function xn(){var t,e,r,i,u,a,v,g,y,m,_,b,x,w;for(t=fn,e=[],r=On();r!==o;)e.push(r),r=On();if(e!==o)if(r=fn,(i=function(){var t;return fn,n.substr(fn,6).toLowerCase()===$t?(t=n.substr(fn,6),fn+=6):(t=o,0===gn&&mn(Xt)),t!==o&&(t=jt(t)),t}())!==o&&(u=On())!==o?r=i=[i,u]:(fn=r,r=c),r===o&&(r=s),r!==o)if((i=function(){var t,e;return(t=En())===o&&(t=fn,(e=function(){var t;return fn,n.substr(fn,7).toLowerCase()===qt?(t=n.substr(fn,7),fn+=7):(t=o,0===gn&&mn(Yt)),t!==o&&(t=jt(t)),t}())!==o&&(e=Kt(e)),t=e),t}())!==o){for(u=[],a=On();a!==o;)u.push(a),a=On();if(u!==o)if((a=Ln())===o&&(a=s),a!==o){for(v=[],g=On();g!==o;)v.push(g),g=On();if(v!==o)if(123===n.charCodeAt(fn)?(g=l,fn++):(g=o,0===gn&&mn(f)),g!==o){for(y=[],m=On();m!==o;)y.push(m),m=On();if(y!==o)if((m=wn())===o&&(m=s),m!==o){for(_=[],b=On();b!==o;)_.push(b),b=On();if(_!==o)if(125===n.charCodeAt(fn)?(b=h,fn++):(b=o,0===gn&&mn(d)),b!==o){for(x=[],w=On();w!==o;)x.push(w),w=On();x!==o?t=e=p(r,i,a,m):(fn=t,t=c)}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;else fn=t,t=c;else fn=t,t=c;return t}function wn(){var t,e,r,i,u,a,l,f,h,d;if(t=fn,(e=Mn())!==o){for(r=[],i=On();i!==o;)r.push(i),i=On();if(r!==o)if(59===n.charCodeAt(fn)?(i=v,fn++):(i=o,0===gn&&mn(g)),i===o&&(i=s),i!==o){for(u=[],a=fn,l=[],f=On();f!==o;)l.push(f),f=On();if(l!==o)if((f=Mn())!==o){for(h=[],d=On();d!==o;)h.push(d),d=On();h!==o?(59===n.charCodeAt(fn)?(d=v,fn++):(d=o,0===gn&&mn(g)),d===o&&(d=s),d!==o?a=l=[l,f,h,d]:(fn=a,a=c)):(fn=a,a=c)}else fn=a,a=c;else fn=a,a=c;for(;a!==o;){for(u.push(a),a=fn,l=[],f=On();f!==o;)l.push(f),f=On();if(l!==o)if((f=Mn())!==o){for(h=[],d=On();d!==o;)h.push(d),d=On();h!==o?(59===n.charCodeAt(fn)?(d=v,fn++):(d=o,0===gn&&mn(g)),d===o&&(d=s),d!==o?a=l=[l,f,h,d]:(fn=a,a=c)):(fn=a,a=c)}else fn=a,a=c;else fn=a,a=c}u!==o?t=e=y(e,u):(fn=t,t=c)}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;return t}function Mn(){var t;return(t=function(){var t,e,r,i;if(t=fn,(e=En())===o&&(e=function(){var t;return fn,n.substr(fn,4).toLowerCase()===It?(t=n.substr(fn,4),fn+=4):(t=o,0===gn&&mn(Ft)),t!==o&&(t=jt(t)),t}())===o&&(e=function(){var t;return fn,n.substr(fn,4).toLowerCase()===Wt?(t=n.substr(fn,4),fn+=4):(t=o,0===gn&&mn(Ht)),t!==o&&(t=jt(t)),t}()),e!==o){for(r=[],i=On();i!==o;)r.push(i),i=On();r!==o&&(i=kn())!==o?(e=m(e,i),t=e):(fn=t,t=c)}else fn=t,t=c;return t}())===o&&(t=function(){var t,e,r,i,u,a;if(t=fn,(e=An())!==o){for(r=[],i=On();i!==o;)r.push(i),i=On();if(r!==o)if((i=function t(){var e,r,i,u,a,l;if(e=fn,r=fn,n.substr(fn,2)===P?(i=P,fn+=2):(i=o,0===gn&&mn(z)),i!==o&&(u=(u=R())?c:I)!==o?r=i=[i,u]:(fn=r,r=c),r===o&&(r=fn,n.substr(fn,2)===F?(i=F,fn+=2):(i=o,0===gn&&mn(j)),i!==o&&(u=(u=R())?I:c)!==o?r=i=[i,u]:(fn=r,r=c)),r!==o){for(i=[],u=On();u!==o;)i.push(u),u=On();if(i!==o)if((u=An())!==o){for(a=[],l=On();l!==o;)a.push(l),l=On();a!==o?((l=t())===o&&(l=s),l!==o?(r=W(u,l),e=r):(fn=e,e=c)):(fn=e,e=c)}else fn=e,e=c;else fn=e,e=c}else fn=e,e=c;return e}())!==o){for(u=[],a=On();a!==o;)u.push(a),a=On();u!==o?((a=kn())===o&&(a=s),a!==o?(e=M(e,i,a),t=e):(fn=t,t=c)):(fn=t,t=c)}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;return t}())===o&&(t=Cn())===o&&(t=function(){var t,e,r,i,u,a;if(t=fn,(e=Ln())!==o){for(r=[],i=On();i!==o;)r.push(i),i=On();if(r!==o)if(61===n.charCodeAt(fn)?(i=_,fn++):(i=o,0===gn&&mn(b)),i!==o){for(u=[],a=On();a!==o;)u.push(a),a=On();u!==o&&(a=Ln())!==o?(e=x(e,a),t=e):(fn=t,t=c)}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;return t}())===o&&(t=function(){var t,n,e,r;if(t=fn,(n=Nn())!==o){for(e=[],r=On();r!==o;)e.push(r),r=On();e!==o?((r=kn())===o&&(r=s),r!==o?(n=w(n,r),t=n):(fn=t,t=c)):(fn=t,t=c)}else fn=t,t=c;return t}()),t}function Cn(){var t,e,r,i,u,a,p,v;if(t=fn,e=fn,(r=function(){var t;return fn,n.substr(fn,8).toLowerCase()===Gt?(t=n.substr(fn,8),fn+=8):(t=o,0===gn&&mn(Vt)),t!==o&&(t=jt(t)),t}())!==o){for(i=[],u=On();u!==o;)i.push(u),u=On();if(i!==o){if(u=fn,(a=Ln())!==o){for(p=[],v=On();v!==o;)p.push(v),v=On();p!==o?u=a=[a,p]:(fn=u,u=c)}else fn=u,u=c;u===o&&(u=s),u!==o?e=r=[r,i,u]:(fn=e,e=c)}else fn=e,e=c}else fn=e,e=c;if(e===o&&(e=s),e!==o)if(123===n.charCodeAt(fn)?(r=l,fn++):(r=o,0===gn&&mn(f)),r!==o){for(i=[],u=On();u!==o;)i.push(u),u=On();if(i!==o)if((u=wn())===o&&(u=s),u!==o){for(a=[],p=On();p!==o;)a.push(p),p=On();a!==o?(125===n.charCodeAt(fn)?(p=h,fn++):(p=o,0===gn&&mn(d)),p!==o?t=e=C(e,u):(fn=t,t=c)):(fn=t,t=c)}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;else fn=t,t=c;return t}function kn(){var t,n,e,r,i,u;if(t=fn,(n=Sn())!==o){for(e=[],r=fn,i=[],u=On();u!==o;)i.push(u),u=On();for(i!==o&&(u=Sn())!==o?r=i=[i,u]:(fn=r,r=c);r!==o;){for(e.push(r),r=fn,i=[],u=On();u!==o;)i.push(u),u=On();i!==o&&(u=Sn())!==o?r=i=[i,u]:(fn=r,r=c)}e!==o?t=n=k(n,e):(fn=t,t=c)}else fn=t,t=c;return t}function Sn(){var t,e,r,i,u,a;if(t=fn,91===n.charCodeAt(fn)?(e=S,fn++):(e=o,0===gn&&mn(T)),e!==o){for(r=[],i=On();i!==o;)r.push(i),i=On();if(r!==o)if((i=function(){var t,e,r,i,u,a,l,f;if(t=fn,(e=Tn())!==o){for(r=[],i=fn,u=[],a=On();a!==o;)u.push(a),a=On();if(u!==o)if(44===n.charCodeAt(fn)?(a=E,fn++):(a=o,0===gn&&mn(O)),a===o&&(a=s),a!==o){for(l=[],f=On();f!==o;)l.push(f),f=On();l!==o&&(f=Tn())!==o?i=u=[u,a,l,f]:(fn=i,i=c)}else fn=i,i=c;else fn=i,i=c;for(;i!==o;){for(r.push(i),i=fn,u=[],a=On();a!==o;)u.push(a),a=On();if(u!==o)if(44===n.charCodeAt(fn)?(a=E,fn++):(a=o,0===gn&&mn(O)),a===o&&(a=s),a!==o){for(l=[],f=On();f!==o;)l.push(f),f=On();l!==o&&(f=Tn())!==o?i=u=[u,a,l,f]:(fn=i,i=c)}else fn=i,i=c;else fn=i,i=c}r!==o?(e=D(e,r),t=e):(fn=t,t=c)}else fn=t,t=c;return t}())===o&&(i=s),i!==o){for(u=[],a=On();a!==o;)u.push(a),a=On();u!==o?(93===n.charCodeAt(fn)?(a=A,fn++):(a=o,0===gn&&mn(N)),a!==o?t=e=L(i):(fn=t,t=c)):(fn=t,t=c)}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;return t}function Tn(){var t,e,r,i,u,a,l;if(t=fn,(e=Ln())!==o){for(r=fn,i=[],u=On();u!==o;)i.push(u),u=On();if(i!==o)if(61===n.charCodeAt(fn)?(u=_,fn++):(u=o,0===gn&&mn(b)),u!==o){for(a=[],l=On();l!==o;)a.push(l),l=On();a!==o&&(l=Ln())!==o?r=i=[i,u,a,l]:(fn=r,r=c)}else fn=r,r=c;else fn=r,r=c;r===o&&(r=s),r!==o?t=e=H(e,r):(fn=t,t=c)}else fn=t,t=c;return t}function An(){var t,n;return(t=Cn())===o&&(t=fn,(n=Nn())!==o&&(n=B(n)),t=n),t}function Nn(){var t,e,r,i;if(t=fn,(e=Ln())!==o){for(r=[],i=On();i!==o;)r.push(i),i=On();r!==o?((i=function(){var t,e,r,i,u,a,l,f,h;if(t=fn,58===n.charCodeAt(fn)?(e=q,fn++):(e=o,0===gn&&mn(Y)),e!==o){for(r=[],i=On();i!==o;)r.push(i),i=On();if(r!==o)if((i=Ln())!==o){for(u=[],a=On();a!==o;)u.push(a),a=On();if(u!==o){if(a=fn,58===n.charCodeAt(fn)?(l=q,fn++):(l=o,0===gn&&mn(Y)),l!==o){for(f=[],h=On();h!==o;)f.push(h),h=On();f!==o&&(h=function(){var t;return n.substr(fn,2)===G?(t=G,fn+=2):(t=o,0===gn&&mn(V)),t===o&&(n.substr(fn,2)===$?(t=$,fn+=2):(t=o,0===gn&&mn(X)),t===o&&(n.substr(fn,2)===K?(t=K,fn+=2):(t=o,0===gn&&mn(Z)),t===o&&(n.substr(fn,2)===Q?(t=Q,fn+=2):(t=o,0===gn&&mn(J)),t===o&&(110===n.charCodeAt(fn)?(t=tt,fn++):(t=o,0===gn&&mn(nt)),t===o&&(101===n.charCodeAt(fn)?(t=et,fn++):(t=o,0===gn&&mn(rt)),t===o&&(115===n.charCodeAt(fn)?(t=it,fn++):(t=o,0===gn&&mn(ot)),t===o&&(119===n.charCodeAt(fn)?(t=ut,fn++):(t=o,0===gn&&mn(at)),t===o&&(99===n.charCodeAt(fn)?(t=ct,fn++):(t=o,0===gn&&mn(st)),t===o&&(95===n.charCodeAt(fn)?(t=lt,fn++):(t=o,0===gn&&mn(ft))))))))))),t}())!==o?a=l=[l,f,h]:(fn=a,a=c)}else fn=a,a=c;a===o&&(a=s),a!==o?t=e=[e,r,i,u,a]:(fn=t,t=c)}else fn=t,t=c}else fn=t,t=c;else fn=t,t=c}else fn=t,t=c;return t}())===o&&(i=s),i!==o?t=e=U(e):(fn=t,t=c)):(fn=t,t=c)}else fn=t,t=c;return t}function Ln(){var t,e,r,i,u,a,l;if(gn++,t=fn,dt.test(n.charAt(fn))?(e=n.charAt(fn),fn++):(e=o,0===gn&&mn(pt)),e!==o){for(r=[],vt.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(gt));i!==o;)r.push(i),vt.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(gt));r!==o?t=e=yt(e,r):(fn=t,t=c)}else fn=t,t=c;if(t===o){if(t=fn,45===n.charCodeAt(fn)?(e=mt,fn++):(e=o,0===gn&&mn(_t)),e===o&&(e=s),e!==o)if(46===n.charCodeAt(fn)?(r=bt,fn++):(r=o,0===gn&&mn(xt)),r!==o){if(i=[],wt.test(n.charAt(fn))?(u=n.charAt(fn),fn++):(u=o,0===gn&&mn(Mt)),u!==o)for(;u!==o;)i.push(u),wt.test(n.charAt(fn))?(u=n.charAt(fn),fn++):(u=o,0===gn&&mn(Mt));else i=c;i!==o?t=e=Ct(e,r,i):(fn=t,t=c)}else fn=t,t=c;else fn=t,t=c;if(t===o){if(t=fn,45===n.charCodeAt(fn)?(e=mt,fn++):(e=o,0===gn&&mn(_t)),e===o&&(e=s),e!==o){if(r=[],wt.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(Mt)),i!==o)for(;i!==o;)r.push(i),wt.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(Mt));else r=c;if(r!==o){if(i=fn,46===n.charCodeAt(fn)?(u=bt,fn++):(u=o,0===gn&&mn(xt)),u!==o){for(a=[],wt.test(n.charAt(fn))?(l=n.charAt(fn),fn++):(l=o,0===gn&&mn(Mt));l!==o;)a.push(l),wt.test(n.charAt(fn))?(l=n.charAt(fn),fn++):(l=o,0===gn&&mn(Mt));a!==o?i=u=[u,a]:(fn=i,i=c)}else fn=i,i=c;i===o&&(i=s),i!==o?t=e=kt(e,r,i):(fn=t,t=c)}else fn=t,t=c}else fn=t,t=c;if(t===o)if(t=fn,34===n.charCodeAt(fn)?(e=St,fn++):(e=o,0===gn&&mn(Tt)),e!==o){for(r=[],i=fn,n.substr(fn,2)===At?(u=At,fn+=2):(u=o,0===gn&&mn(Nt)),u!==o&&(u=Lt()),(i=u)===o&&(i=fn,92===n.charCodeAt(fn)?(u=Et,fn++):(u=o,0===gn&&mn(Ot)),u!==o?(Dt.test(n.charAt(fn))?(a=n.charAt(fn),fn++):(a=o,0===gn&&mn(Pt)),a!==o?i=u=zt(a):(fn=i,i=c)):(fn=i,i=c),i===o&&(Dt.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(Pt))));i!==o;)r.push(i),i=fn,n.substr(fn,2)===At?(u=At,fn+=2):(u=o,0===gn&&mn(Nt)),u!==o&&(u=Lt()),(i=u)===o&&(i=fn,92===n.charCodeAt(fn)?(u=Et,fn++):(u=o,0===gn&&mn(Ot)),u!==o?(Dt.test(n.charAt(fn))?(a=n.charAt(fn),fn++):(a=o,0===gn&&mn(Pt)),a!==o?i=u=zt(a):(fn=i,i=c)):(fn=i,i=c),i===o&&(Dt.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(Pt))));r!==o?(34===n.charCodeAt(fn)?(i=St,fn++):(i=o,0===gn&&mn(Tt)),i!==o?t=e=Rt(r):(fn=t,t=c)):(fn=t,t=c)}else fn=t,t=c}}return gn--,t===o&&(e=o,0===gn&&mn(ht)),t}function En(){var t;return fn,n.substr(fn,5).toLowerCase()===Bt?(t=n.substr(fn,5),fn+=5):(t=o,0===gn&&mn(Ut)),t!==o&&(t=jt(t)),t}function On(){var t;return(t=function(){var t,e;if(gn++,t=[],Qt.test(n.charAt(fn))?(e=n.charAt(fn),fn++):(e=o,0===gn&&mn(Jt)),e!==o)for(;e!==o;)t.push(e),Qt.test(n.charAt(fn))?(e=n.charAt(fn),fn++):(e=o,0===gn&&mn(Jt));else t=c;return gn--,t===o&&(e=o,0===gn&&mn(Zt)),t}())===o&&(t=function(){var t,e,r,i,u,a;if(gn++,t=fn,n.substr(fn,2)===nn?(e=nn,fn+=2):(e=o,0===gn&&mn(en)),e!==o){for(r=[],rn.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(on));i!==o;)r.push(i),rn.test(n.charAt(fn))?(i=n.charAt(fn),fn++):(i=o,0===gn&&mn(on));r!==o?t=e=[e,r]:(fn=t,t=c)}else fn=t,t=c;if(t===o)if(t=fn,n.substr(fn,2)===un?(e=un,fn+=2):(e=o,0===gn&&mn(an)),e!==o){for(r=[],i=fn,u=fn,gn++,n.substr(fn,2)===cn?(a=cn,fn+=2):(a=o,0===gn&&mn(sn)),gn--,a===o?u=I:(fn=u,u=c),u!==o?(n.length>fn?(a=n.charAt(fn),fn++):(a=o,0===gn&&mn(ln)),a!==o?i=u=[u,a]:(fn=i,i=c)):(fn=i,i=c);i!==o;)r.push(i),i=fn,u=fn,gn++,n.substr(fn,2)===cn?(a=cn,fn+=2):(a=o,0===gn&&mn(sn)),gn--,a===o?u=I:(fn=u,u=c),u!==o?(n.length>fn?(a=n.charAt(fn),fn++):(a=o,0===gn&&mn(ln)),a!==o?i=u=[u,a]:(fn=i,i=c)):(fn=i,i=c);r!==o?(n.substr(fn,2)===cn?(i=cn,fn+=2):(i=o,0===gn&&mn(sn)),i!==o?t=e=[e,r,i]:(fn=t,t=c)):(fn=t,t=c)}else fn=t,t=c;return gn--,t===o&&(e=o,0===gn&&mn(tn)),t}()),t}var Dn,Pn=e(3);if((r=a())!==o&&fn===n.length)return r;throw r!==o&&fn<n.length&&mn({type:"end",description:"end of input"}),_n(null,vn,pn)}}}()},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";var r=e(3),i=e(11).Graph;function o(t,n,e,i){switch(n.type){case"node":!function(t,n,e,i){var o=n.id,a=n.attrs;u(t,o,e,i),r.merge(t.node(o),a)}(t,n,e,i);break;case"edge":!function(t,n,e,i){var u,a,c=n.attrs;r.each(n.elems,function(n){switch(o(t,n,e,i),n.type){case"node":a=[n.id];break;case"subgraph":a=function(t){var n,e={},i=[],o=i.push.bind(i);o(t);for(;i.length;)switch((n=i.pop()).type){case"node":e[n.id]=!0;break;case"edge":r.each(n.elems,o);break;case"subgraph":r.each(n.stmts,o)}return r.keys(e)}(n)}r.each(u,function(n){r.each(a,function(i){var o;t.hasEdge(n,i)&&t.isMultigraph()&&(o=r.uniqueId("edge")),t.hasEdge(n,i,o)||t.setEdge(n,i,r.clone(r.last(e).edge),o),r.merge(t.edge(n,i,o),c)})}),u=a})}(t,n,e,i);break;case"subgraph":!function(t,n,e,i){var a=n.id;void 0===a&&(a=function(t){var n;do{n=r.uniqueId("sg")}while(t.hasNode(n));return n}(t));e.push(r.clone(r.last(e))),u(t,a,e,i),r.each(n.stmts,function(n){o(t,n,e,a)}),t.children(a).length||t.removeNode(a);e.pop()}(t,n,e,i);break;case"attr":!function(t,n,e){r.merge(r.last(e)[n.attrType],n.attrs)}(0,n,e);break;case"inlineAttr":!function(t,n,e,i){r.merge(i?t.node(i):t.graph(),n.attrs)}(t,n,0,i)}}function u(t,n,e,i){t.hasNode(n)||(t.setNode(n,r.clone(r.last(e).node)),t.setParent(n,i))}t.exports=function(t){var n="graph"!==t.type,e=!t.strict,u=[{node:{},edge:{}}],a=t.id,c=new i({directed:n,multigraph:e,compound:!0});return c.setGraph(null===a?{}:{id:a}),r.each(t.stmts,function(t){o(c,t,u)}),c}},function(t,n,e){var r;try{r=e(24)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,n,e){var r=e(2),i=e(13);t.exports=function(t,n,e,r){return function(t,n,e,r){var o,u,a={},c=new i,s=function(t){var n=t.v!==o?t.v:t.w,r=a[n],i=e(t),s=u.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);s<r.distance&&(r.distance=s,r.predecessor=o,c.decrease(n,s))};t.nodes().forEach(function(t){var e=t===n?0:Number.POSITIVE_INFINITY;a[t]={distance:e},c.add(t,e)});for(;c.size()>0&&(o=c.removeMin(),(u=a[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(s);return a}(t,String(n),e||o,r||function(n){return t.outEdges(n)})};var o=r.constant(1)},function(t,n,e){var r=e(2);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(t){return t.key})},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var n=this._keyIndices[t];if(void 0!==n)return this._arr[n].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,n){var e=this._keyIndices;if(t=String(t),!r.has(e,t)){var i=this._arr,o=i.length;return e[t]=o,i.push({key:t,priority:n}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,n){var e=this._keyIndices[t];if(n>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[e].priority+" New: "+n);this._arr[e].priority=n,this._decrease(e)},i.prototype._heapify=function(t){var n=this._arr,e=2*t,r=e+1,i=t;e<n.length&&(i=n[e].priority<n[i].priority?e:i,r<n.length&&(i=n[r].priority<n[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var n,e=this._arr,r=e[t].priority;0!==t&&!(e[n=t>>1].priority<r);)this._swap(t,n),t=n},i.prototype._swap=function(t,n){var e=this._arr,r=this._keyIndices,i=e[t],o=e[n];e[t]=o,e[n]=i,r[o.key]=t,r[i.key]=n}},function(t,n,e){var r=e(2);t.exports=function(t){var n=0,e=[],i={},o=[];return t.nodes().forEach(function(u){r.has(i,u)||function u(a){var c=i[a]={onStack:!0,lowlink:n,index:n++};if(e.push(a),t.successors(a).forEach(function(t){r.has(i,t)?i[t].onStack&&(c.lowlink=Math.min(c.lowlink,i[t].index)):(u(t),c.lowlink=Math.min(c.lowlink,i[t].lowlink))}),c.lowlink===c.index){var s,l=[];do{s=e.pop(),i[s].onStack=!1,l.push(s)}while(a!==s);o.push(l)}}(u)}),o}},function(t,n,e){var r=e(2);function i(t){var n={},e={},i=[];if(r.each(t.sinks(),function u(a){if(r.has(e,a))throw new o;r.has(n,a)||(e[a]=!0,n[a]=!0,r.each(t.predecessors(a),u),delete e[a],i.push(a))}),r.size(n)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o},function(t,n,e){var r=e(2);t.exports=function(t,n,e){r.isArray(n)||(n=[n]);var i=[],o={};return r.each(n,function(n){if(!t.hasNode(n))throw new Error("Graph does not have node: "+n);!function t(n,e,i,o,u){r.has(o,e)||(o[e]=!0,i||u.push(e),r.each(n.neighbors(e),function(e){t(n,e,i,o,u)}),i&&u.push(e))}(t,n,"post"===e,o,i)}),i}},function(t,n,e){const r=e(7),i=(e(18),e(19)),o=e(41),u=e(43),a=e(20),c="digraph {\n  a -> b [value=100]\n}",s={value:c,theme:"monokai",fullScreen:!0};function l(t){const n=document.getElementById("sankey");Array.from(n.children).forEach(t=>t.remove());const e=o.select(n),r=a.dotToData(t);console.log(r);const i=u.sankey().nodeAlign(u.sankeyLeft).nodeWidth(15).nodePadding(10).extent([[1,5],[n.clientWidth-1,n.clientHeight-5]]),{nodes:c,links:s}=i(r);console.log(c),console.log(s);const l={count:0,uid:function(t){return"O-"+(null==t?"":t+"-")+ ++this.count}};e.append("g").attr("stroke","#000").selectAll("rect").data(c).join("rect").attr("x",t=>t.x0).attr("y",t=>t.y0).attr("height",t=>t.y1-t.y0).attr("width",t=>t.x1-t.x0).attr("fill",t=>"#fff");const f=e.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(s).join("g").style("mix-blend-mode","multiply"),h=f.append("linearGradient").attr("id",t=>t.uid=l.uid("link")).attr("gradientUnits","userSpaceOnUse").attr("x1",t=>t.source.x1).attr("x2",t=>t.target.x0);h.append("stop").attr("offset","0%").attr("stop-color",t=>"magenta"),h.append("stop").attr("offset","100%").attr("stop-color",t=>"cyan"),f.append("path").attr("d",u.sankeyLinkHorizontal()).attr("stroke",t=>`url(#${t.uid})`).attr("stroke-width",t=>t.width)}r(document.getElementById("mirror"),s).on("change",i(function(t){l(t.getValue())},500)),l(c)},function(t,n,e){!function(t){"use strict";t.defineOption("fullScreen",!1,function(n,e,r){r==t.Init&&(r=!1),!r!=!e&&(e?function(t){var n=t.getWrapperElement();t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:n.style.width,height:n.style.height},n.style.width="",n.style.height="auto",n.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",t.refresh()}(n):function(t){var n=t.getWrapperElement();n.className=n.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var e=t.state.fullScreenRestore;n.style.width=e.width,n.style.height=e.height,window.scrollTo(e.scrollLeft,e.scrollTop),t.refresh()}(n))})}(e(7))},function(t,n,e){(function(n){var e="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n&&n&&n.Object===Object&&n,f="object"==typeof self&&self&&self.Object===Object&&self,h=l||f||Function("return this")(),d=Object.prototype.toString,p=Math.max,v=Math.min,g=function(){return h.Date.now()};function y(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==i}(t))return r;if(y(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=y(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var e=a.test(t);return e||c.test(t)?s(t.slice(2),e?2:8):u.test(t)?r:+t}t.exports=function(t,n,r){var i,o,u,a,c,s,l=0,f=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError(e);function _(n){var e=i,r=o;return i=o=void 0,l=n,a=t.apply(r,e)}function b(t){var e=t-s;return void 0===s||e>=n||e<0||h&&t-l>=u}function x(){var t=g();if(b(t))return w(t);c=setTimeout(x,function(t){var e=n-(t-s);return h?v(e,u-(t-l)):e}(t))}function w(t){return c=void 0,d&&i?_(t):(i=o=void 0,a)}function M(){var t=g(),e=b(t);if(i=arguments,o=this,s=t,e){if(void 0===c)return function(t){return l=t,c=setTimeout(x,n),f?_(t):a}(s);if(h)return c=setTimeout(x,n),_(s)}return void 0===c&&(c=setTimeout(x,n)),a}return n=m(n)||0,y(r)&&(f=!!r.leading,u=(h="maxWait"in r)?p(m(r.maxWait)||0,n):u,d="trailing"in r?!!r.trailing:d),M.cancel=function(){void 0!==c&&clearTimeout(c),l=0,i=s=o=c=void 0},M.flush=function(){return void 0===c?a:w(g())},M}}).call(this,e(5))},function(t,n,e){"use strict";const r=e(21),i=e(42);function o(t){let n;try{n=r.read(t)}catch(t){throw t.message=`Failed to parse input - is it valid DOT? Error was ${t.message}`,t}const e=n.nodes().reduce((t,n,e)=>({...t,[n]:e}),{});return{nodes:n.nodes().map(t=>({name:t})),links:n.edges().map(t=>({source:e[t.v],target:e[t.w],...n.edge(t)}))}}t.exports.dotToData=o,t.exports.dotToSankey=function(t){return i.sankey()(o(t))}},function(t,n,e){var r=e(22),i=e(38),o=e(39),u=e(40);t.exports={graphlib:e(11),read:r,readMany:i,write:o,version:u,type:"dot",buffer:!1}},function(t,n,e){var r=e(8),i=e(10);t.exports=function(t){var n=r.parse(t,{startRule:"graphStmt"});return i(n)}},function(t,n,e){(function(t,r){var i;
/**
 * @license
 * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */(function(){var o,u=[],a=[],c=0,s=+new Date+"",l=75,f=40,h=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",d=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/\w*$/,m=/^\s*function[ \n\r\t]+\w/,_=/<%=([\s\S]+?)%>/g,b=RegExp("^["+h+"]*0+(?=.$)"),x=/($^)/,w=/\bthis\b/,M=/['\n\r\t\u2028\u2029\\]/g,C=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],k=0,S="[object Arguments]",T="[object Array]",A="[object Boolean]",N="[object Date]",L="[object Function]",E="[object Number]",O="[object Object]",D="[object RegExp]",P="[object String]",z={};z[L]=!1,z[S]=z[T]=z[A]=z[N]=z[E]=z[O]=z[D]=z[P]=!0;var R={leading:!1,maxWait:0,trailing:!1},I={configurable:!1,enumerable:!1,value:null,writable:!1},F={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},j={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},W=F[typeof window]&&window||this,H=F[typeof n]&&n&&!n.nodeType&&n,B=F[typeof t]&&t&&!t.nodeType&&t,U=(B&&B.exports,F[typeof r]&&r);function q(t,n,e){for(var r=(e||0)-1,i=t?t.length:0;++r<i;)if(t[r]===n)return r;return-1}function Y(t,n){var e=typeof n;if(t=t.cache,"boolean"==e||null==n)return t[n]?0:-1;"number"!=e&&"string"!=e&&(e="object");var r="number"==e?n:s+n;return t=(t=t[e])&&t[r],"object"==e?t&&q(t,n)>-1?0:-1:t?0:-1}function G(t){var n=this.cache,e=typeof t;if("boolean"==e||null==t)n[t]=!0;else{"number"!=e&&"string"!=e&&(e="object");var r="number"==e?t:s+t,i=n[e]||(n[e]={});"object"==e?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function V(t){return t.charCodeAt(0)}function $(t,n){for(var e=t.criteria,r=n.criteria,i=-1,o=e.length;++i<o;){var u=e[i],a=r[i];if(u!==a){if(u>a||void 0===u)return 1;if(u<a||void 0===a)return-1}}return t.index-n.index}function X(t){var n=-1,e=t.length,r=t[0],i=t[e/2|0],o=t[e-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var u=Q();u.false=u.null=u.true=u[void 0]=!1;var a=Q();for(a.array=t,a.cache=u,a.push=G;++n<e;)a.push(t[n]);return a}function K(t){return"\\"+j[t]}function Z(){return u.pop()||[]}function Q(){return a.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function J(t){t.length=0,u.length<f&&u.push(t)}function tt(t){var n=t.cache;n&&tt(n),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,a.length<f&&a.push(t)}function nt(t,n,e){n||(n=0),void 0===e&&(e=t?t.length:0);for(var r=-1,i=e-n||0,o=Array(i<0?0:i);++r<i;)o[r]=t[n+r];return o}!U||U.global!==U&&U.window!==U||(W=U);var et=function t(n){var e=(n=n?et.defaults(W.Object(),n,et.pick(W,C)):W).Array,r=n.Boolean,i=n.Date,u=n.Function,a=n.Math,f=n.Number,j=n.Object,H=n.RegExp,B=n.String,U=n.TypeError,G=[],rt=j.prototype,it=n._,ot=rt.toString,ut=H("^"+B(ot).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),at=a.ceil,ct=n.clearTimeout,st=a.floor,lt=u.prototype.toString,ft=Gt(ft=j.getPrototypeOf)&&ft,ht=rt.hasOwnProperty,dt=G.push,pt=n.setTimeout,vt=G.splice,gt=G.unshift,yt=function(){try{var t={},n=Gt(n=j.defineProperty)&&n,e=n(t,t,t)&&n}catch(t){}return e}(),mt=Gt(mt=j.create)&&mt,_t=Gt(_t=e.isArray)&&_t,bt=n.isFinite,xt=n.isNaN,wt=Gt(wt=j.keys)&&wt,Mt=a.max,Ct=a.min,kt=n.parseInt,St=a.random,Tt={};function At(t){return t&&"object"==typeof t&&!Zt(t)&&ht.call(t,"__wrapped__")?t:new Nt(t)}function Nt(t,n){this.__chain__=!!n,this.__wrapped__=t}Tt[T]=e,Tt[A]=r,Tt[N]=i,Tt[L]=u,Tt[O]=j,Tt[E]=f,Tt[D]=H,Tt[P]=B,Nt.prototype=At.prototype;var Lt=At.support={};function Et(t){var n=t[0],e=t[2],r=t[4];function i(){if(e){var t=nt(e);dt.apply(t,arguments)}if(this instanceof i){var o=Dt(n.prototype),u=n.apply(o,t||arguments);return hn(u)?u:o}return n.apply(r,t||arguments)}return Vt(i,t),i}function Ot(t,n,e,r,i){if(e){var o=e(t);if(void 0!==o)return o}if(!hn(t))return t;var u=ot.call(t);if(!z[u])return t;var a=Tt[u];switch(u){case A:case N:return new a(+t);case E:case P:return new a(t);case D:return(o=a(t.source,y.exec(t))).lastIndex=t.lastIndex,o}var c=Zt(t);if(n){var s=!r;r||(r=Z()),i||(i=Z());for(var l=r.length;l--;)if(r[l]==t)return i[l];o=c?a(t.length):{}}else o=c?nt(t):rn({},t);return c&&(ht.call(t,"index")&&(o.index=t.index),ht.call(t,"input")&&(o.input=t.input)),n?(r.push(t),i.push(o),(c?wn:an)(t,function(t,u){o[u]=Ot(t,n,e,r,i)}),s&&(J(r),J(i)),o):o}function Dt(t,n){return hn(t)?mt(t):{}}function Pt(t,n,e){if("function"!=typeof t)return Un;if(void 0===n||!("prototype"in t))return t;var r=t.__bindData__;if(void 0===r&&(Lt.funcNames&&(r=!t.name),!(r=r||!Lt.funcDecomp))){var i=lt.call(t);Lt.funcNames||(r=!m.test(i)),r||(r=w.test(i),Vt(t,r))}if(!1===r||!0!==r&&1&r[1])return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return Hn(t,n)}function zt(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],u=t[5],a=1&e,c=2&e,s=4&e,l=8&e,f=n;function h(){var t=a?o:this;if(r){var d=nt(r);dt.apply(d,arguments)}if((i||s)&&(d||(d=nt(arguments)),i&&dt.apply(d,i),s&&d.length<u))return e|=16,zt([n,l?e:-4&e,d,null,o,u]);if(d||(d=arguments),c&&(n=t[f]),this instanceof h){t=Dt(n.prototype);var p=n.apply(t,d);return hn(p)?p:t}return n.apply(t,d)}return Vt(h,t),h}function Rt(t,n){var e=-1,r=Yt(),i=t?t.length:0,o=i>=l&&r===q,u=[];if(o){var a=X(n);a?(r=Y,n=a):o=!1}for(;++e<i;){var c=t[e];r(n,c)<0&&u.push(c)}return o&&tt(n),u}function It(t,n,e,r){for(var i=(r||0)-1,o=t?t.length:0,u=[];++i<o;){var a=t[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Zt(a)||Kt(a))){n||(a=It(a,n,e));var c=-1,s=a.length,l=u.length;for(u.length+=s;++c<s;)u[l++]=a[c]}else e||u.push(a)}return u}function Ft(t,n,e,r,i,o){if(e){var u=e(t,n);if(void 0!==u)return!!u}if(t===n)return 0!==t||1/t==1/n;var a=typeof n;if(!(t!=t||t&&F[typeof t]||n&&F[a]))return!1;if(null==t||null==n)return t===n;var c=ot.call(t),s=ot.call(n);if(c==S&&(c=O),s==S&&(s=O),c!=s)return!1;switch(c){case A:case N:return+t==+n;case E:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case D:case P:return t==B(n)}var l=c==T;if(!l){var f=ht.call(t,"__wrapped__"),h=ht.call(n,"__wrapped__");if(f||h)return Ft(f?t.__wrapped__:t,h?n.__wrapped__:n,e,r,i,o);if(c!=O)return!1;var d=t.constructor,p=n.constructor;if(d!=p&&!(fn(d)&&d instanceof d&&fn(p)&&p instanceof p)&&"constructor"in t&&"constructor"in n)return!1}var v=!i;i||(i=Z()),o||(o=Z());for(var g=i.length;g--;)if(i[g]==t)return o[g]==n;var y=0;if(u=!0,i.push(t),o.push(n),l){if(g=t.length,y=n.length,(u=y==g)||r)for(;y--;){var m=g,_=n[y];if(r)for(;m--&&!(u=Ft(t[m],_,e,r,i,o)););else if(!(u=Ft(t[y],_,e,r,i,o)))break}}else un(n,function(n,a,c){if(ht.call(c,a))return y++,u=ht.call(t,a)&&Ft(t[a],n,e,r,i,o)}),u&&!r&&un(t,function(t,n,e){if(ht.call(e,n))return u=--y>-1});return i.pop(),o.pop(),v&&(J(i),J(o)),u}function jt(t,n,e,r,i){(Zt(n)?wn:an)(n,function(n,o){var u,a,c=n,s=t[o];if(n&&((a=Zt(n))||pn(n))){for(var l,f=r.length;f--;)if(u=r[f]==n){s=i[f];break}u||(e&&(l=void 0!==(c=e(s,n)))&&(s=c),l||(s=a?Zt(s)?s:[]:pn(s)?s:{}),r.push(n),i.push(s),l||jt(s,n,e,r,i))}else e&&void 0===(c=e(s,n))&&(c=n),void 0!==c&&(s=c);t[o]=s})}function Wt(t,n){return t+st(St()*(n-t+1))}function Ht(t,n,e){var r=-1,i=Yt(),o=t?t.length:0,u=[],a=!n&&o>=l&&i===q,c=e||a?Z():u;for(a&&(i=Y,c=X(c));++r<o;){var s=t[r],f=e?e(s,r,t):s;(n?!r||c[c.length-1]!==f:i(c,f)<0)&&((e||a)&&c.push(f),u.push(s))}return a?(J(c.array),tt(c)):e&&J(c),u}function Bt(t){return function(n,e,r){var i={};e=At.createCallback(e,r,3);var o=-1,u=n?n.length:0;if("number"==typeof u)for(;++o<u;){var a=n[o];t(i,a,e(a,o,n),n)}else an(n,function(n,r,o){t(i,n,e(n,r,o),o)});return i}}function Ut(t,n,e,r,i,o){var u=1&n,a=4&n,c=16&n,s=32&n;if(!(2&n||fn(t)))throw new U;c&&!e.length&&(n&=-17,c=e=!1),s&&!r.length&&(n&=-33,s=r=!1);var l=t&&t.__bindData__;return l&&!0!==l?((l=nt(l))[2]&&(l[2]=nt(l[2])),l[3]&&(l[3]=nt(l[3])),!u||1&l[1]||(l[4]=i),!u&&1&l[1]&&(n|=8),!a||4&l[1]||(l[5]=o),c&&dt.apply(l[2]||(l[2]=[]),e),s&&gt.apply(l[3]||(l[3]=[]),r),l[1]|=n,Ut.apply(null,l)):(1==n||17===n?Et:zt)([t,n,e,r,i,o])}function qt(t){return Jt[t]}function Yt(){var t=(t=At.indexOf)===zn?q:t;return t}function Gt(t){return"function"==typeof t&&ut.test(t)}Lt.funcDecomp=!Gt(n.WinRTError)&&w.test(t),Lt.funcNames="string"==typeof u.name,At.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:_,variable:"",imports:{_:At}},mt||(Dt=function(){function t(){}return function(e){if(hn(e)){t.prototype=e;var r=new t;t.prototype=null}return r||n.Object()}}());var Vt=yt?function(t,n){I.value=n,yt(t,"__bindData__",I),I.value=null}:Yn;function $t(t){var n,e;return!(!t||ot.call(t)!=O||fn(n=t.constructor)&&!(n instanceof n))&&(un(t,function(t,n){e=n}),void 0===e||ht.call(t,e))}function Xt(t){return tn[t]}function Kt(t){return t&&"object"==typeof t&&"number"==typeof t.length&&ot.call(t)==S||!1}var Zt=_t||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&ot.call(t)==T||!1},Qt=wt?function(t){return hn(t)?wt(t):[]}:function(t){var n,e=t,r=[];if(!e)return r;if(!F[typeof t])return r;for(n in e)ht.call(e,n)&&r.push(n);return r},Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn=ln(Jt),nn=H("("+Qt(tn).join("|")+")","g"),en=H("["+Qt(Jt).join("")+"]","g"),rn=function(t,n,e){var r,i=t,o=i;if(!i)return o;var u=arguments,a=0,c="number"==typeof e?2:u.length;if(c>3&&"function"==typeof u[c-2])var s=Pt(u[--c-1],u[c--],2);else c>2&&"function"==typeof u[c-1]&&(s=u[--c]);for(;++a<c;)if((i=u[a])&&F[typeof i])for(var l=-1,f=F[typeof i]&&Qt(i),h=f?f.length:0;++l<h;)o[r=f[l]]=s?s(o[r],i[r]):i[r];return o};var on=function(t,n,e){var r,i=t,o=i;if(!i)return o;for(var u=arguments,a=0,c="number"==typeof e?2:u.length;++a<c;)if((i=u[a])&&F[typeof i])for(var s=-1,l=F[typeof i]&&Qt(i),f=l?l.length:0;++s<f;)void 0===o[r=l[s]]&&(o[r]=i[r]);return o};var un=function(t,n,e){var r,i=t,o=i;if(!i)return o;if(!F[typeof i])return o;for(r in n=n&&void 0===e?n:Pt(n,e,3),i)if(!1===n(i[r],r,t))return o;return o};var an=function(t,n,e){var r,i=t,o=i;if(!i)return o;if(!F[typeof i])return o;n=n&&void 0===e?n:Pt(n,e,3);for(var u=-1,a=F[typeof i]&&Qt(i),c=a?a.length:0;++u<c;)if(!1===n(i[r=a[u]],r,t))return o;return o};function cn(t,n,e){var r=Qt(t),i=r.length;for(n=Pt(n,e,3);i--;){var o=r[i];if(!1===n(t[o],o,t))break}return t}function sn(t){var n=[];return un(t,function(t,e){fn(t)&&n.push(e)}),n.sort()}function ln(t){for(var n=-1,e=Qt(t),r=e.length,i={};++n<r;){var o=e[n];i[t[o]]=o}return i}function fn(t){return"function"==typeof t}function hn(t){return!(!t||!F[typeof t])}function dn(t){return"number"==typeof t||t&&"object"==typeof t&&ot.call(t)==E||!1}var pn=ft?function(t){if(!t||ot.call(t)!=O)return!1;var n=t.valueOf,e=Gt(n)&&(e=ft(n))&&ft(e);return e?t==e||ft(t)==e:$t(t)}:$t;function vn(t){return"string"==typeof t||t&&"object"==typeof t&&ot.call(t)==P||!1}function gn(t){for(var n=-1,r=Qt(t),i=r.length,o=e(i);++n<i;)o[n]=t[r[n]];return o}function yn(t,n,e){var r=-1,i=Yt(),o=t?t.length:0,u=!1;return e=(e<0?Mt(0,o+e):e)||0,Zt(t)?u=i(t,n,e)>-1:"number"==typeof o?u=(vn(t)?t.indexOf(n,e):i(t,n,e))>-1:an(t,function(t){if(++r>=e)return!(u=t===n)}),u}var mn=Bt(function(t,n,e){ht.call(t,e)?t[e]++:t[e]=1});function _n(t,n,e){var r=!0;n=At.createCallback(n,e,3);var i=-1,o=t?t.length:0;if("number"==typeof o)for(;++i<o&&(r=!!n(t[i],i,t)););else an(t,function(t,e,i){return r=!!n(t,e,i)});return r}function bn(t,n,e){var r=[];n=At.createCallback(n,e,3);var i=-1,o=t?t.length:0;if("number"==typeof o)for(;++i<o;){var u=t[i];n(u,i,t)&&r.push(u)}else an(t,function(t,e,i){n(t,e,i)&&r.push(t)});return r}function xn(t,n,e){n=At.createCallback(n,e,3);var r,i=-1,o=t?t.length:0;if("number"!=typeof o)return an(t,function(t,e,i){if(n(t,e,i))return r=t,!1}),r;for(;++i<o;){var u=t[i];if(n(u,i,t))return u}}function wn(t,n,e){var r=-1,i=t?t.length:0;if(n=n&&void 0===e?n:Pt(n,e,3),"number"==typeof i)for(;++r<i&&!1!==n(t[r],r,t););else an(t,n);return t}function Mn(t,n,e){var r=t?t.length:0;if(n=n&&void 0===e?n:Pt(n,e,3),"number"==typeof r)for(;r--&&!1!==n(t[r],r,t););else{var i=Qt(t);r=i.length,an(t,function(t,e,o){return e=i?i[--r]:--r,n(o[e],e,o)})}return t}var Cn=Bt(function(t,n,e){(ht.call(t,e)?t[e]:t[e]=[]).push(n)}),kn=Bt(function(t,n,e){t[e]=n});function Sn(t,n,r){var i=-1,o=t?t.length:0;if(n=At.createCallback(n,r,3),"number"==typeof o)for(var u=e(o);++i<o;)u[i]=n(t[i],i,t);else u=[],an(t,function(t,e,r){u[++i]=n(t,e,r)});return u}function Tn(t,n,e){var r=-1/0,i=r;if("function"!=typeof n&&e&&e[n]===t&&(n=null),null==n&&Zt(t))for(var o=-1,u=t.length;++o<u;){var a=t[o];a>i&&(i=a)}else n=null==n&&vn(t)?V:At.createCallback(n,e,3),wn(t,function(t,e,o){var u=n(t,e,o);u>r&&(r=u,i=t)});return i}var An=Sn;function Nn(t,n,e,r){if(!t)return e;var i=arguments.length<3;n=At.createCallback(n,r,4);var o=-1,u=t.length;if("number"==typeof u)for(i&&(e=t[++o]);++o<u;)e=n(e,t[o],o,t);else an(t,function(t,r,o){e=i?(i=!1,t):n(e,t,r,o)});return e}function Ln(t,n,e,r){var i=arguments.length<3;return n=At.createCallback(n,r,4),Mn(t,function(t,r,o){e=i?(i=!1,t):n(e,t,r,o)}),e}function En(t){var n=-1,r=t?t.length:0,i=e("number"==typeof r?r:0);return wn(t,function(t){var e=Wt(0,++n);i[n]=i[e],i[e]=t}),i}function On(t,n,e){var r;n=At.createCallback(n,e,3);var i=-1,o=t?t.length:0;if("number"==typeof o)for(;++i<o&&!(r=n(t[i],i,t)););else an(t,function(t,e,i){return!(r=n(t,e,i))});return!!r}var Dn=bn;function Pn(t,n,e){var r=0,i=t?t.length:0;if("number"!=typeof n&&null!=n){var u=-1;for(n=At.createCallback(n,e,3);++u<i&&n(t[u],u,t);)r++}else if(null==(r=n)||e)return t?t[0]:o;return nt(t,0,Ct(Mt(0,r),i))}function zn(t,n,e){if("number"==typeof e){var r=t?t.length:0;e=e<0?Mt(0,r+e):e||0}else if(e){var i=In(t,n);return t[i]===n?i:-1}return q(t,n,e)}function Rn(t,n,e){if("number"!=typeof n&&null!=n){var r=0,i=-1,o=t?t.length:0;for(n=At.createCallback(n,e,3);++i<o&&n(t[i],i,t);)r++}else r=null==n||e?1:Mt(0,n);return nt(t,r)}function In(t,n,e,r){var i=0,o=t?t.length:i;for(n=(e=e?At.createCallback(e,r,1):Un)(n);i<o;){var u=i+o>>>1;e(t[u])<n?i=u+1:o=u}return i}function Fn(t,n,e,r){return"boolean"!=typeof n&&null!=n&&(r=e,e="function"!=typeof n&&r&&r[n]===t?null:n,n=!1),null!=e&&(e=At.createCallback(e,r,3)),Ht(t,n,e)}function jn(){for(var t=arguments.length>1?arguments:arguments[0],n=-1,r=t?Tn(An(t,"length")):0,i=e(r<0?0:r);++n<r;)i[n]=An(t,n);return i}function Wn(t,n){var e=-1,r=t?t.length:0,i={};for(n||!r||Zt(t[0])||(n=[]);++e<r;){var o=t[e];n?i[o]=n[e]:o&&(i[o[0]]=o[1])}return i}function Hn(t,n){return arguments.length>2?Ut(t,17,nt(arguments,2),null,n):Ut(t,1,null,null,n)}function Bn(t,n,e){var r,i,u,a,c,s,l,f=0,h=!1,d=!0;if(!fn(t))throw new U;if(n=Mt(0,n)||0,!0===e){var p=!0;d=!1}else hn(e)&&(p=e.leading,h="maxWait"in e&&(Mt(n,e.maxWait)||0),d="trailing"in e?e.trailing:d);var v=function(){var e=n-(Vn()-a);if(e<=0){i&&ct(i);var h=l;i=s=l=o,h&&(f=Vn(),u=t.apply(c,r),s||i||(r=c=null))}else s=pt(v,e)},g=function(){s&&ct(s),i=s=l=o,(d||h!==n)&&(f=Vn(),u=t.apply(c,r),s||i||(r=c=null))};return function(){if(r=arguments,a=Vn(),c=this,l=d&&(s||!p),!1===h)var e=p&&!s;else{i||p||(f=a);var o=h-(a-f),y=o<=0;y?(i&&(i=ct(i)),f=a,u=t.apply(c,r)):i||(i=pt(g,o))}return y&&s?s=ct(s):s||n===h||(s=pt(v,n)),e&&(y=!0,u=t.apply(c,r)),!y||s||i||(r=c=null),u}}function Un(t){return t}function qn(t,n,e){var r=!0,i=n&&sn(n);n&&(e||i.length)||(null==e&&(e=n),o=Nt,n=t,t=At,i=sn(n)),!1===e?r=!1:hn(e)&&"chain"in e&&(r=e.chain);var o=t,u=fn(o);wn(i,function(e){var i=t[e]=n[e];u&&(o.prototype[e]=function(){var n=this.__chain__,e=this.__wrapped__,u=[e];dt.apply(u,arguments);var a=i.apply(t,u);if(r||n){if(e===a&&hn(a))return this;(a=new o(a)).__chain__=n}return a})})}function Yn(){}var Gn,Vn=Gt(Vn=i.now)&&Vn||function(){return(new i).getTime()},$n=8==kt(h+"08")?kt:function(t,n){return kt(vn(t)?t.replace(b,""):t,n||0)};function Xn(t){return function(n){return n[t]}}function Kn(){return this.__wrapped__}return At.after=function(t,n){if(!fn(n))throw new U;return function(){if(--t<1)return n.apply(this,arguments)}},At.assign=rn,At.at=function(t){for(var n=arguments,r=-1,i=It(n,!0,!1,1),o=n[2]&&n[2][n[1]]===t?1:i.length,u=e(o);++r<o;)u[r]=t[i[r]];return u},At.bind=Hn,At.bindAll=function(t){for(var n=arguments.length>1?It(arguments,!0,!1,1):sn(t),e=-1,r=n.length;++e<r;){var i=n[e];t[i]=Ut(t[i],1,null,null,t)}return t},At.bindKey=function(t,n){return arguments.length>2?Ut(n,19,nt(arguments,2),null,t):Ut(n,3,null,null,t)},At.chain=function(t){return(t=new Nt(t)).__chain__=!0,t},At.compact=function(t){for(var n=-1,e=t?t.length:0,r=[];++n<e;){var i=t[n];i&&r.push(i)}return r},At.compose=function(){for(var t=arguments,n=t.length;n--;)if(!fn(t[n]))throw new U;return function(){for(var n=arguments,e=t.length;e--;)n=[t[e].apply(this,n)];return n[0]}},At.constant=function(t){return function(){return t}},At.countBy=mn,At.create=function(t,n){var e=Dt(t);return n?rn(e,n):e},At.createCallback=function(t,n,e){var r=typeof t;if(null==t||"function"==r)return Pt(t,n,e);if("object"!=r)return Xn(t);var i=Qt(t),o=i[0],u=t[o];return 1!=i.length||u!=u||hn(u)?function(n){for(var e=i.length,r=!1;e--&&(r=Ft(n[i[e]],t[i[e]],null,!0)););return r}:function(t){var n=t[o];return u===n&&(0!==u||1/u==1/n)}},At.curry=function(t,n){return Ut(t,4,null,null,null,n="number"==typeof n?n:+n||t.length)},At.debounce=Bn,At.defaults=on,At.defer=function(t){if(!fn(t))throw new U;var n=nt(arguments,1);return pt(function(){t.apply(o,n)},1)},At.delay=function(t,n){if(!fn(t))throw new U;var e=nt(arguments,2);return pt(function(){t.apply(o,e)},n)},At.difference=function(t){return Rt(t,It(arguments,!0,!0,1))},At.filter=bn,At.flatten=function(t,n,e,r){return"boolean"!=typeof n&&null!=n&&(r=e,e="function"!=typeof n&&r&&r[n]===t?null:n,n=!1),null!=e&&(t=Sn(t,e,r)),It(t,n)},At.forEach=wn,At.forEachRight=Mn,At.forIn=un,At.forInRight=function(t,n,e){var r=[];un(t,function(t,n){r.push(n,t)});var i=r.length;for(n=Pt(n,e,3);i--&&!1!==n(r[i--],r[i],t););return t},At.forOwn=an,At.forOwnRight=cn,At.functions=sn,At.groupBy=Cn,At.indexBy=kn,At.initial=function(t,n,e){var r=0,i=t?t.length:0;if("number"!=typeof n&&null!=n){var o=i;for(n=At.createCallback(n,e,3);o--&&n(t[o],o,t);)r++}else r=null==n||e?1:n||r;return nt(t,0,Ct(Mt(0,i-r),i))},At.intersection=function(){for(var t=[],n=-1,e=arguments.length,r=Z(),i=Yt(),o=i===q,u=Z();++n<e;){var a=arguments[n];(Zt(a)||Kt(a))&&(t.push(a),r.push(o&&a.length>=l&&X(n?t[n]:u)))}var c=t[0],s=-1,f=c?c.length:0,h=[];t:for(;++s<f;){var d=r[0];if(a=c[s],(d?Y(d,a):i(u,a))<0){for(n=e,(d||u).push(a);--n;)if(((d=r[n])?Y(d,a):i(t[n],a))<0)continue t;h.push(a)}}for(;e--;)(d=r[e])&&tt(d);return J(r),J(u),h},At.invert=ln,At.invoke=function(t,n){var r=nt(arguments,2),i=-1,o="function"==typeof n,u=t?t.length:0,a=e("number"==typeof u?u:0);return wn(t,function(t){a[++i]=(o?n:t[n]).apply(t,r)}),a},At.keys=Qt,At.map=Sn,At.mapValues=function(t,n,e){var r={};return n=At.createCallback(n,e,3),an(t,function(t,e,i){r[e]=n(t,e,i)}),r},At.max=Tn,At.memoize=function(t,n){if(!fn(t))throw new U;var e=function(){var r=e.cache,i=n?n.apply(this,arguments):s+arguments[0];return ht.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return e.cache={},e},At.merge=function(t){var n=arguments,e=2;if(!hn(t))return t;if("number"!=typeof n[2]&&(e=n.length),e>3&&"function"==typeof n[e-2])var r=Pt(n[--e-1],n[e--],2);else e>2&&"function"==typeof n[e-1]&&(r=n[--e]);for(var i=nt(arguments,1,e),o=-1,u=Z(),a=Z();++o<e;)jt(t,i[o],r,u,a);return J(u),J(a),t},At.min=function(t,n,e){var r=1/0,i=r;if("function"!=typeof n&&e&&e[n]===t&&(n=null),null==n&&Zt(t))for(var o=-1,u=t.length;++o<u;){var a=t[o];a<i&&(i=a)}else n=null==n&&vn(t)?V:At.createCallback(n,e,3),wn(t,function(t,e,o){var u=n(t,e,o);u<r&&(r=u,i=t)});return i},At.omit=function(t,n,e){var r={};if("function"!=typeof n){var i=[];un(t,function(t,n){i.push(n)});for(var o=-1,u=(i=Rt(i,It(arguments,!0,!1,1))).length;++o<u;){var a=i[o];r[a]=t[a]}}else n=At.createCallback(n,e,3),un(t,function(t,e,i){n(t,e,i)||(r[e]=t)});return r},At.once=function(t){var n,e;if(!fn(t))throw new U;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},At.pairs=function(t){for(var n=-1,r=Qt(t),i=r.length,o=e(i);++n<i;){var u=r[n];o[n]=[u,t[u]]}return o},At.partial=function(t){return Ut(t,16,nt(arguments,1))},At.partialRight=function(t){return Ut(t,32,null,nt(arguments,1))},At.pick=function(t,n,e){var r={};if("function"!=typeof n)for(var i=-1,o=It(arguments,!0,!1,1),u=hn(t)?o.length:0;++i<u;){var a=o[i];a in t&&(r[a]=t[a])}else n=At.createCallback(n,e,3),un(t,function(t,e,i){n(t,e,i)&&(r[e]=t)});return r},At.pluck=An,At.property=Xn,At.pull=function(t){for(var n=arguments,e=0,r=n.length,i=t?t.length:0;++e<r;)for(var o=-1,u=n[e];++o<i;)t[o]===u&&(vt.call(t,o--,1),i--);return t},At.range=function(t,n,r){t=+t||0,null==n&&(n=t,t=0);for(var i=-1,o=Mt(0,at((n-t)/((r="number"==typeof r?r:+r||1)||1))),u=e(o);++i<o;)u[i]=t,t+=r;return u},At.reject=function(t,n,e){return n=At.createCallback(n,e,3),bn(t,function(t,e,r){return!n(t,e,r)})},At.remove=function(t,n,e){var r=-1,i=t?t.length:0,o=[];for(n=At.createCallback(n,e,3);++r<i;){var u=t[r];n(u,r,t)&&(o.push(u),vt.call(t,r--,1),i--)}return o},At.rest=Rn,At.shuffle=En,At.sortBy=function(t,n,r){var i=-1,o=Zt(n),u=t?t.length:0,a=e("number"==typeof u?u:0);for(o||(n=At.createCallback(n,r,3)),wn(t,function(t,e,r){var u=a[++i]=Q();o?u.criteria=Sn(n,function(n){return t[n]}):(u.criteria=Z())[0]=n(t,e,r),u.index=i,u.value=t}),u=a.length,a.sort($);u--;){var c=a[u];a[u]=c.value,o||J(c.criteria),tt(c)}return a},At.tap=function(t,n){return n(t),t},At.throttle=function(t,n,e){var r=!0,i=!0;if(!fn(t))throw new U;return!1===e?r=!1:hn(e)&&(r="leading"in e?e.leading:r,i="trailing"in e?e.trailing:i),R.leading=r,R.maxWait=n,R.trailing=i,Bn(t,n,R)},At.times=function(t,n,r){t=(t=+t)>-1?t:0;var i=-1,o=e(t);for(n=Pt(n,r,1);++i<t;)o[i]=n(i);return o},At.toArray=function(t){return t&&"number"==typeof t.length?nt(t):gn(t)},At.transform=function(t,n,e,r){var i=Zt(t);if(null==e)if(i)e=[];else{var o=t&&t.constructor,u=o&&o.prototype;e=Dt(u)}return n&&(n=At.createCallback(n,r,4),(i?wn:an)(t,function(t,r,i){return n(e,t,r,i)})),e},At.union=function(){return Ht(It(arguments,!0,!0))},At.uniq=Fn,At.values=gn,At.where=Dn,At.without=function(t){return Rt(t,nt(arguments,1))},At.wrap=function(t,n){return Ut(n,16,[t])},At.xor=function(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(Zt(e)||Kt(e))var r=r?Ht(Rt(r,e).concat(Rt(e,r))):e}return r||[]},At.zip=jn,At.zipObject=Wn,At.collect=Sn,At.drop=Rn,At.each=wn,At.eachRight=Mn,At.extend=rn,At.methods=sn,At.object=Wn,At.select=bn,At.tail=Rn,At.unique=Fn,At.unzip=jn,qn(At),At.clone=function(t,n,e,r){return"boolean"!=typeof n&&null!=n&&(r=e,e=n,n=!1),Ot(t,n,"function"==typeof e&&Pt(e,r,1))},At.cloneDeep=function(t,n,e){return Ot(t,!0,"function"==typeof n&&Pt(n,e,1))},At.contains=yn,At.escape=function(t){return null==t?"":B(t).replace(en,qt)},At.every=_n,At.find=xn,At.findIndex=function(t,n,e){var r=-1,i=t?t.length:0;for(n=At.createCallback(n,e,3);++r<i;)if(n(t[r],r,t))return r;return-1},At.findKey=function(t,n,e){var r;return n=At.createCallback(n,e,3),an(t,function(t,e,i){if(n(t,e,i))return r=e,!1}),r},At.findLast=function(t,n,e){var r;return n=At.createCallback(n,e,3),Mn(t,function(t,e,i){if(n(t,e,i))return r=t,!1}),r},At.findLastIndex=function(t,n,e){var r=t?t.length:0;for(n=At.createCallback(n,e,3);r--;)if(n(t[r],r,t))return r;return-1},At.findLastKey=function(t,n,e){var r;return n=At.createCallback(n,e,3),cn(t,function(t,e,i){if(n(t,e,i))return r=e,!1}),r},At.has=function(t,n){return!!t&&ht.call(t,n)},At.identity=Un,At.indexOf=zn,At.isArguments=Kt,At.isArray=Zt,At.isBoolean=function(t){return!0===t||!1===t||t&&"object"==typeof t&&ot.call(t)==A||!1},At.isDate=function(t){return t&&"object"==typeof t&&ot.call(t)==N||!1},At.isElement=function(t){return t&&1===t.nodeType||!1},At.isEmpty=function(t){var n=!0;if(!t)return n;var e=ot.call(t),r=t.length;return e==T||e==P||e==S||e==O&&"number"==typeof r&&fn(t.splice)?!r:(an(t,function(){return n=!1}),n)},At.isEqual=function(t,n,e,r){return Ft(t,n,"function"==typeof e&&Pt(e,r,2))},At.isFinite=function(t){return bt(t)&&!xt(parseFloat(t))},At.isFunction=fn,At.isNaN=function(t){return dn(t)&&t!=+t},At.isNull=function(t){return null===t},At.isNumber=dn,At.isObject=hn,At.isPlainObject=pn,At.isRegExp=function(t){return t&&"object"==typeof t&&ot.call(t)==D||!1},At.isString=vn,At.isUndefined=function(t){return void 0===t},At.lastIndexOf=function(t,n,e){var r=t?t.length:0;for("number"==typeof e&&(r=(e<0?Mt(0,r+e):Ct(e,r-1))+1);r--;)if(t[r]===n)return r;return-1},At.mixin=qn,At.noConflict=function(){return n._=it,this},At.noop=Yn,At.now=Vn,At.parseInt=$n,At.random=function(t,n,e){var r=null==t,i=null==n;if(null==e&&("boolean"==typeof t&&i?(e=t,t=1):i||"boolean"!=typeof n||(e=n,i=!0)),r&&i&&(n=1),t=+t||0,i?(n=t,t=0):n=+n||0,e||t%1||n%1){var o=St();return Ct(t+o*(n-t+parseFloat("1e-"+((o+"").length-1))),n)}return Wt(t,n)},At.reduce=Nn,At.reduceRight=Ln,At.result=function(t,n){if(t){var e=t[n];return fn(e)?t[n]():e}},At.runInContext=t,At.size=function(t){var n=t?t.length:0;return"number"==typeof n?n:Qt(t).length},At.some=On,At.sortedIndex=In,At.template=function(t,n,e){var r=At.templateSettings;t=B(t||""),e=on({},e,r);var i,a=on({},e.imports,r.imports),c=Qt(a),s=gn(a),l=0,f=e.interpolate||x,h="__p += '",y=H((e.escape||x).source+"|"+f.source+"|"+(f===_?g:x).source+"|"+(e.evaluate||x).source+"|$","g");t.replace(y,function(n,e,r,o,u,a){return r||(r=o),h+=t.slice(l,a).replace(M,K),e&&(h+="' +\n__e("+e+") +\n'"),u&&(i=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=a+n.length,n}),h+="';\n";var m=e.variable,b=m;b||(h="with ("+(m="obj")+") {\n"+h+"\n}\n"),h=(i?h.replace(d,""):h).replace(p,"$1").replace(v,"$1;"),h="function("+m+") {\n"+(b?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var w="\n/*\n//# sourceURL="+(e.sourceURL||"/lodash/template/source["+k+++"]")+"\n*/";try{var C=u(c,"return "+h+w).apply(o,s)}catch(t){throw t.source=h,t}return n?C(n):(C.source=h,C)},At.unescape=function(t){return null==t?"":B(t).replace(nn,Xt)},At.uniqueId=function(t){var n=++c;return B(null==t?"":t)+n},At.all=_n,At.any=On,At.detect=xn,At.findWhere=xn,At.foldl=Nn,At.foldr=Ln,At.include=yn,At.inject=Nn,qn((Gn={},an(At,function(t,n){At.prototype[n]||(Gn[n]=t)}),Gn),!1),At.first=Pn,At.last=function(t,n,e){var r=0,i=t?t.length:0;if("number"!=typeof n&&null!=n){var u=i;for(n=At.createCallback(n,e,3);u--&&n(t[u],u,t);)r++}else if(null==(r=n)||e)return t?t[i-1]:o;return nt(t,Mt(0,i-r))},At.sample=function(t,n,e){if(t&&"number"!=typeof t.length&&(t=gn(t)),null==n||e)return t?t[Wt(0,t.length-1)]:o;var r=En(t);return r.length=Ct(Mt(0,n),r.length),r},At.take=Pn,At.head=Pn,an(At,function(t,n){var e="sample"!==n;At.prototype[n]||(At.prototype[n]=function(n,r){var i=this.__chain__,o=t(this.__wrapped__,n,r);return i||null!=n&&(!r||e&&"function"==typeof n)?new Nt(o,i):o})}),At.VERSION="2.4.2",At.prototype.chain=function(){return this.__chain__=!0,this},At.prototype.toString=function(){return B(this.__wrapped__)},At.prototype.value=Kn,At.prototype.valueOf=Kn,wn(["join","pop","shift"],function(t){var n=G[t];At.prototype[t]=function(){var t=this.__chain__,e=n.apply(this.__wrapped__,arguments);return t?new Nt(e,t):e}}),wn(["push","reverse","sort","unshift"],function(t){var n=G[t];At.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),wn(["concat","slice","splice"],function(t){var n=G[t];At.prototype[t]=function(){return new Nt(n.apply(this.__wrapped__,arguments),this.__chain__)}}),At}();W._=et,(i=function(){return et}.call(n,e,n,t))===o||(t.exports=i)}).call(this)}).call(this,e(9)(t),e(5))},function(t,n,e){var r=e(25);t.exports={Graph:r.Graph,json:e(28),alg:e(29),version:r.version}},function(t,n,e){t.exports={Graph:e(6),version:e(27)}},function(t,n,e){(function(t,r){var i;
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -d -o ./index.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */(function(){var o,u,a,c="3.10.1",s=1,l=2,f=4,h=8,d=16,p=32,v=64,g=128,y=256,m=30,_="...",b=150,x=16,w=200,M=1,C=2,k="Expected a function",S="__lodash_placeholder__",T="[object Arguments]",A="[object Array]",N="[object Boolean]",L="[object Date]",E="[object Error]",O="[object Function]",D="[object Number]",P="[object Object]",z="[object RegExp]",R="[object String]",I="[object ArrayBuffer]",F="[object Float32Array]",j="[object Float64Array]",W="[object Int8Array]",H="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",q="[object Uint8ClampedArray]",Y="[object Uint16Array]",G="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39|#96);/g,Z=/[&<>"'`]/g,Q=RegExp(K.source),J=RegExp(Z.source),tt=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,it=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ut=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,at=RegExp(ut.source),ct=/[\u0300-\u036f\ufe20-\ufe23]/g,st=/\\(\\)?/g,lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,ht=/^0[xX]/,dt=/^\[object .+?Constructor\]$/,pt=/^\d+$/,vt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,gt=/($^)/,yt=/['\n\r\u2028\u2029\\]/g,mt=(u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(u+"+(?="+u+a+")|"+u+"?"+a+"|"+u+"+|[0-9]+","g")),_t=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],bt=-1,xt={};xt[F]=xt[j]=xt[W]=xt[H]=xt[B]=xt[U]=xt[q]=xt[Y]=xt[G]=!0,xt[T]=xt[A]=xt[I]=xt[N]=xt[L]=xt[E]=xt[O]=xt["[object Map]"]=xt[D]=xt[P]=xt[z]=xt["[object Set]"]=xt[R]=xt["[object WeakMap]"]=!1;var wt={};wt[T]=wt[A]=wt[I]=wt[N]=wt[L]=wt[F]=wt[j]=wt[W]=wt[H]=wt[B]=wt[D]=wt[P]=wt[z]=wt[R]=wt[U]=wt[q]=wt[Y]=wt[G]=!0,wt[E]=wt[O]=wt["[object Map]"]=wt["[object Set]"]=wt["[object WeakMap]"]=!1;var Mt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},kt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},St={function:!0,object:!0},Tt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},At={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nt=St[typeof n]&&n&&!n.nodeType&&n,Lt=St[typeof t]&&t&&!t.nodeType&&t,Et=Nt&&Lt&&"object"==typeof r&&r&&r.Object&&r,Ot=St[typeof self]&&self&&self.Object&&self,Dt=St[typeof window]&&window&&window.Object&&window,Pt=(Lt&&Lt.exports,Et||Dt!==(this&&this.window)&&Dt||Ot||this);function zt(t,n){if(t!==n){var e=null===t,r=t===o,i=t==t,u=null===n,a=n===o,c=n==n;if(t>n&&!u||!i||e&&!a&&c||r&&c)return 1;if(t<n&&!e||!c||u&&!r&&i||a&&i)return-1}return 0}function Rt(t,n,e){for(var r=t.length,i=e?r:-1;e?i--:++i<r;)if(n(t[i],i,t))return i;return-1}function It(t,n,e){if(n!=n)return Vt(t,e);for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}function Ft(t){return"function"==typeof t||!1}function jt(t){return null==t?"":t+""}function Wt(t,n){for(var e=-1,r=t.length;++e<r&&n.indexOf(t.charAt(e))>-1;);return e}function Ht(t,n){for(var e=t.length;e--&&n.indexOf(t.charAt(e))>-1;);return e}function Bt(t,n){return zt(t.criteria,n.criteria)||t.index-n.index}function Ut(t){return Mt[t]}function qt(t){return Ct[t]}function Yt(t,n,e){return n?t=Tt[t]:e&&(t=At[t]),"\\"+t}function Gt(t){return"\\"+At[t]}function Vt(t,n,e){for(var r=t.length,i=n+(e?0:-1);e?i--:++i<r;){var o=t[i];if(o!=o)return i}return-1}function $t(t){return!!t&&"object"==typeof t}function Xt(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Kt(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;)t[e]===n&&(t[e]=S,o[++i]=e);return o}function Zt(t){for(var n=-1,e=t.length;++n<e&&Xt(t.charCodeAt(n)););return n}function Qt(t){for(var n=t.length;n--&&Xt(t.charCodeAt(n)););return n}function Jt(t){return kt[t]}var tn=function t(n){var e=(n=n?tn.defaults(Pt.Object(),n,tn.pick(Pt,_t)):Pt).Array,r=n.Date,i=n.Error,u=n.Function,a=n.Math,Mt=n.Number,Ct=n.Object,kt=n.RegExp,St=n.String,Tt=n.TypeError,At=e.prototype,Nt=Ct.prototype,Lt=St.prototype,Et=u.prototype.toString,Ot=Nt.hasOwnProperty,Dt=0,Xt=Nt.toString,nn=Pt._,en=kt("^"+Et.call(Ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rn=n.ArrayBuffer,on=n.clearTimeout,un=n.parseFloat,an=a.pow,cn=Nt.propertyIsEnumerable,sn=mr(n,"Set"),ln=n.setTimeout,fn=At.splice,hn=n.Uint8Array,dn=mr(n,"WeakMap"),pn=a.ceil,vn=mr(Ct,"create"),gn=a.floor,yn=mr(e,"isArray"),mn=n.isFinite,_n=mr(Ct,"keys"),bn=a.max,xn=a.min,wn=mr(r,"now"),Mn=n.parseInt,Cn=a.random,kn=Mt.NEGATIVE_INFINITY,Sn=Mt.POSITIVE_INFINITY,Tn=4294967295,An=Tn-1,Nn=Tn>>>1,Ln=9007199254740991,En=dn&&new dn,On={};function Dn(t){if($t(t)&&!Gi(t)&&!(t instanceof Rn)){if(t instanceof zn)return t;if(Ot.call(t,"__chain__")&&Ot.call(t,"__wrapped__"))return Rr(t)}return new zn(t)}function Pn(){}function zn(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}Dn.support={};function Rn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Sn,this.__views__=[]}function In(){this.__data__={}}function Fn(t){var n=t?t.length:0;for(this.data={hash:vn(null),set:new sn};n--;)this.push(t[n])}function jn(t,n){var e=t.data;return("string"==typeof n||Ki(n)?e.set.has(n):e.hash[n])?0:-1}function Wn(t,n){var r=-1,i=t.length;for(n||(n=e(i));++r<i;)n[r]=t[r];return n}function Hn(t,n){for(var e=-1,r=t.length;++e<r&&!1!==n(t[e],e,t););return t}function Bn(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function Un(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var u=t[e];n(u,e,t)&&(o[++i]=u)}return o}function qn(t,n){for(var r=-1,i=t.length,o=e(i);++r<i;)o[r]=n(t[r],r,t);return o}function Yn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function Gn(t,n,e,r){var i=-1,o=t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function Vn(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function $n(t,n,e,r){return t!==o&&Ot.call(r,e)?t:n}function Xn(t,n,e){for(var r=-1,i=mo(n),u=i.length;++r<u;){var a=i[r],c=t[a],s=e(c,n[a],a,t,n);(s==s?s===c:c!=c)&&(c!==o||a in t)||(t[a]=s)}return t}function Kn(t,n){return null==n?t:Qn(n,mo(n),t)}function Zn(t,n){for(var r=-1,i=null==t,u=!i&&br(t),a=u?t.length:0,c=n.length,s=e(c);++r<c;){var l=n[r];s[r]=u?xr(l,a)?t[l]:o:i?o:t[l]}return s}function Qn(t,n,e){e||(e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function Jn(t,n,e){var r=typeof t;return"function"==r?n===o?t:Re(t,n,e):null==t?Fo:"object"==r?be(t):n===o?qo(t):xe(t,n)}function te(t,n,e,r,i,u,a){var c;if(e&&(c=i?e(t,r,i):e(t)),c!==o)return c;if(!Ki(t))return t;var s=Gi(t);if(s){if(c=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&Ot.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!n)return Wn(t,c)}else{var l=Xt.call(t),f=l==O;if(l!=P&&l!=T&&(!f||i))return wt[l]?function(t,n,e){var r=t.constructor;switch(n){case I:return Ie(t);case N:case L:return new r(+t);case F:case j:case W:case H:case B:case U:case q:case Y:case G:var i=t.buffer;return new r(e?Ie(i):i,t.byteOffset,t.length);case D:case R:return new r(t);case z:var o=new r(t.source,ft.exec(t));o.lastIndex=t.lastIndex}return o}(t,l,n):i?t:{};if(c=function(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Ct),new n}(f?{}:t),!n)return Kn(c,t)}u||(u=[]),a||(a=[]);for(var h=u.length;h--;)if(u[h]==t)return a[h];return u.push(t),a.push(c),(s?Hn:de)(t,function(r,i){c[i]=te(r,n,e,i,t,u,a)}),c}Dn.templateSettings={escape:tt,evaluate:nt,interpolate:et,variable:"",imports:{_:Dn}};var ne=function(){function t(){}return function(n){if(Ki(n)){t.prototype=n;var e=new t;t.prototype=o}return e||{}}}();function ee(t,n,e){if("function"!=typeof t)throw new Tt(k);return ln(function(){t.apply(o,e)},n)}function re(t,n){var e=t?t.length:0,r=[];if(!e)return r;var i=-1,o=vr(),u=o==It,a=u&&n.length>=w?qe(n):null,c=n.length;a&&(o=jn,u=!1,n=a);t:for(;++i<e;){var s=t[i];if(u&&s==s){for(var l=c;l--;)if(n[l]===s)continue t;r.push(s)}else o(n,s,0)<0&&r.push(s)}return r}var ie=Be(de),oe=Be(pe,!0);function ue(t,n){var e=!0;return ie(t,function(t,r,i){return e=!!n(t,r,i)}),e}function ae(t,n){var e=[];return ie(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function ce(t,n,e,r){var i;return e(t,function(t,e,o){if(n(t,e,o))return i=r?e:t,!1}),i}function se(t,n,e,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var u=t[i];$t(u)&&br(u)&&(e||Gi(u)||Yi(u))?n?se(u,n,e,r):Yn(r,u):e||(r[r.length]=u)}return r}var le=Ue(),fe=Ue(!0);function he(t,n){return le(t,n,_o)}function de(t,n){return le(t,n,mo)}function pe(t,n){return fe(t,n,mo)}function ve(t,n){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var u=n[e];Xi(t[u])&&(o[++i]=u)}return o}function ge(t,n,e){if(null!=t){e!==o&&e in Pr(t)&&(n=[e]);for(var r=0,i=n.length;null!=t&&r<i;)t=t[n[r++]];return r&&r==i?t:o}}function ye(t,n,e,r,i,u){return t===n||(null==t||null==n||!Ki(t)&&!$t(n)?t!=t&&n!=n:function(t,n,e,r,i,u,a){var c=Gi(t),s=Gi(n),l=A,f=A;c||((l=Xt.call(t))==T?l=P:l!=P&&(c=eo(t))),s||((f=Xt.call(n))==T?f=P:f!=P&&(s=eo(n)));var h=l==P,d=f==P,p=l==f;if(p&&!c&&!h)return function(t,n,e){switch(e){case N:case L:return+t==+n;case E:return t.name==n.name&&t.message==n.message;case D:return t!=+t?n!=+n:t==+n;case z:case R:return t==n+""}return!1}(t,n,l);if(!i){var v=h&&Ot.call(t,"__wrapped__"),g=d&&Ot.call(n,"__wrapped__");if(v||g)return e(v?t.value():t,g?n.value():n,r,i,u,a)}if(!p)return!1;u||(u=[]),a||(a=[]);for(var y=u.length;y--;)if(u[y]==t)return a[y]==n;u.push(t),a.push(n);var m=(c?function(t,n,e,r,i,u,a){var c=-1,s=t.length,l=n.length;if(s!=l&&!(i&&l>s))return!1;for(;++c<s;){var f=t[c],h=n[c],d=r?r(i?h:f,i?f:h,c):o;if(d!==o){if(d)continue;return!1}if(i){if(!Vn(n,function(t){return f===t||e(f,t,r,i,u,a)}))return!1}else if(f!==h&&!e(f,h,r,i,u,a))return!1}return!0}:function(t,n,e,r,i,u,a){var c=mo(t),s=c.length,l=mo(n).length;if(s!=l&&!i)return!1;for(var f=s;f--;){var h=c[f];if(!(i?h in n:Ot.call(n,h)))return!1}for(var d=i;++f<s;){h=c[f];var p=t[h],v=n[h],g=r?r(i?v:p,i?p:v,h):o;if(!(g===o?e(p,v,r,i,u,a):g))return!1;d||(d="constructor"==h)}if(!d){var y=t.constructor,m=n.constructor;if(y!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0})(t,n,e,r,i,u,a);return u.pop(),a.pop(),m}(t,n,ye,e,r,i,u))}function me(t,n,e){var r=n.length,i=r,u=!e;if(null==t)return!i;for(t=Pr(t);r--;){var a=n[r];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){var c=(a=n[r])[0],s=t[c],l=a[1];if(u&&a[2]){if(s===o&&!(c in t))return!1}else{var f=e?e(s,l,c):o;if(!(f===o?ye(l,s,e,!0):f))return!1}}return!0}function _e(t,n){var r=-1,i=br(t)?e(t.length):[];return ie(t,function(t,e,o){i[++r]=n(t,e,o)}),i}function be(t){var n=yr(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null!=t&&t[e]===r&&(r!==o||e in Pr(t))}}return function(t){return me(t,n)}}function xe(t,n){var e=Gi(t),r=Mr(t)&&Sr(n),i=t+"";return t=zr(t),function(u){if(null==u)return!1;var a=i;if(u=Pr(u),(e||!r)&&!(a in u)){if(null==(u=1==t.length?u:ge(u,Se(t,0,-1))))return!1;a=Yr(t),u=Pr(u)}return u[a]===n?n!==o||a in u:ye(n,u[a],o,!0)}}function we(t){return function(n){return null==n?o:n[t]}}function Me(t,n){for(var e=t?n.length:0;e--;){var r=n[e];if(r!=i&&xr(r)){var i=r;fn.call(t,r,1)}}return t}function Ce(t,n){return t+gn(Cn()*(n-t+1))}var ke=En?function(t,n){return En.set(t,n),t}:Fo;function Se(t,n,r){var i=-1,u=t.length;(n=null==n?0:+n||0)<0&&(n=-n>u?0:u+n),(r=r===o||r>u?u:+r||0)<0&&(r+=u),u=n>r?0:r-n>>>0,n>>>=0;for(var a=e(u);++i<u;)a[i]=t[i+n];return a}function Te(t,n){var e;return ie(t,function(t,r,i){return!(e=n(t,r,i))}),!!e}function Ae(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function Ne(t,n,e){var r=hr(),i=-1;return n=qn(n,function(t){return r(t)}),Ae(_e(t,function(t){return{criteria:qn(n,function(n){return n(t)}),index:++i,value:t}}),function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,u=i.length,a=e.length;++r<u;){var c=zt(i[r],o[r]);if(c){if(r>=a)return c;var s=e[r];return c*("asc"===s||!0===s?1:-1)}}return t.index-n.index}(t,n,e)})}function Le(t,n){var e=-1,r=vr(),i=t.length,o=r==It,u=o&&i>=w,a=u?qe():null,c=[];a?(r=jn,o=!1):(u=!1,a=n?[]:c);t:for(;++e<i;){var s=t[e],l=n?n(s,e,t):s;if(o&&s==s){for(var f=a.length;f--;)if(a[f]===l)continue t;n&&a.push(l),c.push(s)}else r(a,l,0)<0&&((n||u)&&a.push(l),c.push(s))}return c}function Ee(t,n){for(var r=-1,i=n.length,o=e(i);++r<i;)o[r]=t[n[r]];return o}function Oe(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Se(t,r?0:o,r?o+1:i):Se(t,r?o+1:0,r?i:o)}function De(t,n){var e=t;e instanceof Rn&&(e=e.value());for(var r=-1,i=n.length;++r<i;){var o=n[r];e=o.func.apply(o.thisArg,Yn([e],o.args))}return e}function Pe(t,n,e){var r=0,i=t?t.length:r;if("number"==typeof n&&n==n&&i<=Nn){for(;r<i;){var o=r+i>>>1,u=t[o];(e?u<=n:u<n)&&null!==u?r=o+1:i=o}return i}return ze(t,n,Fo,e)}function ze(t,n,e,r){n=e(n);for(var i=0,u=t?t.length:0,a=n!=n,c=null===n,s=n===o;i<u;){var l=gn((i+u)/2),f=e(t[l]),h=f!==o,d=f==f;if(a)var p=d||r;else p=c?d&&h&&(r||null!=f):s?d&&(r||h):null!=f&&(r?f<=n:f<n);p?i=l+1:u=l}return xn(u,An)}function Re(t,n,e){if("function"!=typeof t)return Fo;if(n===o)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)};case 5:return function(e,r,i,o,u){return t.call(n,e,r,i,o,u)}}return function(){return t.apply(n,arguments)}}function Ie(t){var n=new rn(t.byteLength);return new hn(n).set(new hn(t)),n}function Fe(t,n,r){for(var i=r.length,o=-1,u=bn(t.length-i,0),a=-1,c=n.length,s=e(c+u);++a<c;)s[a]=n[a];for(;++o<i;)s[r[o]]=t[o];for(;u--;)s[a++]=t[o++];return s}function je(t,n,r){for(var i=-1,o=r.length,u=-1,a=bn(t.length-o,0),c=-1,s=n.length,l=e(a+s);++u<a;)l[u]=t[u];for(var f=u;++c<s;)l[f+c]=n[c];for(;++i<o;)l[f+r[i]]=t[u++];return l}function We(t,n){return function(e,r,i){var o=n?n():{};if(r=hr(r,i,3),Gi(e))for(var u=-1,a=e.length;++u<a;){var c=e[u];t(o,c,r(c,u,e),e)}else ie(e,function(n,e,i){t(o,n,r(n,e,i),i)});return o}}function He(t){return Ui(function(n,e){var r=-1,i=null==n?0:e.length,u=i>2?e[i-2]:o,a=i>2?e[2]:o,c=i>1?e[i-1]:o;for("function"==typeof u?(u=Re(u,c,5),i-=2):i-=(u="function"==typeof c?c:o)?1:0,a&&wr(e[0],e[1],a)&&(u=i<3?o:u,i=1);++r<i;){var s=e[r];s&&t(n,s,u)}return n})}function Be(t,n){return function(e,r){var i=e?gr(e):0;if(!kr(i))return t(e,r);for(var o=n?i:-1,u=Pr(e);(n?o--:++o<i)&&!1!==r(u[o],o,u););return e}}function Ue(t){return function(n,e,r){for(var i=Pr(n),o=r(n),u=o.length,a=t?u:-1;t?a--:++a<u;){var c=o[a];if(!1===e(i[c],c,i))break}return n}}function qe(t){return vn&&sn?new Fn(t):null}function Ye(t){return function(n){for(var e=-1,r=zo(To(n)),i=r.length,o="";++e<i;)o=t(o,r[e],e);return o}}function Ge(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=ne(t.prototype),r=t.apply(e,n);return Ki(r)?r:e}}function Ve(t){return function n(e,r,i){i&&wr(e,r,i)&&(r=o);var u=fr(e,t,o,o,o,o,o,r);return u.placeholder=n.placeholder,u}}function $e(t,n){return Ui(function(e){var r=e[0];return null==r?r:(e.push(n),t.apply(o,e))})}function Xe(t,n){return function(e,r,i){if(i&&wr(e,r,i)&&(r=o),1==(r=hr(r,i,3)).length){var u=function(t,n,e,r){for(var i=-1,o=t.length,u=r,a=u;++i<o;){var c=t[i],s=+n(c);e(s,u)&&(u=s,a=c)}return a}(e=Gi(e)?e:Dr(e),r,t,n);if(!e.length||u!==n)return u}return function(t,n,e,r){var i=r,o=i;return ie(t,function(t,u,a){var c=+n(t,u,a);(e(c,i)||c===r&&c===o)&&(i=c,o=t)}),o}(e,r,t,n)}}function Ke(t,n){return function(e,r,i){if(r=hr(r,i,3),Gi(e)){var u=Rt(e,r,n);return u>-1?e[u]:o}return ce(e,r,t)}}function Ze(t){return function(n,e,r){return n&&n.length?Rt(n,e=hr(e,r,3),t):-1}}function Qe(t){return function(n,e,r){return ce(n,e=hr(e,r,3),t,!0)}}function Je(t){return function(){for(var n,r=arguments.length,i=t?r:-1,u=0,a=e(r);t?i--:++i<r;){var c=a[u++]=arguments[i];if("function"!=typeof c)throw new Tt(k);!n&&zn.prototype.thru&&"wrapper"==pr(c)&&(n=new zn([],!0))}for(i=n?-1:r;++i<r;){var s=pr(c=a[i]),l="wrapper"==s?dr(c):o;n=l&&Cr(l[0])&&l[1]==(g|h|p|y)&&!l[4].length&&1==l[9]?n[pr(l[0])].apply(n,l[3]):1==c.length&&Cr(c)?n[s]():n.thru(c)}return function(){var t=arguments,e=t[0];if(n&&1==t.length&&Gi(e)&&e.length>=w)return n.plant(e).value();for(var i=0,o=r?a[i].apply(this,t):e;++i<r;)o=a[i].call(this,o);return o}}}function tr(t,n){return function(e,r,i){return"function"==typeof r&&i===o&&Gi(e)?t(e,r):n(e,Re(r,i,3))}}function nr(t){return function(n,e,r){return"function"==typeof e&&r===o||(e=Re(e,r,3)),t(n,e,_o)}}function er(t){return function(n,e,r){return"function"==typeof e&&r===o||(e=Re(e,r,3)),t(n,e)}}function rr(t){return function(n,e,r){var i={};return e=hr(e,r,3),de(n,function(n,r,o){var u=e(n,r,o);n=t?n:u,i[r=t?u:r]=n}),i}}function ir(t){return function(n,e,r){return n=jt(n),(t?n:"")+cr(n,e,r)+(t?"":n)}}function or(t){var n=Ui(function(e,r){var i=Kt(r,n.placeholder);return fr(e,t,o,r,i)});return n}function ur(t,n){return function(e,r,i,u){var a=arguments.length<3;return"function"==typeof r&&u===o&&Gi(e)?t(e,r,i,a):function(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}(e,hr(r,u,4),i,a,n)}}function ar(t,n,r,i,u,a,c,y,m,_){var b=n&g,x=n&s,w=n&l,M=n&h,C=n&f,k=n&d,S=w?o:Ge(t);return function f(){for(var h=arguments.length,d=h,g=e(h);d--;)g[d]=arguments[d];if(i&&(g=Fe(g,i,u)),a&&(g=je(g,a,c)),M||k){var T=f.placeholder,A=Kt(g,T);if((h-=A.length)<_){var N=y?Wn(y):o,L=bn(_-h,0);n|=M?p:v,n&=~(M?v:p),C||(n&=~(s|l));var E=[t,n,r,M?g:o,M?A:o,M?o:g,M?o:A,N,m,L],O=ar.apply(o,E);return Cr(t)&&Er(O,E),O.placeholder=T,O}}var D=x?r:this,P=w?D[t]:t;return y&&(g=function(t,n){for(var e=t.length,r=xn(n.length,e),i=Wn(t);r--;){var u=n[r];t[r]=xr(u,e)?i[u]:o}return t}(g,y)),b&&m<g.length&&(g.length=m),this&&this!==Pt&&this instanceof f&&(P=S||Ge(t)),P.apply(D,g)}}function cr(t,n,e){var r=t.length;if(r>=(n=+n)||!mn(n))return"";var i=n-r;return Eo(e=null==e?" ":e+"",pn(i/e.length)).slice(0,i)}function sr(t){var n=a[t];return function(t,e){return(e=e===o?0:+e||0)?(e=an(10,e),n(t*e)/e):n(t)}}function lr(t){return function(n,e,r,i){var o=hr(r);return null==r&&o===Jn?Pe(n,e,t):ze(n,e,o(r,i,1),t)}}function fr(t,n,r,i,u,a,c,d){var m=n&l;if(!m&&"function"!=typeof t)throw new Tt(k);var _=i?i.length:0;if(_||(n&=~(p|v),i=u=o),_-=u?u.length:0,n&v){var b=i,x=u;i=u=o}var w=m?o:dr(t),M=[t,n,r,i,u,b,x,a,c,d];if(w&&(function(t,n){var e=t[1],r=n[1],i=e|r,o=i<g,u=r==g&&e==h||r==g&&e==y&&t[7].length<=n[8]||r==(g|y)&&e==h;if(!o&&!u)return t;r&s&&(t[2]=n[2],i|=e&s?0:f);var a=n[3];if(a){var c=t[3];t[3]=c?Fe(c,a,n[4]):Wn(a),t[4]=c?Kt(t[3],S):Wn(n[4])}(a=n[5])&&(c=t[5],t[5]=c?je(c,a,n[6]):Wn(a),t[6]=c?Kt(t[5],S):Wn(n[6])),(a=n[7])&&(t[7]=Wn(a)),r&g&&(t[8]=null==t[8]?n[8]:xn(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}(M,w),n=M[1],d=M[9]),M[9]=null==d?m?0:t.length:bn(d-_,0)||0,n==s)var C=function(t,n){var e=Ge(t);return function r(){return(this&&this!==Pt&&this instanceof r?e:t).apply(n,arguments)}}(M[0],M[2]);else C=n!=p&&n!=(s|p)||M[4].length?ar.apply(o,M):function(t,n,r,i){var o=n&s,u=Ge(t);return function n(){for(var a=-1,c=arguments.length,s=-1,l=i.length,f=e(l+c);++s<l;)f[s]=i[s];for(;c--;)f[s++]=arguments[++a];return(this&&this!==Pt&&this instanceof n?u:t).apply(o?r:this,f)}}.apply(o,M);return(w?ke:Er)(C,M)}function hr(t,n,e){var r=Dn.callback||Io;return r=r===Io?Jn:r,e?r(t,n,e):r}var dr=En?function(t){return En.get(t)}:Uo;function pr(t){for(var n=t.name,e=On[n],r=e?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function vr(t,n,e){var r=Dn.indexOf||Ur;return r=r===Ur?It:r,t?r(t,n,e):r}var gr=we("length");function yr(t){for(var n=Mo(t),e=n.length;e--;)n[e][2]=Sr(n[e][1]);return n}function mr(t,n){var e=null==t?o:t[n];return Zi(e)?e:o}function _r(t,n,e){null==t||Mr(n,t)||(t=1==(n=zr(n)).length?t:ge(t,Se(n,0,-1)),n=Yr(n));var r=null==t?t:t[n];return null==r?o:r.apply(t,e)}function br(t){return null!=t&&kr(gr(t))}function xr(t,n){return t="number"==typeof t||pt.test(t)?+t:-1,n=null==n?Ln:n,t>-1&&t%1==0&&t<n}function wr(t,n,e){if(!Ki(e))return!1;var r=typeof n;if("number"==r?br(e)&&xr(n,e.length):"string"==r&&n in e){var i=e[n];return t==t?t===i:i!=i}return!1}function Mr(t,n){var e=typeof t;return!!("string"==e&&it.test(t)||"number"==e)||!Gi(t)&&(!rt.test(t)||null!=n&&t in Pr(n))}function Cr(t){var n=pr(t);if(!(n in Rn.prototype))return!1;var e=Dn[n];if(t===e)return!0;var r=dr(e);return!!r&&t===r[0]}function kr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ln}function Sr(t){return t==t&&!Ki(t)}function Tr(t,n){t=Pr(t);for(var e=-1,r=n.length,i={};++e<r;){var o=n[e];o in t&&(i[o]=t[o])}return i}function Ar(t,n){var e={};return he(t,function(t,r,i){n(t,r,i)&&(e[r]=t)}),e}var Nr,Lr,Er=(Nr=0,Lr=0,function(t,n){var e=Si(),r=x-(e-Lr);if(Lr=e,r>0){if(++Nr>=b)return t}else Nr=0;return ke(t,n)});function Or(t){for(var n=_o(t),e=n.length,r=e&&t.length,i=!!r&&kr(r)&&(Gi(t)||Yi(t)),o=-1,u=[];++o<e;){var a=n[o];(i&&xr(a,r)||Ot.call(t,a))&&u.push(a)}return u}function Dr(t){return null==t?[]:br(t)?Ki(t)?t:Ct(t):ko(t)}function Pr(t){return Ki(t)?t:Ct(t)}function zr(t){if(Gi(t))return t;var n=[];return jt(t).replace(ot,function(t,e,r,i){n.push(r?i.replace(st,"$1"):e||t)}),n}function Rr(t){return t instanceof Rn?t.clone():new zn(t.__wrapped__,t.__chain__,Wn(t.__actions__))}var Ir=Ui(function(t,n){return $t(t)&&br(t)?re(t,se(n,!1,!0)):[]});function Fr(t,n,e){return t&&t.length?((e?wr(t,n,e):null==n)&&(n=1),Se(t,n<0?0:n)):[]}function jr(t,n,e){var r=t?t.length:0;return r?((e?wr(t,n,e):null==n)&&(n=1),Se(t,0,(n=r-(+n||0))<0?0:n)):[]}var Wr=Ze(),Hr=Ze(!0);function Br(t){return t?t[0]:o}function Ur(t,n,e){var r=t?t.length:0;if(!r)return-1;if("number"==typeof e)e=e<0?bn(r+e,0):e;else if(e){var i=Pe(t,n);return i<r&&(n==n?n===t[i]:t[i]!=t[i])?i:-1}return It(t,n,e||0)}var qr=Ui(function(t){for(var n=t.length,r=n,i=e(f),o=vr(),u=o==It,a=[];r--;){var c=t[r]=br(c=t[r])?c:[];i[r]=u&&c.length>=120?qe(r&&c):null}var s=t[0],l=-1,f=s?s.length:0,h=i[0];t:for(;++l<f;)if(c=s[l],(h?jn(h,c):o(a,c,0))<0){for(r=n;--r;){var d=i[r];if((d?jn(d,c):o(t[r],c,0))<0)continue t}h&&h.push(c),a.push(c)}return a});function Yr(t){var n=t?t.length:0;return n?t[n-1]:o}var Gr=Ui(function(t,n){var e=Zn(t,n=se(n));return Me(t,n.sort(zt)),e});function Vr(t){return Fr(t,1)}var $r=lr(),Xr=lr(!0);var Kr=Ui(function(t){return Le(se(t,!1,!0))});function Zr(t,n,e,r){if(!t||!t.length)return[];null!=n&&"boolean"!=typeof n&&(e=wr(t,n,r=e)?o:n,n=!1);var i=hr();return null==e&&i===Jn||(e=i(e,r,3)),n&&vr()==It?function(t,n){for(var e,r=-1,i=t.length,o=-1,u=[];++r<i;){var a=t[r],c=n?n(a,r,t):a;r&&e===c||(e=c,u[++o]=a)}return u}(t,e):Le(t,e)}function Qr(t){if(!t||!t.length)return[];var n=-1,r=0;t=Un(t,function(t){if(br(t))return r=bn(t.length,r),!0});for(var i=e(r);++n<r;)i[n]=qn(t,we(n));return i}function Jr(t,n,e){if(!t||!t.length)return[];var r=Qr(t);return null==n?r:(n=Re(n,e,4),qn(r,function(t){return Gn(t,n,o,!0)}))}var ti=Ui(function(t,n){return br(t)?re(t,n):[]});var ni=Ui(Qr);function ei(t,n){var e=-1,r=t?t.length:0,i={};for(!r||n||Gi(t[0])||(n=[]);++e<r;){var o=t[e];n?i[o]=n[e]:o&&(i[o[0]]=o[1])}return i}var ri=Ui(function(t){var n=t.length,e=n>2?t[n-2]:o,r=n>1?t[n-1]:o;return n>2&&"function"==typeof e?n-=2:(e=n>1&&"function"==typeof r?(--n,r):o,r=o),t.length=n,Jr(t,e,r)});function ii(t){var n=Dn(t);return n.__chain__=!0,n}function oi(t,n,e){return n.call(e,t)}var ui=Ui(function(t){return t=se(t),this.thru(function(n){return function(t,n){for(var r=-1,i=t.length,o=-1,u=n.length,a=e(i+u);++r<i;)a[r]=t[r];for(;++o<u;)a[r++]=n[o];return a}(Gi(n)?n:[Pr(n)],t)})});var ai=Ui(function(t,n){return Zn(t,se(n))}),ci=We(function(t,n,e){Ot.call(t,e)?++t[e]:t[e]=1});function si(t,n,e){var r=Gi(t)?Bn:ue;return e&&wr(t,n,e)&&(n=o),"function"==typeof n&&e===o||(n=hr(n,e,3)),r(t,n)}function li(t,n,e){return(Gi(t)?Un:ae)(t,n=hr(n,e,3))}var fi=Ke(ie),hi=Ke(oe,!0);var di=tr(Hn,ie),pi=tr(function(t,n){for(var e=t.length;e--&&!1!==n(t[e],e,t););return t},oe),vi=We(function(t,n,e){Ot.call(t,e)?t[e].push(n):t[e]=[n]});function gi(t,n,e,r){var i=t?gr(t):0;return kr(i)||(i=(t=ko(t)).length),e="number"!=typeof e||r&&wr(n,e,r)?0:e<0?bn(i+e,0):e||0,"string"==typeof t||!Gi(t)&&no(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&vr(t,n,e)>-1}var yi=We(function(t,n,e){t[e]=n}),mi=Ui(function(t,n,r){var i=-1,u="function"==typeof n,a=Mr(n),c=br(t)?e(t.length):[];return ie(t,function(t){var e=u?n:a&&null!=t?t[n]:o;c[++i]=e?e.apply(t,r):_r(t,n,r)}),c});function _i(t,n,e){return(Gi(t)?qn:_e)(t,n=hr(n,e,3))}var bi=We(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});var xi=ur(Gn,ie),wi=ur(function(t,n,e,r){var i=t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e},oe);function Mi(t,n,e){if(e?wr(t,n,e):null==n)return(r=(t=Dr(t)).length)>0?t[Ce(0,r-1)]:o;var r,i=-1,u=io(t),a=(r=u.length)-1;for(n=xn(n<0?0:+n||0,r);++i<n;){var c=Ce(i,a),s=u[c];u[c]=u[i],u[i]=s}return u.length=n,u}function Ci(t,n,e){var r=Gi(t)?Vn:Te;return e&&wr(t,n,e)&&(n=o),"function"==typeof n&&e===o||(n=hr(n,e,3)),r(t,n)}var ki=Ui(function(t,n){if(null==t)return[];var e=n[2];return e&&wr(n[0],n[1],e)&&(n.length=1),Ne(t,se(n),[])});var Si=wn||function(){return(new r).getTime()};function Ti(t,n){var e;if("function"!=typeof n){if("function"!=typeof t)throw new Tt(k);var r=t;t=n,n=r}return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=o),e}}var Ai=Ui(function(t,n,e){var r=s;if(e.length){var i=Kt(e,Ai.placeholder);r|=p}return fr(t,r,n,e,i)}),Ni=Ui(function(t,n){for(var e=-1,r=(n=n.length?se(n):yo(t)).length;++e<r;){var i=n[e];t[i]=fr(t[i],s,t)}return t}),Li=Ui(function(t,n,e){var r=s|l;if(e.length){var i=Kt(e,Li.placeholder);r|=p}return fr(n,r,t,e,i)}),Ei=Ve(h),Oi=Ve(d);function Di(t,n,e){var r,i,u,a,c,s,l,f=0,h=!1,d=!0;if("function"!=typeof t)throw new Tt(k);if(n=n<0?0:+n||0,!0===e){var p=!0;d=!1}else Ki(e)&&(p=!!e.leading,h="maxWait"in e&&bn(+e.maxWait||0,n),d="trailing"in e?!!e.trailing:d);function v(n,e){e&&on(e),i=s=l=o,n&&(f=Si(),u=t.apply(c,r),s||i||(r=c=o))}function g(){var t=n-(Si()-a);t<=0||t>n?v(l,i):s=ln(g,t)}function y(){v(d,s)}function m(){if(r=arguments,a=Si(),c=this,l=d&&(s||!p),!1===h)var e=p&&!s;else{i||p||(f=a);var v=h-(a-f),m=v<=0||v>h;m?(i&&(i=on(i)),f=a,u=t.apply(c,r)):i||(i=ln(y,v))}return m&&s?s=on(s):s||n===h||(s=ln(g,n)),e&&(m=!0,u=t.apply(c,r)),!m||s||i||(r=c=o),u}return m.cancel=function(){s&&on(s),i&&on(i),f=0,i=s=l=o},m}var Pi=Ui(function(t,n){return ee(t,1,n)}),zi=Ui(function(t,n,e){return ee(t,n,e)}),Ri=Je(),Ii=Je(!0);function Fi(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Tt(k);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return e.cache=o.set(i,u),u};return e.cache=new Fi.Cache,e}var ji=Ui(function(t,n){if(n=se(n),"function"!=typeof t||!Bn(n,Ft))throw new Tt(k);var e=n.length;return Ui(function(r){for(var i=xn(r.length,e);i--;)r[i]=n[i](r[i]);return t.apply(this,r)})});var Wi=or(p),Hi=or(v),Bi=Ui(function(t,n){return fr(t,y,o,o,o,se(n))});function Ui(t,n){if("function"!=typeof t)throw new Tt(k);return n=bn(n===o?t.length-1:+n||0,0),function(){for(var r=arguments,i=-1,o=bn(r.length-n,0),u=e(o);++i<o;)u[i]=r[n+i];switch(n){case 0:return t.call(this,u);case 1:return t.call(this,r[0],u);case 2:return t.call(this,r[0],r[1],u)}var a=e(n+1);for(i=-1;++i<n;)a[i]=r[i];return a[n]=u,t.apply(this,a)}}function qi(t,n){return t>n}function Yi(t){return $t(t)&&br(t)&&Ot.call(t,"callee")&&!cn.call(t,"callee")}var Gi=yn||function(t){return $t(t)&&kr(t.length)&&Xt.call(t)==A};function Vi(t,n,e,r){var i=(e="function"==typeof e?Re(e,r,3):o)?e(t,n):o;return i===o?ye(t,n,e):!!i}function $i(t){return $t(t)&&"string"==typeof t.message&&Xt.call(t)==E}function Xi(t){return Ki(t)&&Xt.call(t)==O}function Ki(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Zi(t){return null!=t&&(Xi(t)?en.test(Et.call(t)):$t(t)&&dt.test(t))}function Qi(t){return"number"==typeof t||$t(t)&&Xt.call(t)==D}function Ji(t){var n,e;return!(!$t(t)||Xt.call(t)!=P||Yi(t)||!(Ot.call(t,"constructor")||"function"!=typeof(n=t.constructor)||n instanceof n))&&(he(t,function(t,n){e=n}),e===o||Ot.call(t,e))}function to(t){return Ki(t)&&Xt.call(t)==z}function no(t){return"string"==typeof t||$t(t)&&Xt.call(t)==R}function eo(t){return $t(t)&&kr(t.length)&&!!xt[Xt.call(t)]}function ro(t,n){return t<n}function io(t){var n=t?gr(t):0;return kr(n)?n?Wn(t):[]:ko(t)}function oo(t){return Qn(t,_o(t))}var uo=He(function t(n,e,r,i,u){if(!Ki(n))return n;var a=br(e)&&(Gi(e)||eo(e)),c=a?o:mo(e);return Hn(c||e,function(s,l){if(c&&(s=e[l=s]),$t(s))i||(i=[]),u||(u=[]),function(t,n,e,r,i,u,a){for(var c=u.length,s=n[e];c--;)if(u[c]==s)return void(t[e]=a[c]);var l=t[e],f=i?i(l,s,e,t,n):o,h=f===o;h&&(f=s,br(s)&&(Gi(s)||eo(s))?f=Gi(l)?l:br(l)?Wn(l):[]:Ji(s)||Yi(s)?f=Yi(l)?oo(l):Ji(l)?l:{}:h=!1),u.push(s),a.push(f),h?t[e]=r(f,s,i,u,a):(f==f?f!==l:l==l)&&(t[e]=f)}(n,e,l,t,r,i,u);else{var f=n[l],h=r?r(f,s,l,n,e):o,d=h===o;d&&(h=s),h===o&&(!a||l in n)||!d&&(h==h?h===f:f!=f)||(n[l]=h)}}),n}),ao=He(function(t,n,e){return e?Xn(t,n,e):Kn(t,n)});var co=$e(ao,function(t,n){return t===o?n:t}),so=$e(uo,function t(n,e){return n===o?e:uo(n,e,t)}),lo=Qe(de),fo=Qe(pe),ho=nr(le),po=nr(fe),vo=er(de),go=er(pe);function yo(t){return ve(t,_o(t))}var mo=_n?function(t){var n=null==t?o:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&br(t)?Or(t):Ki(t)?_n(t):[]}:Or;function _o(t){if(null==t)return[];Ki(t)||(t=Ct(t));var n=t.length;n=n&&kr(n)&&(Gi(t)||Yi(t))&&n||0;for(var r=t.constructor,i=-1,o="function"==typeof r&&r.prototype===t,u=e(n),a=n>0;++i<n;)u[i]=i+"";for(var c in t)a&&xr(c,n)||"constructor"==c&&(o||!Ot.call(t,c))||u.push(c);return u}var bo=rr(!0),xo=rr(),wo=Ui(function(t,n){if(null==t)return{};if("function"!=typeof n[0])return n=qn(se(n),St),Tr(t,re(_o(t),n));var e=Re(n[0],n[1],3);return Ar(t,function(t,n,r){return!e(t,n,r)})});function Mo(t){t=Pr(t);for(var n=-1,r=mo(t),i=r.length,o=e(i);++n<i;){var u=r[n];o[n]=[u,t[u]]}return o}var Co=Ui(function(t,n){return null==t?{}:"function"==typeof n[0]?Ar(t,Re(n[0],n[1],3)):Tr(t,se(n))});function ko(t){return Ee(t,mo(t))}var So=Ye(function(t,n,e){return n=n.toLowerCase(),t+(e?n.charAt(0).toUpperCase()+n.slice(1):n)});function To(t){return(t=jt(t))&&t.replace(vt,Ut).replace(ct,"")}var Ao=Ye(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()});var No=ir(),Lo=ir(!0);function Eo(t,n){var e="";if(t=jt(t),(n=+n)<1||!t||!mn(n))return e;do{n%2&&(e+=t),n=gn(n/2),t+=t}while(n);return e}var Oo=Ye(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),Do=Ye(function(t,n,e){return t+(e?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))});function Po(t,n,e){var r=t;return(t=jt(t))?(e?wr(r,n,e):null==n)?t.slice(Zt(t),Qt(t)+1):(n+="",t.slice(Wt(t,n),Ht(t,n)+1)):t}function zo(t,n,e){return e&&wr(t,n,e)&&(n=o),(t=jt(t)).match(n||mt)||[]}var Ro=Ui(function(t,n){try{return t.apply(o,n)}catch(t){return $i(t)?t:new i(t)}});function Io(t,n,e){return e&&wr(t,n,e)&&(n=o),$t(t)?jo(t):Jn(t,n)}function Fo(t){return t}function jo(t){return be(te(t,!0))}var Wo=Ui(function(t,n){return function(e){return _r(e,t,n)}}),Ho=Ui(function(t,n){return function(e){return _r(t,e,n)}});function Bo(t,n,e){if(null==e){var r=Ki(n),i=r?mo(n):o,u=i&&i.length?ve(n,i):o;(u?u.length:r)||(u=!1,e=n,n=t,t=this)}u||(u=ve(n,mo(n)));var a=!0,c=-1,s=Xi(t),l=u.length;!1===e?a=!1:Ki(e)&&"chain"in e&&(a=e.chain);for(;++c<l;){var f=u[c],h=n[f];t[f]=h,s&&(t.prototype[f]=function(n){return function(){var e=this.__chain__;if(a||e){var r=t(this.__wrapped__);return(r.__actions__=Wn(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Yn([this.value()],arguments))}}(h))}return t}function Uo(){}function qo(t){return Mr(t)?we(t):function(t){var n=t+"";return t=zr(t),function(e){return ge(e,t,n)}}(t)}var Yo,Go=sr("ceil"),Vo=sr("floor"),$o=Xe(qi,kn),Xo=Xe(ro,Sn),Ko=sr("round");return Dn.prototype=Pn.prototype,zn.prototype=ne(Pn.prototype),zn.prototype.constructor=zn,Rn.prototype=ne(Pn.prototype),Rn.prototype.constructor=Rn,In.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},In.prototype.get=function(t){return"__proto__"==t?o:this.__data__[t]},In.prototype.has=function(t){return"__proto__"!=t&&Ot.call(this.__data__,t)},In.prototype.set=function(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this},Fn.prototype.push=function(t){var n=this.data;"string"==typeof t||Ki(t)?n.set.add(t):n.hash[t]=!0},Fi.Cache=In,Dn.after=function(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Tt(k);var e=t;t=n,n=e}return t=mn(t=+t)?t:0,function(){if(--t<1)return n.apply(this,arguments)}},Dn.ary=function(t,n,e){return e&&wr(t,n,e)&&(n=o),n=t&&null==n?t.length:bn(+n||0,0),fr(t,g,o,o,o,o,n)},Dn.assign=ao,Dn.at=ai,Dn.before=Ti,Dn.bind=Ai,Dn.bindAll=Ni,Dn.bindKey=Li,Dn.callback=Io,Dn.chain=ii,Dn.chunk=function(t,n,r){n=(r?wr(t,n,r):null==n)?1:bn(gn(n)||1,1);for(var i=0,o=t?t.length:0,u=-1,a=e(pn(o/n));i<o;)a[++u]=Se(t,i,i+=n);return a},Dn.compact=function(t){for(var n=-1,e=t?t.length:0,r=-1,i=[];++n<e;){var o=t[n];o&&(i[++r]=o)}return i},Dn.constant=function(t){return function(){return t}},Dn.countBy=ci,Dn.create=function(t,n,e){var r=ne(t);return e&&wr(t,n,e)&&(n=o),n?Kn(r,n):r},Dn.curry=Ei,Dn.curryRight=Oi,Dn.debounce=Di,Dn.defaults=co,Dn.defaultsDeep=so,Dn.defer=Pi,Dn.delay=zi,Dn.difference=Ir,Dn.drop=Fr,Dn.dropRight=jr,Dn.dropRightWhile=function(t,n,e){return t&&t.length?Oe(t,hr(n,e,3),!0,!0):[]},Dn.dropWhile=function(t,n,e){return t&&t.length?Oe(t,hr(n,e,3),!0):[]},Dn.fill=function(t,n,e,r){var i=t?t.length:0;return i?(e&&"number"!=typeof e&&wr(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=null==e?0:+e||0)<0&&(e=-e>i?0:i+e),(r=r===o||r>i?i:+r||0)<0&&(r+=i),i=e>r?0:r>>>0,e>>>=0;e<i;)t[e++]=n;return t}(t,n,e,r)):[]},Dn.filter=li,Dn.flatten=function(t,n,e){var r=t?t.length:0;return e&&wr(t,n,e)&&(n=!1),r?se(t,n):[]},Dn.flattenDeep=function(t){return t&&t.length?se(t,!0):[]},Dn.flow=Ri,Dn.flowRight=Ii,Dn.forEach=di,Dn.forEachRight=pi,Dn.forIn=ho,Dn.forInRight=po,Dn.forOwn=vo,Dn.forOwnRight=go,Dn.functions=yo,Dn.groupBy=vi,Dn.indexBy=yi,Dn.initial=function(t){return jr(t,1)},Dn.intersection=qr,Dn.invert=function(t,n,e){e&&wr(t,n,e)&&(n=o);for(var r=-1,i=mo(t),u=i.length,a={};++r<u;){var c=i[r],s=t[c];n?Ot.call(a,s)?a[s].push(c):a[s]=[c]:a[s]=c}return a},Dn.invoke=mi,Dn.keys=mo,Dn.keysIn=_o,Dn.map=_i,Dn.mapKeys=bo,Dn.mapValues=xo,Dn.matches=jo,Dn.matchesProperty=function(t,n){return xe(t,te(n,!0))},Dn.memoize=Fi,Dn.merge=uo,Dn.method=Wo,Dn.methodOf=Ho,Dn.mixin=Bo,Dn.modArgs=ji,Dn.negate=function(t){if("function"!=typeof t)throw new Tt(k);return function(){return!t.apply(this,arguments)}},Dn.omit=wo,Dn.once=function(t){return Ti(2,t)},Dn.pairs=Mo,Dn.partial=Wi,Dn.partialRight=Hi,Dn.partition=bi,Dn.pick=Co,Dn.pluck=function(t,n){return _i(t,qo(n))},Dn.property=qo,Dn.propertyOf=function(t){return function(n){return ge(t,zr(n),n+"")}},Dn.pull=function(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var e=0,r=vr(),i=t.length;++e<i;)for(var o=0,u=t[e];(o=r(n,u,o))>-1;)fn.call(n,o,1);return n},Dn.pullAt=Gr,Dn.range=function(t,n,r){r&&wr(t,n,r)&&(n=r=o),t=+t||0,null==n?(n=t,t=0):n=+n||0;for(var i=-1,u=bn(pn((n-t)/((r=null==r?1:+r||0)||1)),0),a=e(u);++i<u;)a[i]=t,t+=r;return a},Dn.rearg=Bi,Dn.reject=function(t,n,e){var r=Gi(t)?Un:ae;return n=hr(n,e,3),r(t,function(t,e,r){return!n(t,e,r)})},Dn.remove=function(t,n,e){var r=[];if(!t||!t.length)return r;var i=-1,o=[],u=t.length;for(n=hr(n,e,3);++i<u;){var a=t[i];n(a,i,t)&&(r.push(a),o.push(i))}return Me(t,o),r},Dn.rest=Vr,Dn.restParam=Ui,Dn.set=function(t,n,e){if(null==t)return t;for(var r=n+"",i=-1,o=(n=null!=t[r]||Mr(n,t)?[r]:zr(n)).length,u=o-1,a=t;null!=a&&++i<o;){var c=n[i];Ki(a)&&(i==u?a[c]=e:null==a[c]&&(a[c]=xr(n[i+1])?[]:{})),a=a[c]}return t},Dn.shuffle=function(t){return Mi(t,Sn)},Dn.slice=function(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&wr(t,n,e)&&(n=0,e=r),Se(t,n,e)):[]},Dn.sortBy=function(t,n,e){if(null==t)return[];e&&wr(t,n,e)&&(n=o);var r=-1;return n=hr(n,e,3),Ae(_e(t,function(t,e,i){return{criteria:n(t,e,i),index:++r,value:t}}),Bt)},Dn.sortByAll=ki,Dn.sortByOrder=function(t,n,e,r){return null==t?[]:(r&&wr(n,e,r)&&(e=o),Gi(n)||(n=null==n?[]:[n]),Gi(e)||(e=null==e?[]:[e]),Ne(t,n,e))},Dn.spread=function(t){if("function"!=typeof t)throw new Tt(k);return function(n){return t.apply(this,n)}},Dn.take=function(t,n,e){return t&&t.length?((e?wr(t,n,e):null==n)&&(n=1),Se(t,0,n<0?0:n)):[]},Dn.takeRight=function(t,n,e){var r=t?t.length:0;return r?((e?wr(t,n,e):null==n)&&(n=1),Se(t,(n=r-(+n||0))<0?0:n)):[]},Dn.takeRightWhile=function(t,n,e){return t&&t.length?Oe(t,hr(n,e,3),!1,!0):[]},Dn.takeWhile=function(t,n,e){return t&&t.length?Oe(t,hr(n,e,3)):[]},Dn.tap=function(t,n,e){return n.call(e,t),t},Dn.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new Tt(k);return!1===e?r=!1:Ki(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Di(t,n,{leading:r,maxWait:+n,trailing:i})},Dn.thru=oi,Dn.times=function(t,n,r){if((t=gn(t))<1||!mn(t))return[];var i=-1,o=e(xn(t,Tn));for(n=Re(n,r,1);++i<t;)i<Tn?o[i]=n(i):n(i);return o},Dn.toArray=io,Dn.toPlainObject=oo,Dn.transform=function(t,n,e,r){var i=Gi(t)||eo(t);if(n=hr(n,r,4),null==e)if(i||Ki(t)){var u=t.constructor;e=i?Gi(t)?new u:[]:ne(Xi(u)?u.prototype:o)}else e={};return(i?Hn:de)(t,function(t,r,i){return n(e,t,r,i)}),e},Dn.union=Kr,Dn.uniq=Zr,Dn.unzip=Qr,Dn.unzipWith=Jr,Dn.values=ko,Dn.valuesIn=function(t){return Ee(t,_o(t))},Dn.where=function(t,n){return li(t,be(n))},Dn.without=ti,Dn.wrap=function(t,n){return fr(n=null==n?Fo:n,p,o,[t],[])},Dn.xor=function(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(br(e))var r=r?Yn(re(r,e),re(e,r)):e}return r?Le(r):[]},Dn.zip=ni,Dn.zipObject=ei,Dn.zipWith=ri,Dn.backflow=Ii,Dn.collect=_i,Dn.compose=Ii,Dn.each=di,Dn.eachRight=pi,Dn.extend=ao,Dn.iteratee=Io,Dn.methods=yo,Dn.object=ei,Dn.select=li,Dn.tail=Vr,Dn.unique=Zr,Bo(Dn,Dn),Dn.add=function(t,n){return(+t||0)+(+n||0)},Dn.attempt=Ro,Dn.camelCase=So,Dn.capitalize=function(t){return(t=jt(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Dn.ceil=Go,Dn.clone=function(t,n,e,r){return n&&"boolean"!=typeof n&&wr(t,n,e)?n=!1:"function"==typeof n&&(r=e,e=n,n=!1),"function"==typeof e?te(t,n,Re(e,r,1)):te(t,n)},Dn.cloneDeep=function(t,n,e){return"function"==typeof n?te(t,!0,Re(n,e,1)):te(t,!0)},Dn.deburr=To,Dn.endsWith=function(t,n,e){n+="";var r=(t=jt(t)).length;return e=e===o?r:xn(e<0?0:+e||0,r),(e-=n.length)>=0&&t.indexOf(n,e)==e},Dn.escape=function(t){return(t=jt(t))&&J.test(t)?t.replace(Z,qt):t},Dn.escapeRegExp=function(t){return(t=jt(t))&&at.test(t)?t.replace(ut,Yt):t||"(?:)"},Dn.every=si,Dn.find=fi,Dn.findIndex=Wr,Dn.findKey=lo,Dn.findLast=hi,Dn.findLastIndex=Hr,Dn.findLastKey=fo,Dn.findWhere=function(t,n){return fi(t,be(n))},Dn.first=Br,Dn.floor=Vo,Dn.get=function(t,n,e){var r=null==t?o:ge(t,zr(n),n+"");return r===o?e:r},Dn.gt=qi,Dn.gte=function(t,n){return t>=n},Dn.has=function(t,n){if(null==t)return!1;var e=Ot.call(t,n);if(!e&&!Mr(n)){if(null==(t=1==(n=zr(n)).length?t:ge(t,Se(n,0,-1))))return!1;n=Yr(n),e=Ot.call(t,n)}return e||kr(t.length)&&xr(n,t.length)&&(Gi(t)||Yi(t))},Dn.identity=Fo,Dn.includes=gi,Dn.indexOf=Ur,Dn.inRange=function(t,n,e){return n=+n||0,e===o?(e=n,n=0):e=+e||0,t>=xn(n,e)&&t<bn(n,e)},Dn.isArguments=Yi,Dn.isArray=Gi,Dn.isBoolean=function(t){return!0===t||!1===t||$t(t)&&Xt.call(t)==N},Dn.isDate=function(t){return $t(t)&&Xt.call(t)==L},Dn.isElement=function(t){return!!t&&1===t.nodeType&&$t(t)&&!Ji(t)},Dn.isEmpty=function(t){return null==t||(br(t)&&(Gi(t)||no(t)||Yi(t)||$t(t)&&Xi(t.splice))?!t.length:!mo(t).length)},Dn.isEqual=Vi,Dn.isError=$i,Dn.isFinite=function(t){return"number"==typeof t&&mn(t)},Dn.isFunction=Xi,Dn.isMatch=function(t,n,e,r){return e="function"==typeof e?Re(e,r,3):o,me(t,yr(n),e)},Dn.isNaN=function(t){return Qi(t)&&t!=+t},Dn.isNative=Zi,Dn.isNull=function(t){return null===t},Dn.isNumber=Qi,Dn.isObject=Ki,Dn.isPlainObject=Ji,Dn.isRegExp=to,Dn.isString=no,Dn.isTypedArray=eo,Dn.isUndefined=function(t){return t===o},Dn.kebabCase=Ao,Dn.last=Yr,Dn.lastIndexOf=function(t,n,e){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof e)i=(e<0?bn(r+e,0):xn(e||0,r-1))+1;else if(e){var o=t[i=Pe(t,n,!0)-1];return(n==n?n===o:o!=o)?i:-1}if(n!=n)return Vt(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1},Dn.lt=ro,Dn.lte=function(t,n){return t<=n},Dn.max=$o,Dn.min=Xo,Dn.noConflict=function(){return Pt._=nn,this},Dn.noop=Uo,Dn.now=Si,Dn.pad=function(t,n,e){n=+n;var r=(t=jt(t)).length;if(r>=n||!mn(n))return t;var i=(n-r)/2,o=gn(i);return(e=cr("",pn(i),e)).slice(0,o)+t+e},Dn.padLeft=No,Dn.padRight=Lo,Dn.parseInt=function(t,n,e){return(e?wr(t,n,e):null==n)?n=0:n&&(n=+n),t=Po(t),Mn(t,n||(ht.test(t)?16:10))},Dn.random=function(t,n,e){e&&wr(t,n,e)&&(n=e=o);var r=null==t,i=null==n;if(null==e&&(i&&"boolean"==typeof t?(e=t,t=1):"boolean"==typeof n&&(e=n,i=!0)),r&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,e||t%1||n%1){var u=Cn();return xn(t+u*(n-t+un("1e-"+((u+"").length-1))),n)}return Ce(t,n)},Dn.reduce=xi,Dn.reduceRight=wi,Dn.repeat=Eo,Dn.result=function(t,n,e){var r=null==t?o:t[n];return r===o&&(null==t||Mr(n,t)||(r=null==(t=1==(n=zr(n)).length?t:ge(t,Se(n,0,-1)))?o:t[Yr(n)]),r=r===o?e:r),Xi(r)?r.call(t):r},Dn.round=Ko,Dn.runInContext=t,Dn.size=function(t){var n=t?gr(t):0;return kr(n)?n:mo(t).length},Dn.snakeCase=Oo,Dn.some=Ci,Dn.sortedIndex=$r,Dn.sortedLastIndex=Xr,Dn.startCase=Do,Dn.startsWith=function(t,n,e){return t=jt(t),e=null==e?0:xn(e<0?0:+e||0,t.length),t.lastIndexOf(n,e)==e},Dn.sum=function(t,n,e){return e&&wr(t,n,e)&&(n=o),1==(n=hr(n,e,3)).length?function(t,n){for(var e=t.length,r=0;e--;)r+=+n(t[e])||0;return r}(Gi(t)?t:Dr(t),n):function(t,n){var e=0;return ie(t,function(t,r,i){e+=+n(t,r,i)||0}),e}(t,n)},Dn.template=function(t,n,e){var r=Dn.templateSettings;e&&wr(t,n,e)&&(n=e=o),t=jt(t),n=Xn(Kn({},e||n),r,$n);var i,a,c=Xn(Kn({},n.imports),r.imports,$n),s=mo(c),l=Ee(c,s),f=0,h=n.interpolate||gt,d="__p += '",p=kt((n.escape||gt).source+"|"+h.source+"|"+(h===et?lt:gt).source+"|"+(n.evaluate||gt).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++bt+"]")+"\n";t.replace(p,function(n,e,r,o,u,c){return r||(r=o),d+=t.slice(f,c).replace(yt,Gt),e&&(i=!0,d+="' +\n__e("+e+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=c+n.length,n}),d+="';\n";var g=n.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(V,""):d).replace($,"$1").replace(X,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Ro(function(){return u(s,v+"return "+d).apply(o,l)});if(y.source=d,$i(y))throw y;return y},Dn.trim=Po,Dn.trimLeft=function(t,n,e){var r=t;return(t=jt(t))?(e?wr(r,n,e):null==n)?t.slice(Zt(t)):t.slice(Wt(t,n+"")):t},Dn.trimRight=function(t,n,e){var r=t;return(t=jt(t))?(e?wr(r,n,e):null==n)?t.slice(0,Qt(t)+1):t.slice(0,Ht(t,n+"")+1):t},Dn.trunc=function(t,n,e){e&&wr(t,n,e)&&(n=o);var r=m,i=_;if(null!=n)if(Ki(n)){var u="separator"in n?n.separator:u;r="length"in n?+n.length||0:r,i="omission"in n?jt(n.omission):i}else r=+n||0;if(r>=(t=jt(t)).length)return t;var a=r-i.length;if(a<1)return i;var c=t.slice(0,a);if(null==u)return c+i;if(to(u)){if(t.slice(a).search(u)){var s,l,f=t.slice(0,a);for(u.global||(u=kt(u.source,(ft.exec(u)||"")+"g")),u.lastIndex=0;s=u.exec(f);)l=s.index;c=c.slice(0,null==l?a:l)}}else if(t.indexOf(u,a)!=a){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+i},Dn.unescape=function(t){return(t=jt(t))&&Q.test(t)?t.replace(K,Jt):t},Dn.uniqueId=function(t){var n=++Dt;return jt(t)+n},Dn.words=zo,Dn.all=si,Dn.any=Ci,Dn.contains=gi,Dn.eq=Vi,Dn.detect=fi,Dn.foldl=xi,Dn.foldr=wi,Dn.head=Br,Dn.include=gi,Dn.inject=xi,Bo(Dn,(Yo={},de(Dn,function(t,n){Dn.prototype[n]||(Yo[n]=t)}),Yo),!1),Dn.sample=Mi,Dn.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return Mi(n,t)}):Mi(this.value())},Dn.VERSION=c,Hn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Dn[t].placeholder=Dn}),Hn(["drop","take"],function(t,n){Rn.prototype[t]=function(e){var r=this.__filtered__;if(r&&!n)return new Rn(this);e=null==e?1:bn(gn(e)||0,0);var i=this.clone();return r?i.__takeCount__=xn(i.__takeCount__,e):i.__views__.push({size:e,type:t+(i.__dir__<0?"Right":"")}),i},Rn.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Hn(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e!=C;Rn.prototype[t]=function(t,n){var i=this.clone();return i.__iteratees__.push({iteratee:hr(t,n,1),type:e}),i.__filtered__=i.__filtered__||r,i}}),Hn(["first","last"],function(t,n){var e="take"+(n?"Right":"");Rn.prototype[t]=function(){return this[e](1).value()[0]}}),Hn(["initial","rest"],function(t,n){var e="drop"+(n?"":"Right");Rn.prototype[t]=function(){return this.__filtered__?new Rn(this):this[e](1)}}),Hn(["pluck","where"],function(t,n){var e=n?"filter":"map",r=n?be:qo;Rn.prototype[t]=function(t){return this[e](r(t))}}),Rn.prototype.compact=function(){return this.filter(Fo)},Rn.prototype.reject=function(t,n){return t=hr(t,n,1),this.filter(function(n){return!t(n)})},Rn.prototype.slice=function(t,n){t=null==t?0:+t||0;var e=this;return e.__filtered__&&(t>0||n<0)?new Rn(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==o&&(e=(n=+n||0)<0?e.dropRight(-n):e.take(n-t)),e)},Rn.prototype.takeRightWhile=function(t,n){return this.reverse().takeWhile(t,n).reverse()},Rn.prototype.toArray=function(){return this.take(Sn)},de(Rn.prototype,function(t,n){var e=/^(?:filter|map|reject)|While$/.test(n),r=/^(?:first|last)$/.test(n),i=Dn[r?"take"+("last"==n?"Right":""):n];i&&(Dn.prototype[n]=function(){var n=r?[1]:arguments,u=this.__chain__,a=this.__wrapped__,c=!!this.__actions__.length,s=a instanceof Rn,l=n[0],f=s||Gi(a);f&&e&&"function"==typeof l&&1!=l.length&&(s=f=!1);var h=function(t){return r&&u?i(t,1)[0]:i.apply(o,Yn([t],n))},d={func:oi,args:[h],thisArg:o},p=s&&!c;if(r&&!u)return p?((a=a.clone()).__actions__.push(d),t.call(a)):i.call(o,this.value())[0];if(!r&&f){a=p?a:new Rn(this);var v=t.apply(a,n);return v.__actions__.push(d),new zn(v,u)}return this.thru(h)})}),Hn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Lt:At)[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);Dn.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[e](function(e){return n.apply(e,t)})}}),de(Rn.prototype,function(t,n){var e=Dn[n];if(e){var r=e.name;(On[r]||(On[r]=[])).push({name:n,func:e})}}),On[ar(o,l).name]=[{name:"wrapper",func:o}],Rn.prototype.clone=function(){var t=new Rn(this.__wrapped__);return t.__actions__=Wn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Wn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Wn(this.__views__),t},Rn.prototype.reverse=function(){if(this.__filtered__){var t=new Rn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rn.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Gi(t),r=n<0,i=e?t.length:0,o=function(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=xn(n,t+u);break;case"takeRight":t=bn(t,n-u)}}return{start:t,end:n}}(0,i,this.__views__),u=o.start,a=o.end,c=a-u,s=r?a:u-1,l=this.__iteratees__,f=l.length,h=0,d=xn(c,this.__takeCount__);if(!e||i<w||i==c&&d==c)return De(r&&e?t.reverse():t,this.__actions__);var p=[];t:for(;c--&&h<d;){for(var v=-1,g=t[s+=n];++v<f;){var y=l[v],m=y.iteratee,_=y.type,b=m(g);if(_==C)g=b;else if(!b){if(_==M)continue t;break t}}p[h++]=g}return p},Dn.prototype.chain=function(){return ii(this)},Dn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Dn.prototype.concat=ui,Dn.prototype.plant=function(t){for(var n,e=this;e instanceof Pn;){var r=Rr(e);n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},Dn.prototype.reverse=function(){var t=this.__wrapped__,n=function(t){return e&&e.__dir__<0?t:t.reverse()};if(t instanceof Rn){var e=t;return this.__actions__.length&&(e=new Rn(this)),(e=e.reverse()).__actions__.push({func:oi,args:[n],thisArg:o}),new zn(e,this.__chain__)}return this.thru(n)},Dn.prototype.toString=function(){return this.value()+""},Dn.prototype.run=Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return De(this.__wrapped__,this.__actions__)},Dn.prototype.collect=Dn.prototype.map,Dn.prototype.head=Dn.prototype.first,Dn.prototype.select=Dn.prototype.filter,Dn.prototype.tail=Dn.prototype.rest,Dn}();Pt._=tn,(i=function(){return tn}.call(n,e,n,t))===o||(t.exports=i)}).call(this)}).call(this,e(9)(t),e(5))},function(t,n){t.exports="1.0.7"},function(t,n,e){var r=e(2),i=e(6);function o(t){return r.map(t.nodes(),function(n){var e=t.node(n),i=t.parent(n),o={v:n};return r.isUndefined(e)||(o.value=e),r.isUndefined(i)||(o.parent=i),o})}function u(t){return r.map(t.edges(),function(n){var e=t.edge(n),i={v:n.v,w:n.w};return r.isUndefined(n.name)||(i.name=n.name),r.isUndefined(e)||(i.value=e),i})}t.exports={write:function(t){var n={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:o(t),edges:u(t)};r.isUndefined(t.graph())||(n.value=r.clone(t.graph()));return n},read:function(t){var n=new i(t.options).setGraph(t.value);return r.each(t.nodes,function(t){n.setNode(t.v,t.value),t.parent&&n.setParent(t.v,t.parent)}),r.each(t.edges,function(t){n.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),n}}},function(t,n,e){t.exports={components:e(30),dijkstra:e(12),dijkstraAll:e(31),findCycles:e(32),floydWarshall:e(33),isAcyclic:e(34),postorder:e(35),preorder:e(36),prim:e(37),tarjan:e(14),topsort:e(15)}},function(t,n,e){var r=e(2);t.exports=function(t){var n,e={},i=[];function o(i){r.has(e,i)||(e[i]=!0,n.push(i),r.each(t.successors(i),o),r.each(t.predecessors(i),o))}return r.each(t.nodes(),function(t){n=[],o(t),n.length&&i.push(n)}),i}},function(t,n,e){var r=e(12),i=e(2);t.exports=function(t,n,e){return i.transform(t.nodes(),function(i,o){i[o]=r(t,o,n,e)},{})}},function(t,n,e){var r=e(2),i=e(14);t.exports=function(t){return r.filter(i(t),function(n){return n.length>1||1===n.length&&t.hasEdge(n[0],n[0])})}},function(t,n,e){var r=e(2);t.exports=function(t,n,e){return function(t,n,e){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(n){t!==n&&(r[t][n]={distance:Number.POSITIVE_INFINITY})}),e(t).forEach(function(e){var i=e.v===t?e.w:e.v,o=n(e);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var n=r[t];i.forEach(function(e){var o=r[e];i.forEach(function(e){var r=o[t],i=n[e],u=o[e],a=r.distance+i.distance;a<u.distance&&(u.distance=a,u.predecessor=i.predecessor)})})}),r}(t,n||i,e||function(n){return t.outEdges(n)})};var i=r.constant(1)},function(t,n,e){var r=e(15);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,n,e){var r=e(16);t.exports=function(t,n){return r(t,n,"post")}},function(t,n,e){var r=e(16);t.exports=function(t,n){return r(t,n,"pre")}},function(t,n,e){var r=e(2),i=e(6),o=e(13);t.exports=function(t,n){var e,u=new i,a={},c=new o;function s(t){var r=t.v===e?t.w:t.v,i=c.priority(r);if(void 0!==i){var o=n(t);o<i&&(a[r]=e,c.decrease(r,o))}}if(0===t.nodeCount())return u;r.each(t.nodes(),function(t){c.add(t,Number.POSITIVE_INFINITY),u.setNode(t)}),c.decrease(t.nodes()[0],0);var l=!1;for(;c.size()>0;){if(e=c.removeMin(),r.has(a,e))u.setEdge(e,a[e]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(e).forEach(s)}return u}},function(t,n,e){var r=e(3),i=e(8),o=e(10);t.exports=function(t){var n=i.parse(t);return r.map(n,o)}},function(t,n,e){var r=e(3);t.exports=function(t){var n=t.isDirected()?"->":"--",e=new a;t.isMultigraph()||e.write("strict ");e.writeLine((t.isDirected()?"digraph":"graph")+" {"),e.indent();var i=t.graph();r.isObject(i)&&r.each(i,function(t,n){e.writeLine(u(n)+"="+u(t)+";")});return function t(n,e,i){var a=n.isCompound()?n.children(e):n.nodes();r.each(a,function(e){n.isCompound()&&n.children(e).length?(i.writeLine("subgraph "+u(e)+" {"),i.indent(),r.isObject(n.node(e))&&r.map(n.node(e),function(t,n){i.writeLine(u(n)+"="+u(t)+";")}),t(n,e,i),i.unindent(),i.writeLine("}")):function(t,n,e){e.write(u(n)),o(t.node(n),e),e.writeLine()}(n,e,i)})}(t,void 0,e),t.edges().forEach(function(r){!function(t,n,e,r){var i=n.v,a=n.w,c=t.edge(n);r.write(u(i)+" "+e+" "+u(a)),o(c,r),r.writeLine()}(t,r,n,e)}),e.unindent(),e.writeLine("}"),e.toString()};var i=/^[a-zA-Z\200-\377_][a-zA-Z\200-\377_0-9]*$/;function o(t,n){if(r.isObject(t)){var e=r.map(t,function(t,n){return u(n)+"="+u(t)});e.length&&n.write(" ["+e.join(",")+"]")}}function u(t){return"number"==typeof t||t.toString().match(i)?t:'"'+t.toString().replace(/"/g,'\\"')+'"'}function a(){this._indent="",this._content="",this._shouldIndent=!0}a.prototype.INDENT="  ",a.prototype.indent=function(){this._indent+=this.INDENT},a.prototype.unindent=function(){this._indent=this._indent.slice(this.INDENT.length)},a.prototype.writeLine=function(t){this.write((t||"")+"\n"),this._shouldIndent=!0},a.prototype.write=function(t){this._shouldIndent&&(this._shouldIndent=!1,this._content+=this._indent),this._content+=t},a.prototype.toString=function(){return this._content}},function(t,n){t.exports="0.6.2"},function(t,n,e){"use strict";e.r(n);var r=e(0),i=Array.prototype.slice,o=function(t){return t},u=1,a=2,c=3,s=4,l=1e-6;function f(t){return"translate("+(t+.5)+",0)"}function h(t){return"translate(0,"+(t+.5)+")"}function d(){return!this.__axis}function p(t,n){var e=[],r=null,p=null,v=6,g=6,y=3,m=t===u||t===s?-1:1,_=t===s||t===a?"x":"y",b=t===u||t===c?f:h;function x(i){var f=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,h=null==p?n.tickFormat?n.tickFormat.apply(n,e):o:p,x=Math.max(v,0)+y,w=n.range(),M=+w[0]+.5,C=+w[w.length-1]+.5,k=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),S=i.selection?i.selection():i,T=S.selectAll(".domain").data([null]),A=S.selectAll(".tick").data(f,n).order(),N=A.exit(),L=A.enter().append("g").attr("class","tick"),E=A.select("line"),O=A.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(L),E=E.merge(L.append("line").attr("stroke","currentColor").attr(_+"2",m*v)),O=O.merge(L.append("text").attr("fill","currentColor").attr(_,m*x).attr("dy",t===u?"0em":t===c?"0.71em":"0.32em")),i!==S&&(T=T.transition(i),A=A.transition(i),E=E.transition(i),O=O.transition(i),N=N.transition(i).attr("opacity",l).attr("transform",function(t){return isFinite(t=k(t))?b(t):this.getAttribute("transform")}),L.attr("opacity",l).attr("transform",function(t){var n=this.parentNode.__axis;return b(n&&isFinite(n=n(t))?n:k(t))})),N.remove(),T.attr("d",t===s||t==a?g?"M"+m*g+","+M+"H0.5V"+C+"H"+m*g:"M0.5,"+M+"V"+C:g?"M"+M+","+m*g+"V0.5H"+C+"V"+m*g:"M"+M+",0.5H"+C),A.attr("opacity",1).attr("transform",function(t){return b(k(t))}),E.attr(_+"2",m*v),O.attr(_,m*x).text(h),S.filter(d).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===a?"start":t===s?"end":"middle"),S.each(function(){this.__axis=k})}return x.scale=function(t){return arguments.length?(n=t,x):n},x.ticks=function(){return e=i.call(arguments),x},x.tickArguments=function(t){return arguments.length?(e=null==t?[]:i.call(t),x):e.slice()},x.tickValues=function(t){return arguments.length?(r=null==t?null:i.call(t),x):r&&r.slice()},x.tickFormat=function(t){return arguments.length?(p=t,x):p},x.tickSize=function(t){return arguments.length?(v=g=+t,x):v},x.tickSizeInner=function(t){return arguments.length?(v=+t,x):v},x.tickSizeOuter=function(t){return arguments.length?(g=+t,x):g},x.tickPadding=function(t){return arguments.length?(y=+t,x):y},x}function v(t){return p(u,t)}function g(t){return p(a,t)}function y(t){return p(c,t)}function m(t){return p(s,t)}var _={value:function(){}};function b(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new x(r)}function x(t){this._=t}function w(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function M(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=_,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}x.prototype=b.prototype={constructor:x,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),u=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<a;)if(e=(t=o[u]).type)i[e]=M(i[e],t.name,n);else if(null==n)for(e in i)i[e]=M(i[e],t.name,null);return this}for(;++u<a;)if((e=(t=o[u]).type)&&(e=w(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new x(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var C=b,k="http://www.w3.org/1999/xhtml",S={svg:"http://www.w3.org/2000/svg",xhtml:k,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},T=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),S.hasOwnProperty(n)?{space:S[n],local:t}:t};var A=function(t){var n=T(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===k&&n.documentElement.namespaceURI===k?n.createElement(t):n.createElementNS(e,t)}})(n)};function N(){}var L=function(t){return null==t?N:function(){return this.querySelector(t)}};function E(){return[]}var O=function(t){return null==t?E:function(){return this.querySelectorAll(t)}},D=function(t){return function(){return this.matches(t)}},P=function(t){return new Array(t.length)};function z(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}z.prototype={constructor:z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var R="$";function I(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new z(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function F(t,n,e,r,i,o,u){var a,c,s,l={},f=n.length,h=o.length,d=new Array(f);for(a=0;a<f;++a)(c=n[a])&&(d[a]=s=R+u.call(c,c.__data__,a,n),s in l?i[a]=c:l[s]=c);for(a=0;a<h;++a)(c=l[s=R+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],l[s]=null):e[a]=new z(t,o[a]);for(a=0;a<f;++a)(c=n[a])&&l[d[a]]===c&&(i[a]=c)}function j(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var W=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function H(t,n){return t.style.getPropertyValue(n)||W(t).getComputedStyle(t,null).getPropertyValue(n)}function B(t){return t.trim().split(/^|\s+/)}function U(t){return t.classList||new q(t)}function q(t){this._node=t,this._names=B(t.getAttribute("class")||"")}function Y(t,n){for(var e=U(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function G(t,n){for(var e=U(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}q.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function V(){this.textContent=""}function $(){this.innerHTML=""}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function K(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(){return null}function Q(){var t=this.parentNode;t&&t.removeChild(this)}function J(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function tt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var nt={},et=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(nt={mouseenter:"mouseover",mouseleave:"mouseout"}));function rt(t,n,e){return t=it(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function it(t,n,e){return function(r){var i=et;et=r;try{t.call(this,this.__data__,n,e)}finally{et=i}}}function ot(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function ut(t,n,e){var r=nt.hasOwnProperty(t.type)?rt:it;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var l=0,f=c.length;l<f;++l)if((a=c[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function at(t,n,e,r){var i=et;t.sourceEvent=et,et=t;try{return n.apply(e,r)}finally{et=i}}function ct(t,n,e){var r=W(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var st=[null];function lt(t,n){this._groups=t,this._parents=n}function ft(){return new lt([[document.documentElement]],st)}lt.prototype=ft.prototype={constructor:lt,select:function(t){"function"!=typeof t&&(t=L(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),s[l]=u);return new lt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=O(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new lt(r,i)},filter:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new lt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e,r=n?F:I,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),c=new Array(u),s=new Array(u),l=0;l<u;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),v=p.length,g=c[l]=new Array(v),y=a[l]=new Array(v);r(f,h,g,y,s[l]=new Array(d),p,n);for(var m,_,b=0,x=0;b<v;++b)if(m=g[b]){for(b>=x&&(x=b+1);!(_=y[x])&&++x<v;);m._next=_||null}}return(a=new lt(a,i))._enter=c,a._exit=s,a},enter:function(){return new lt(this._enter||this._groups.map(P),this._parents)},exit:function(){return new lt(this._exit||this._groups.map(P),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],l=e[a],f=s.length,h=u[a]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new lt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=j);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(n)}return new lt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=T(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):H(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=B(t+"");if(arguments.length<2){for(var r=U(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?Y:G)(this,t)}}:n?function(t){return function(){Y(this,t)}}:function(t){return function(){G(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(X)},lower:function(){return this.each(K)},append:function(t){var n="function"==typeof t?t:A(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:A(t),r=null==n?Z:"function"==typeof n?n:L(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Q)},clone:function(t){return this.select(t?tt:J)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?ut:ot,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,l=a.length;s<l;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return ct(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return ct(this,t,n)}})(t,n))}};var ht=ft,dt=function(t){return"string"==typeof t?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],st)},pt=function(t){return dt(A(t).call(document.documentElement))},vt=0;function gt(){return new yt}function yt(){this._="@"+(++vt).toString(36)}yt.prototype=gt.prototype={constructor:yt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var mt=function(){for(var t,n=et;t=n.sourceEvent;)n=t;return n},_t=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},bt=function(t){var n=mt();return n.changedTouches&&(n=n.changedTouches[0]),_t(t,n)},xt=function(t){return"string"==typeof t?new lt([document.querySelectorAll(t)],[document.documentElement]):new lt([null==t?[]:t],st)},wt=function(t,n,e){arguments.length<3&&(e=n,n=mt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return _t(t,r);return null},Mt=function(t,n){null==n&&(n=mt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=_t(t,n[e]);return i};function Ct(){et.stopImmediatePropagation()}var kt=function(){et.preventDefault(),et.stopImmediatePropagation()},St=function(t){var n=t.document.documentElement,e=dt(t).on("dragstart.drag",kt,!0);"onselectstart"in n?e.on("selectstart.drag",kt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function Tt(t,n){var e=t.document.documentElement,r=dt(t).on("dragstart.drag",null);n&&(r.on("click.drag",kt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var At=function(t){return function(){return t}};function Nt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function Lt(){return!et.button}function Et(){return this.parentNode}function Ot(t){return null==t?{x:et.x,y:et.y}:t}function Dt(){return"ontouchstart"in this}Nt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Pt=function(){var t,n,e,r,i=Lt,o=Et,u=Ot,a=Dt,c={},s=C("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var u=_("mouse",o.apply(this,arguments),bt,this,arguments);u&&(dt(et.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),St(et.view),Ct(),e=!1,t=et.clientX,n=et.clientY,u("start"))}}function p(){if(kt(),!e){var r=et.clientX-t,i=et.clientY-n;e=r*r+i*i>f}c.mouse("drag")}function v(){dt(et.view).on("mousemove.drag mouseup.drag",null),Tt(et.view,e),kt(),c.mouse("end")}function g(){if(i.apply(this,arguments)){var t,n,e=et.changedTouches,r=o.apply(this,arguments),u=e.length;for(t=0;t<u;++t)(n=_(e[t].identifier,r,wt,this,arguments))&&(Ct(),n("start"))}}function y(){var t,n,e=et.changedTouches,r=e.length;for(t=0;t<r;++t)(n=c[e[t].identifier])&&(kt(),n("drag"))}function m(){var t,n,e=et.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=c[e[t].identifier])&&(Ct(),n("end"))}function _(t,n,e,r,i){var o,a,f,d=e(n,t),p=s.copy();if(at(new Nt(h,"beforestart",o,t,l,d[0],d[1],0,0,p),function(){return null!=(et.subject=o=u.apply(r,i))&&(a=o.x-d[0]||0,f=o.y-d[1]||0,!0)}))return function u(s){var v,g=d;switch(s){case"start":c[t]=u,v=l++;break;case"end":delete c[t],--l;case"drag":d=e(n,t),v=l}at(new Nt(h,s,o,t,v,d[0]+a,d[1]+f,d[0]-g[0],d[1]-g[1],p),p.apply,p,[s,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:At(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:At(t),h):o},h.subject=function(t){return arguments.length?(u="function"==typeof t?t:At(t),h):u},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:At(!!t),h):a},h.on=function(){var t=s.on.apply(s,arguments);return t===s?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h},zt=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Rt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function It(){}var Ft="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ht=/^#([0-9a-f]{3})$/,Bt=/^#([0-9a-f]{6})$/,Ut=new RegExp("^rgb\\("+[Ft,Ft,Ft]+"\\)$"),qt=new RegExp("^rgb\\("+[Wt,Wt,Wt]+"\\)$"),Yt=new RegExp("^rgba\\("+[Ft,Ft,Ft,jt]+"\\)$"),Gt=new RegExp("^rgba\\("+[Wt,Wt,Wt,jt]+"\\)$"),Vt=new RegExp("^hsl\\("+[jt,Wt,Wt]+"\\)$"),$t=new RegExp("^hsla\\("+[jt,Wt,Wt,jt]+"\\)$"),Xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Kt(t){var n;return t=(t+"").trim().toLowerCase(),(n=Ht.exec(t))?new nn((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Bt.exec(t))?Zt(parseInt(n[1],16)):(n=Ut.exec(t))?new nn(n[1],n[2],n[3],1):(n=qt.exec(t))?new nn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Yt.exec(t))?Qt(n[1],n[2],n[3],n[4]):(n=Gt.exec(t))?Qt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Vt.exec(t))?rn(n[1],n[2]/100,n[3]/100,1):(n=$t.exec(t))?rn(n[1],n[2]/100,n[3]/100,n[4]):Xt.hasOwnProperty(t)?Zt(Xt[t]):"transparent"===t?new nn(NaN,NaN,NaN,0):null}function Zt(t){return new nn(t>>16&255,t>>8&255,255&t,1)}function Qt(t,n,e,r){return r<=0&&(t=n=e=NaN),new nn(t,n,e,r)}function Jt(t){return t instanceof It||(t=Kt(t)),t?new nn((t=t.rgb()).r,t.g,t.b,t.opacity):new nn}function tn(t,n,e,r){return 1===arguments.length?Jt(t):new nn(t,n,e,null==r?1:r)}function nn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function en(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function rn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new un(t,n,e,r)}function on(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof un)return new un(t.h,t.s,t.l,t.opacity);if(t instanceof It||(t=Kt(t)),!t)return new un;if(t instanceof un)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new un(u,a,c,t.opacity)}(t):new un(t,n,e,null==r?1:r)}function un(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function an(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}zt(It,Kt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),zt(nn,tn,Rt(It,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+en(this.r)+en(this.g)+en(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),zt(un,on,Rt(It,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new un(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new un(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new nn(an(t>=240?t-240:t+120,i,r),an(t,i,r),an(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var cn=Math.PI/180,sn=180/Math.PI,ln=.96422,fn=1,hn=.82521,dn=4/29,pn=6/29,vn=3*pn*pn,gn=pn*pn*pn;function yn(t){if(t instanceof bn)return new bn(t.l,t.a,t.b,t.opacity);if(t instanceof An){if(isNaN(t.h))return new bn(t.l,0,0,t.opacity);var n=t.h*cn;return new bn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof nn||(t=Jt(t));var e,r,i=Cn(t.r),o=Cn(t.g),u=Cn(t.b),a=xn((.2225045*i+.7168786*o+.0606169*u)/fn);return i===o&&o===u?e=r=a:(e=xn((.4360747*i+.3850649*o+.1430804*u)/ln),r=xn((.0139322*i+.0971045*o+.7141733*u)/hn)),new bn(116*a-16,500*(e-a),200*(a-r),t.opacity)}function mn(t,n){return new bn(t,0,0,null==n?1:n)}function _n(t,n,e,r){return 1===arguments.length?yn(t):new bn(t,n,e,null==r?1:r)}function bn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function xn(t){return t>gn?Math.pow(t,1/3):t/vn+dn}function wn(t){return t>pn?t*t*t:vn*(t-dn)}function Mn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Cn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kn(t){if(t instanceof An)return new An(t.h,t.c,t.l,t.opacity);if(t instanceof bn||(t=yn(t)),0===t.a&&0===t.b)return new An(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*sn;return new An(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Sn(t,n,e,r){return 1===arguments.length?kn(t):new An(e,n,t,null==r?1:r)}function Tn(t,n,e,r){return 1===arguments.length?kn(t):new An(t,n,e,null==r?1:r)}function An(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}zt(bn,_n,Rt(It,{brighter:function(t){return new bn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new bn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new nn(Mn(3.1338561*(n=ln*wn(n))-1.6168667*(t=fn*wn(t))-.4906146*(e=hn*wn(e))),Mn(-.9787684*n+1.9161415*t+.033454*e),Mn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),zt(An,Tn,Rt(It,{brighter:function(t){return new An(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new An(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return yn(this).rgb()}}));var Nn=-.29227,Ln=-.90649,En=1.97294,On=En*Ln,Dn=1.78277*En,Pn=1.78277*Nn- -.14861*Ln;function zn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Rn)return new Rn(t.h,t.s,t.l,t.opacity);t instanceof nn||(t=Jt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Pn*r+On*n-Dn*e)/(Pn+On-Dn),o=r-i,u=(En*(e-i)-Nn*o)/Ln,a=Math.sqrt(u*u+o*o)/(En*i*(1-i)),c=a?Math.atan2(u,o)*sn-120:NaN;return new Rn(c<0?c+360:c,a,i,t.opacity)}(t):new Rn(t,n,e,null==r?1:r)}function Rn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function In(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}zt(Rn,zn,Rt(It,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*cn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new nn(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(Nn*r+Ln*i)),255*(n+e*(En*r)),this.opacity)}}));var Fn=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return In((e-r/n)*n,u,i,o,a)}},jn=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return In((e-r/n)*n,i,o,u,a)}},Wn=function(t){return function(){return t}};function Hn(t,n){return function(e){return t+e*n}}function Bn(t,n){var e=n-t;return e?Hn(t,e>180||e<-180?e-360*Math.round(e/360):e):Wn(isNaN(t)?n:t)}function Un(t){return 1==(t=+t)?qn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Wn(isNaN(n)?e:n)}}function qn(t,n){var e=n-t;return e?Hn(t,e):Wn(isNaN(t)?n:t)}var Yn=function t(n){var e=Un(n);function r(t,n){var r=e((t=tn(t)).r,(n=tn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=qn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function Gn(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=tn(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}var Vn=Gn(Fn),$n=Gn(jn),Xn=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=ue(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}},Kn=function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}},Zn=function(t,n){return n-=t=+t,function(e){return t+n*e}},Qn=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ue(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Jn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(Jn.source,"g");var ne,ee,re,ie,oe=function(t,n){var e,r,i,o=Jn.lastIndex=te.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Jn.exec(t))&&(r=te.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Zn(e,r)})),o=te.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})},ue=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Wn(n):("number"===r?Zn:"string"===r?(e=Kt(n))?(n=e,Yn):oe:n instanceof Kt?Yn:n instanceof Date?Kn:Array.isArray(n)?Xn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Qn:Zn)(t,n)},ae=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},ce=function(t,n){var e=Bn(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},se=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},le=180/Math.PI,fe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},he=function(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*le,skewX:Math.atan(c)*le,scaleX:u,scaleY:a}};function de(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:Zn(t,i)},{i:c-2,x:Zn(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Zn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Zn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Zn(t,e)},{i:a-2,x:Zn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}var pe=de(function(t){return"none"===t?fe:(ne||(ne=document.createElement("DIV"),ee=document.documentElement,re=document.defaultView),ne.style.transform=t,t=re.getComputedStyle(ee.appendChild(ne),null).getPropertyValue("transform"),ee.removeChild(ne),t=t.slice(7,-1).split(","),he(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ve=de(function(t){return null==t?fe:(ie||(ie=document.createElementNS("http://www.w3.org/2000/svg","g")),ie.setAttribute("transform",t),(t=ie.transform.baseVal.consolidate())?(t=t.matrix,he(t.a,t.b,t.c,t.d,t.e,t.f)):fe)},", ",")",")"),ge=Math.SQRT2;function ye(t){return((t=Math.exp(t))+1/t)/2}var me=function(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],l=a-i,f=c-o,h=l*l+f*f;if(h<1e-12)r=Math.log(s/u)/ge,e=function(t){return[i+t*l,o+t*f,u*Math.exp(ge*t*r)]};else{var d=Math.sqrt(h),p=(s*s-u*u+4*h)/(2*u*2*d),v=(s*s-u*u-4*h)/(2*s*2*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/ge,e=function(t){var n,e=t*r,a=ye(g),c=u/(2*d)*(a*(n=ge*e+g,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+c*l,o+c*f,u*a/ye(ge*e+g)]}}return e.duration=1e3*r,e};function _e(t){return function(n,e){var r=t((n=on(n)).h,(e=on(e)).h),i=qn(n.s,e.s),o=qn(n.l,e.l),u=qn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var be=_e(Bn),xe=_e(qn);function we(t,n){var e=qn((t=_n(t)).l,(n=_n(n)).l),r=qn(t.a,n.a),i=qn(t.b,n.b),o=qn(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function Me(t){return function(n,e){var r=t((n=Tn(n)).h,(e=Tn(e)).h),i=qn(n.c,e.c),o=qn(n.l,e.l),u=qn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var Ce=Me(Bn),ke=Me(qn);function Se(t){return function n(e){function r(n,r){var i=t((n=zn(n)).h,(r=zn(r)).h),o=qn(n.s,r.s),u=qn(n.l,r.l),a=qn(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}var Te=Se(Bn),Ae=Se(qn);function Ne(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}var Le,Ee,Oe=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},De=0,Pe=0,ze=0,Re=1e3,Ie=0,Fe=0,je=0,We="object"==typeof performance&&performance.now?performance:Date,He="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Be(){return Fe||(He(Ue),Fe=We.now()+je)}function Ue(){Fe=0}function qe(){this._call=this._time=this._next=null}function Ye(t,n,e){var r=new qe;return r.restart(t,n,e),r}function Ge(){Be(),++De;for(var t,n=Le;n;)(t=Fe-n._time)>=0&&n._call.call(null,t),n=n._next;--De}function Ve(){Fe=(Ie=We.now())+je,De=Pe=0;try{Ge()}finally{De=0,function(){var t,n,e=Le,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Le=n);Ee=t,Xe(r)}(),Fe=0}}function $e(){var t=We.now(),n=t-Ie;n>Re&&(je-=n,Ie=t)}function Xe(t){De||(Pe&&(Pe=clearTimeout(Pe)),t-Fe>24?(t<1/0&&(Pe=setTimeout(Ve,t-We.now()-je)),ze&&(ze=clearInterval(ze))):(ze||(Ie=We.now(),ze=setInterval($e,Re)),De=1,He(Ve)))}qe.prototype=Ye.prototype={constructor:qe,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Be():+e)+(null==n?0:+n),this._next||Ee===this||(Ee?Ee._next=this:Le=this,Ee=this),this._call=t,this._time=e,Xe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xe())}};var Ke=function(t,n,e){var r=new qe;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},Ze=function(t,n,e){var r=new qe,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Be():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},Qe=C("start","end","cancel","interrupt"),Je=[],tr=0,nr=1,er=2,rr=3,ir=4,or=5,ur=6,ar=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var s,l,f,h;if(e.state!==nr)return a();for(s in i)if((h=i[s]).name===e.name){if(h.state===rr)return Ke(o);h.state===ir?(h.state=ur,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=ur,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Ke(function(){e.state===rr&&(e.state=ir,e.timer.restart(u,e.delay,e.time),u(c))}),e.state=er,e.on.call("start",t,t.__data__,e.index,e.group),e.state===er){for(e.state=rr,r=new Array(f=e.tween.length),s=0,l=-1;s<f;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=or,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);e.state===or&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=ur,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ye(function(t){e.state=nr,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:Qe,tween:Je,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:tr})};function cr(t,n){var e=lr(t,n);if(e.state>tr)throw new Error("too late; already scheduled");return e}function sr(t,n){var e=lr(t,n);if(e.state>rr)throw new Error("too late; already running");return e}function lr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var fr=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>er&&e.state<or,e.state=ur,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}};function hr(t,n,e){var r=t._id;return t.each(function(){var t=sr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return lr(t,r).value[n]}}var dr=function(t,n){var e;return("number"==typeof n?Zn:n instanceof Kt?Yn:(e=Kt(n))?(n=e,Yn):oe)(t,n)};var pr=ht.prototype.constructor;function vr(t){return function(){this.style.removeProperty(t)}}var gr=0;function yr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function mr(t){return ht().transition(t)}function _r(){return++gr}var br=ht.prototype;function xr(t){return+t}function wr(t){return t*t}function Mr(t){return t*(2-t)}function Cr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function kr(t){return t*t*t}function Sr(t){return--t*t*t+1}function Tr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}yr.prototype=mr.prototype={constructor:yr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=L(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],l=s.length,f=o[u]=new Array(l),h=0;h<l;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),f[h]=c,ar(f[h],n,e,h,f,lr(a,e)));return new yr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=O(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],l=s.length,f=0;f<l;++f)if(c=s[f]){for(var h,d=t.call(c,c.__data__,f,s),p=lr(c,e),v=0,g=d.length;v<g;++v)(h=d[v])&&ar(h,n,e,v,d,p);o.push(d),u.push(c)}return new yr(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new yr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],l=e[a],f=s.length,h=u[a]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new yr(u,this._parents,this._name,this._id)},selection:function(){return new pr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=_r(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var l=lr(u,n);ar(u,t,e,s,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new yr(r,this._parents,t,e)},call:br.call,nodes:br.nodes,node:br.node,size:br.size,empty:br.empty,each:br.each,on:function(t,n){var e=this._id;return arguments.length<2?lr(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?cr:sr;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=T(t),r="transform"===e?ve:dr;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttribute(t))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttribute(t)}})(e,r,hr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}:function(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=T(t);return this.tween(e,(r.local?function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n(e))}}(t,i)),e}return i._value=n,i}:function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n(e))}}(t,i)),e}return i._value=n,i})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?pe:dr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=H(this,t),u=(this.style.removeProperty(t),H(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,vr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=H(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=H(this,t)),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}(t,r,hr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var c=sr(this,t),s=c.on,l=null==c.value[u]?o||(o=vr(n)):void 0;s===e&&i===l||(r=(e=s).copy()).on(a,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=H(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n(r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(hr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=lr(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=sr(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=sr(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){cr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){cr(this,t).delay=n}})(n,t)):lr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){sr(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){sr(this,t).duration=n}})(n,t)):lr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){sr(this,t).ease=n}}(n,t)):lr(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,u){var a={value:u},c={value:function(){0==--i&&o()}};e.each(function(){var e=sr(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n})})}};var Ar=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Nr=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Lr=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Er=Math.PI,Or=Er/2;function Dr(t){return 1-Math.cos(t*Or)}function Pr(t){return Math.sin(t*Or)}function zr(t){return(1-Math.cos(Er*t))/2}function Rr(t){return Math.pow(2,10*t-10)}function Ir(t){return 1-Math.pow(2,-10*t)}function Fr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function jr(t){return 1-Math.sqrt(1-t*t)}function Wr(t){return Math.sqrt(1- --t*t)}function Hr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Br=4/11,Ur=6/11,qr=8/11,Yr=.75,Gr=9/11,Vr=10/11,$r=.9375,Xr=21/22,Kr=63/64,Zr=1/Br/Br;function Qr(t){return 1-Jr(1-t)}function Jr(t){return(t=+t)<Br?Zr*t*t:t<qr?Zr*(t-=Ur)*t+Yr:t<Vr?Zr*(t-=Gr)*t+$r:Zr*(t-=Xr)*t+Kr}function ti(t){return((t*=2)<=1?1-Jr(1-t):Jr(t-1)+1)/2}var ni=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),ei=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),ri=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),ii=2*Math.PI,oi=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ii);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*ii)},i.period=function(e){return t(n,e)},i}(1,.3),ui=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ii);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*ii)},i.period=function(e){return t(n,e)},i}(1,.3),ai=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ii);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*ii)},i.period=function(e){return t(n,e)},i}(1,.3),ci={time:null,delay:0,duration:250,ease:Tr};function si(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return ci.time=Be(),ci;return e}ht.prototype.interrupt=function(t){return this.each(function(){fr(this,t)})},ht.prototype.transition=function(t){var n,e;t instanceof yr?(n=t._id,t=t._name):(n=_r(),(e=ci).time=Be(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&ar(u,t,n,s,a,e||si(u,n));return new yr(r,this._parents,t,n)};var li=[null],fi=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>nr&&e.name===n)return new yr([[t]],li,n,+r);return null},hi=function(t){return function(){return t}},di=function(t,n,e){this.target=t,this.type=n,this.selection=e};function pi(){et.stopImmediatePropagation()}var vi=function(){et.preventDefault(),et.stopImmediatePropagation()},gi={name:"drag"},yi={name:"space"},mi={name:"handle"},_i={name:"center"},bi={name:"x",handles:["e","w"].map(Ai),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},xi={name:"y",handles:["n","s"].map(Ai),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ai),input:function(t){return t},output:function(t){return t}},Mi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ci={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ki={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Si={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ti={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ai(t){return{type:t}}function Ni(){return!et.button}function Li(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ei(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Oi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Di(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function Pi(){return Ii(bi)}function zi(){return Ii(xi)}var Ri=function(){return Ii(wi)};function Ii(t){var n,e=Li,r=Ni,i=C(u,"start","brush","end"),o=6;function u(n){var e=n.property("__brush",f).selectAll(".overlay").data([Ai("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mi.overlay).merge(e).each(function(){var t=Ei(this).extent;dt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),n.selectAll(".selection").data([Ai("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Mi[t.type]}),n.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function a(){var t=dt(this),n=Ei(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-o/2:n[0][0]-o/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-o/2:n[0][1]-o/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+o:o}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+o:o})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n){return t.__brush.emitter||new s(t,n)}function s(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function l(){if(et.touches){if(et.changedTouches.length<et.touches.length)return vi()}else if(n)return;if(r.apply(this,arguments)){var e,i,o,u,s,l,f,h,d,p,v,g,y,m=this,_=et.target.__data__.type,b="selection"===(et.metaKey?_="overlay":_)?gi:et.altKey?_i:mi,x=t===xi?null:Si[_],w=t===bi?null:Ti[_],M=Ei(m),C=M.extent,k=M.selection,S=C[0][0],T=C[0][1],A=C[1][0],N=C[1][1],L=x&&w&&et.shiftKey,E=bt(m),O=E,D=c(m,arguments).beforestart();"overlay"===_?M.selection=k=[[e=t===xi?S:E[0],o=t===bi?T:E[1]],[s=t===xi?A:e,f=t===bi?N:o]]:(e=k[0][0],o=k[0][1],s=k[1][0],f=k[1][1]),i=e,u=o,l=s,h=f;var P=dt(m).attr("pointer-events","none"),z=P.selectAll(".overlay").attr("cursor",Mi[_]);if(et.touches)P.on("touchmove.brush",I,!0).on("touchend.brush touchcancel.brush",j,!0);else{var R=dt(et.view).on("keydown.brush",function(){switch(et.keyCode){case 16:L=x&&w;break;case 18:b===mi&&(x&&(s=l-d*x,e=i+d*x),w&&(f=h-p*w,o=u+p*w),b=_i,F());break;case 32:b!==mi&&b!==_i||(x<0?s=l-d:x>0&&(e=i-d),w<0?f=h-p:w>0&&(o=u-p),b=yi,z.attr("cursor",Mi.selection),F());break;default:return}vi()},!0).on("keyup.brush",function(){switch(et.keyCode){case 16:L&&(g=y=L=!1,F());break;case 18:b===_i&&(x<0?s=l:x>0&&(e=i),w<0?f=h:w>0&&(o=u),b=mi,F());break;case 32:b===yi&&(et.altKey?(x&&(s=l-d*x,e=i+d*x),w&&(f=h-p*w,o=u+p*w),b=_i):(x<0?s=l:x>0&&(e=i),w<0?f=h:w>0&&(o=u),b=mi),z.attr("cursor",Mi[_]),F());break;default:return}vi()},!0).on("mousemove.brush",I,!0).on("mouseup.brush",j,!0);St(et.view)}pi(),fr(m),a.call(m),D.start()}function I(){var t=bt(m);!L||g||y||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?y=!0:g=!0),O=t,v=!0,vi(),F()}function F(){var t;switch(d=O[0]-E[0],p=O[1]-E[1],b){case yi:case gi:x&&(d=Math.max(S-e,Math.min(A-s,d)),i=e+d,l=s+d),w&&(p=Math.max(T-o,Math.min(N-f,p)),u=o+p,h=f+p);break;case mi:x<0?(d=Math.max(S-e,Math.min(A-e,d)),i=e+d,l=s):x>0&&(d=Math.max(S-s,Math.min(A-s,d)),i=e,l=s+d),w<0?(p=Math.max(T-o,Math.min(N-o,p)),u=o+p,h=f):w>0&&(p=Math.max(T-f,Math.min(N-f,p)),u=o,h=f+p);break;case _i:x&&(i=Math.max(S,Math.min(A,e-d*x)),l=Math.max(S,Math.min(A,s+d*x))),w&&(u=Math.max(T,Math.min(N,o-p*w)),h=Math.max(T,Math.min(N,f+p*w)))}l<i&&(x*=-1,t=e,e=s,s=t,t=i,i=l,l=t,_ in Ci&&z.attr("cursor",Mi[_=Ci[_]])),h<u&&(w*=-1,t=o,o=f,f=t,t=u,u=h,h=t,_ in ki&&z.attr("cursor",Mi[_=ki[_]])),M.selection&&(k=M.selection),g&&(i=k[0][0],l=k[1][0]),y&&(u=k[0][1],h=k[1][1]),k[0][0]===i&&k[0][1]===u&&k[1][0]===l&&k[1][1]===h||(M.selection=[[i,u],[l,h]],a.call(m),D.brush())}function j(){if(pi(),et.touches){if(et.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500),P.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Tt(et.view,v),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);P.attr("pointer-events","all"),z.attr("cursor",Mi.overlay),M.selection&&(k=M.selection),Oi(k)&&(M.selection=null,a.call(m)),D.end()}}function f(){var n=this.__brush||{selection:null};return n.extent=e.apply(this,arguments),n.dim=t,n}return u.move=function(n,e){n.selection?n.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var n=this,r=n.__brush,i=c(n,arguments),o=r.selection,u=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),s=ue(o,u);function l(t){r.selection=1===t&&Oi(u)?null:s(t),a.call(n),i.brush()}return o&&u?l:l(1)}):n.each(function(){var n=arguments,r=this.__brush,i=t.input("function"==typeof e?e.apply(this,n):e,r.extent),o=c(this,n).beforestart();fr(this),r.selection=null==i||Oi(i)?null:i,a.call(this),o.start().brush().end()})},s.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){at(new di(u,n,t.output(this.state.selection)),i.apply,i,[n,this.that,this.args])}},u.extent=function(t){return arguments.length?(e="function"==typeof t?t:hi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),u):e},u.filter=function(t){return arguments.length?(r="function"==typeof t?t:hi(!!t),u):r},u.handleSize=function(t){return arguments.length?(o=+t,u):o},u.on=function(){var t=i.on.apply(i,arguments);return t===i?u:t},u}var Fi=Math.cos,ji=Math.sin,Wi=Math.PI,Hi=Wi/2,Bi=2*Wi,Ui=Math.max;var qi=function(){var t=0,n=null,e=null,i=null;function o(o){var u,a,c,s,l,f,h=o.length,d=[],p=Object(r.s)(h),v=[],g=[],y=g.groups=new Array(h),m=new Array(h*h);for(u=0,l=-1;++l<h;){for(a=0,f=-1;++f<h;)a+=o[l][f];d.push(a),v.push(Object(r.s)(h)),u+=a}for(n&&p.sort(function(t,e){return n(d[t],d[e])}),e&&v.forEach(function(t,n){t.sort(function(t,r){return e(o[n][t],o[n][r])})}),s=(u=Ui(0,Bi-t*h)/u)?t:Bi/h,a=0,l=-1;++l<h;){for(c=a,f=-1;++f<h;){var _=p[l],b=v[_][f],x=o[_][b],w=a,M=a+=x*u;m[b*h+_]={index:_,subindex:b,startAngle:w,endAngle:M,value:x}}y[_]={index:_,startAngle:c,endAngle:a,value:d[_]},a+=s}for(l=-1;++l<h;)for(f=l-1;++f<h;){var C=m[f*h+l],k=m[l*h+f];(C.value||k.value)&&g.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}return i?g.sort(i):g}return o.padAngle=function(n){return arguments.length?(t=Ui(0,n),o):t},o.sortGroups=function(t){return arguments.length?(n=t,o):n},o.sortSubgroups=function(t){return arguments.length?(e=t,o):e},o.sortChords=function(t){return arguments.length?(null==t?i=null:(n=t,i=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,o):i&&i._;var n},o},Yi=Array.prototype.slice,Gi=function(t){return function(){return t}},Vi=e(1);function $i(t){return t.source}function Xi(t){return t.target}function Ki(t){return t.radius}function Zi(t){return t.startAngle}function Qi(t){return t.endAngle}var Ji=function(){var t=$i,n=Xi,e=Ki,r=Zi,i=Qi,o=null;function u(){var u,a=Yi.call(arguments),c=t.apply(this,a),s=n.apply(this,a),l=+e.apply(this,(a[0]=c,a)),f=r.apply(this,a)-Hi,h=i.apply(this,a)-Hi,d=l*Fi(f),p=l*ji(f),v=+e.apply(this,(a[0]=s,a)),g=r.apply(this,a)-Hi,y=i.apply(this,a)-Hi;if(o||(o=u=Object(Vi.a)()),o.moveTo(d,p),o.arc(0,0,l,f,h),f===g&&h===y||(o.quadraticCurveTo(0,0,v*Fi(g),v*ji(g)),o.arc(0,0,v,g,y)),o.quadraticCurveTo(0,0,d,p),o.closePath(),u)return o=null,u+""||null}return u.radius=function(t){return arguments.length?(e="function"==typeof t?t:Gi(+t),u):e},u.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Gi(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Gi(+t),u):i},u.source=function(n){return arguments.length?(t=n,u):t},u.target=function(t){return arguments.length?(n=t,u):n},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u};function to(){}function no(t,n){var e=new to;if(t instanceof to)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}to.prototype=no.prototype={constructor:to,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var eo=no,ro=function(){var t,n,e,r=[],i=[];function o(e,i,u,a){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var c,s,l,f=-1,h=e.length,d=r[i++],p=eo(),v=u();++f<h;)(l=p.get(c=d(s=e[f])+""))?l.push(s):p.set(c,[s]);return p.each(function(t,n){a(v,n,o(t,i,u,a))}),v}return e={object:function(t){return o(t,0,io,oo)},map:function(t){return o(t,0,uo,ao)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var u,a=i[o-1];return null!=n&&o>=r.length?u=e.entries():(u=[],e.each(function(n,e){u.push({key:e,values:t(n,o)})})),null!=a?u.sort(function(t,n){return a(t.key,n.key)}):u}(o(t,0,uo,ao),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}};function io(){return{}}function oo(t,n,e){t[n]=e}function uo(){return eo()}function ao(t,n,e){t.set(n,e)}function co(){}var so=eo.prototype;function lo(t,n){var e=new co;if(t instanceof co)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}co.prototype=lo.prototype={constructor:co,has:so.has,add:function(t){return this["$"+(t+="")]=t,this},remove:so.remove,clear:so.clear,values:so.keys,size:so.size,empty:so.empty,each:so.each};var fo=lo,ho=function(t){var n=[];for(var e in t)n.push(e);return n},po=function(t){var n=[];for(var e in t)n.push(t[e]);return n},vo=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},go=Array.prototype.slice,yo=function(t,n){return t-n},mo=function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r},_o=function(t){return function(){return t}},bo=function(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=xo(t,n[r]))return e;return 0};function xo(t,n){for(var e=n[0],r=n[1],i=-1,o=0,u=t.length,a=u-1;o<u;a=o++){var c=t[o],s=c[0],l=c[1],f=t[a],h=f[0],d=f[1];if(wo(c,f,n))return 0;l>r!=d>r&&e<(h-s)*(r-l)/(d-l)+s&&(i=-i)}return i}function wo(t,n,e){var r,i,o,u;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],u=n[r],i<=o&&o<=u||u<=o&&o<=i)}var Mo=function(){},Co=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],ko=function(){var t=1,n=1,e=r.y,i=c;function o(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(yo);else{var i=Object(r.i)(t),o=i[0],a=i[1];n=Object(r.A)(o,a,n),n=Object(r.s)(Math.floor(o/n)*n,Math.floor(a/n)*n,n)}return n.map(function(n){return u(t,n)})}function u(e,r){var o=[],u=[];return function(e,r,i){var o,u,c,s,l,f,h=new Array,d=new Array;o=u=-1,s=e[0]>=r,Co[s<<1].forEach(p);for(;++o<t-1;)c=s,s=e[o+1]>=r,Co[c|s<<1].forEach(p);Co[s<<0].forEach(p);for(;++u<n-1;){for(o=-1,s=e[u*t+t]>=r,l=e[u*t]>=r,Co[s<<1|l<<2].forEach(p);++o<t-1;)c=s,s=e[u*t+t+o+1]>=r,f=l,l=e[u*t+o+1]>=r,Co[c|s<<1|l<<2|f<<3].forEach(p);Co[s|l<<3].forEach(p)}o=-1,l=e[u*t]>=r,Co[l<<2].forEach(p);for(;++o<t-1;)f=l,l=e[u*t+o+1]>=r,Co[l<<2|f<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],c=[t[1][0]+o,t[1][1]+u],s=a(r),l=a(c);(n=d[s])?(e=h[l])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=l]=n):(n=h[l])?(e=d[s])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=s]=n):h[s]=d[l]={start:s,end:l,ring:[r,c]}}Co[l<<3].forEach(p)}(e,r,function(t){i(t,e,r),mo(t)>0?o.push([t]):u.push(t)}),u.forEach(function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==bo((n=o[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:r,coordinates:o}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function c(e,r,i){e.forEach(function(e){var o,u=e[0],a=e[1],c=0|u,s=0|a,l=r[s*t+c];u>0&&u<t&&c===u&&(o=r[s*t+c-1],e[0]=u+(i-o)/(l-o)-.5),a>0&&a<n&&s===a&&(o=r[(s-1)*t+c],e[1]=a+(i-o)/(l-o)-.5)})}return o.contour=u,o.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),i=Math.ceil(e[1]);if(!(r>0&&i>0))throw new Error("invalid size");return t=r,n=i,o},o.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?_o(go.call(t)):_o(t),o):e},o.smooth=function(t){return arguments.length?(i=t?c:Mo,o):i===c},o};function So(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),u=0;u<i;++u)for(var a=0,c=0;a<r+e;++a)a<r&&(c+=t.data[a+u*r]),a>=e&&(a>=o&&(c-=t.data[a-o+u*r]),n.data[a-e+u*r]=c/Math.min(a+1,r-1+o-a,o))}function To(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),u=0;u<r;++u)for(var a=0,c=0;a<i+e;++a)a<i&&(c+=t.data[u+a*r]),a>=e&&(a>=o&&(c-=t.data[u+(a-o)*r]),n.data[u+(a-e)*r]=c/Math.min(a+1,i-1+o-a,o))}function Ao(t){return t[0]}function No(t){return t[1]}function Lo(){return 1}var Eo=function(){var t=Ao,n=No,e=Lo,i=960,o=500,u=20,a=2,c=3*u,s=i+2*c>>a,l=o+2*c>>a,f=_o(20);function h(i){var o=new Float32Array(s*l),h=new Float32Array(s*l);i.forEach(function(r,i,u){var f=+t(r,i,u)+c>>a,h=+n(r,i,u)+c>>a,d=+e(r,i,u);f>=0&&f<s&&h>=0&&h<l&&(o[f+h*s]+=d)}),So({width:s,height:l,data:o},{width:s,height:l,data:h},u>>a),To({width:s,height:l,data:h},{width:s,height:l,data:o},u>>a),So({width:s,height:l,data:o},{width:s,height:l,data:h},u>>a),To({width:s,height:l,data:h},{width:s,height:l,data:o},u>>a),So({width:s,height:l,data:o},{width:s,height:l,data:h},u>>a),To({width:s,height:l,data:h},{width:s,height:l,data:o},u>>a);var p=f(o);if(!Array.isArray(p)){var v=Object(r.k)(o);p=Object(r.A)(0,v,p),(p=Object(r.s)(0,Math.floor(v/p)*p,p)).shift()}return ko().thresholds(p).size([s,l])(o).map(d)}function d(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(p),t}function p(t){t.forEach(v)}function v(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-c,t[1]=t[1]*Math.pow(2,a)-c}function y(){return s=i+2*(c=3*u)>>a,l=o+2*c>>a,h}return h.x=function(n){return arguments.length?(t="function"==typeof n?n:_o(+n),h):t},h.y=function(t){return arguments.length?(n="function"==typeof t?t:_o(+t),h):n},h.weight=function(t){return arguments.length?(e="function"==typeof t?t:_o(+t),h):e},h.size=function(t){if(!arguments.length)return[i,o];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return i=n,o=e,y()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),y()},h.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Array.isArray(t)?_o(go.call(t)):_o(t),h):f},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},h},Oo={},Do={},Po=34,zo=10,Ro=13;function Io(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Fo(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function jo(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Wo(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+jo(-n,6):n>9999?"+"+jo(n,6):jo(n,4))+"-"+jo(t.getUTCMonth()+1,2)+"-"+jo(t.getUTCDate(),2)+(o?"T"+jo(e,2)+":"+jo(r,2)+":"+jo(i,2)+"."+jo(o,3)+"Z":i?"T"+jo(e,2)+":"+jo(r,2)+":"+jo(i,2)+"Z":r||e?"T"+jo(e,2)+":"+jo(r,2)+"Z":"")}var Ho=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,c=o<=0,s=!1;function l(){if(c)return Do;if(s)return s=!1,Oo;var n,r,i=u;if(t.charCodeAt(i)===Po){for(;u++<o&&t.charCodeAt(u)!==Po||t.charCodeAt(++u)===Po;);return(n=u)>=o?c=!0:(r=t.charCodeAt(u++))===zo?s=!0:r===Ro&&(s=!0,t.charCodeAt(u)===zo&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if((r=t.charCodeAt(n=u++))===zo)s=!0;else if(r===Ro)s=!0,t.charCodeAt(u)===zo&&++u;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===zo&&--o,t.charCodeAt(o-1)===Ro&&--o;(r=l())!==Do;){for(var f=[];r!==Oo&&r!==Do;)f.push(r),r=l();n&&null==(f=n(f,a++))||i.push(f)}return i}function i(n,e){return n.map(function(n){return e.map(function(t){return u(n[t])}).join(t)})}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?Wo(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Io(t);return function(r,i){return n(e(r),i,t)}}(t,n):Io(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Fo(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Fo(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}},Bo=Ho(","),Uo=Bo.parse,qo=Bo.parseRows,Yo=Bo.format,Go=Bo.formatBody,Vo=Bo.formatRows,$o=Ho("\t"),Xo=$o.parse,Ko=$o.parseRows,Zo=$o.format,Qo=$o.formatBody,Jo=$o.formatRows;function tu(t){for(var n in t){var e,r=t[n].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(e=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=e;else r=null;t[n]=r}return t}function nu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var eu=function(t,n){return fetch(t,n).then(nu)};function ru(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var iu=function(t,n){return fetch(t,n).then(ru)};function ou(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var uu=function(t,n){return fetch(t,n).then(ou)};function au(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),uu(n,e).then(function(n){return t(n,r)})}}function cu(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Ho(t);return uu(n,e).then(function(t){return i.parse(t,r)})}var su=au(Uo),lu=au(Xo),fu=function(t,n){return new Promise(function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t})};function hu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var du=function(t,n){return fetch(t,n).then(hu)};function pu(t){return function(n,e){return uu(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}var vu=pu("application/xml"),gu=pu("text/html"),yu=pu("image/svg+xml"),mu=function(t,n){var e;function r(){var r,i,o=e.length,u=0,a=0;for(r=0;r<o;++r)u+=(i=e[r]).x,a+=i.y;for(u=u/o-t,a=a/o-n,r=0;r<o;++r)(i=e[r]).x-=u,i.y-=a}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},_u=function(t){return function(){return t}},bu=function(){return 1e-6*(Math.random()-.5)};function xu(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,l,f,h,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((s=n>=(o=(v+y)/2))?v=o:y=o,(l=e>=(u=(g+m)/2))?g=u:m=u,i=d,!(d=d[f=l<<1|s]))return i[f]=p,t;if(a=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===a&&e===c)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+y)/2))?v=o:y=o,(l=e>=(u=(g+m)/2))?g=u:m=u}while((f=l<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=d,i[f]=p,t}var wu=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function Mu(t){return t[0]}function Cu(t){return t[1]}function ku(t,n,e){var r=new Su(null==n?Mu:n,null==e?Cu:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Su(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Tu(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Au=ku.prototype=Su.prototype;function Nu(t){return t.x+t.vx}function Lu(t){return t.y+t.vy}Au.copy=function(){var t,n,e=new Su(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Tu(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Tu(n));return e},Au.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return xu(this.cover(n,e),n,e,t)},Au.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>l&&(l=r),i<s&&(s=i),i>f&&(f=i));if(c>l||s>f)return this;for(this.cover(c,s).cover(l,f),e=0;e<o;++e)xu(this,u[e],a[e],t[e]);return this},Au.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,c=i-e,s=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=s,s=u,c*=2,a){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Au.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},Au.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Au.find=function(t,n,e){var r,i,o,u,a,c,s,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new wu(v,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>d||(u=c.x1)<l||(a=c.y1)<f))if(v.length){var g=(i+u)/2,y=(o+a)/2;p.push(new wu(v[3],g,y,u,a),new wu(v[2],i,y,g,a),new wu(v[1],g,o,u,y),new wu(v[0],i,o,g,y)),(s=(n>=y)<<1|t>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=c)}else{var m=t-+this._x.call(null,v.data),_=n-+this._y.call(null,v.data),b=m*m+_*_;if(b<e){var x=Math.sqrt(e=b);l=t-x,f=n-x,h=t+x,d=n+x,r=v.data}}return r},Au.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,l,f,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((s=o>=(a=(p+g)/2))?p=a:g=a,(l=u>=(c=(v+y)/2))?v=c:y=c,n=d,!(d=d[f=l<<1|s]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Au.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Au.root=function(){return this._root},Au.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},Au.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new wu(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,l=(i+u)/2;(e=c[3])&&a.push(new wu(e,s,l,o,u)),(e=c[2])&&a.push(new wu(e,r,l,s,u)),(e=c[1])&&a.push(new wu(e,s,i,o,l)),(e=c[0])&&a.push(new wu(e,r,i,s,l))}return this},Au.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new wu(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,l=(u+c)/2,f=(a+s)/2;(o=i[0])&&e.push(new wu(o,u,a,l,f)),(o=i[1])&&e.push(new wu(o,l,a,c,f)),(o=i[2])&&e.push(new wu(o,u,f,l,s)),(o=i[3])&&e.push(new wu(o,l,f,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Au.x=function(t){return arguments.length?(this._x=t,this):this._x},Au.y=function(t){return arguments.length?(this._y=t,this):this._y};var Eu=function(t){var n,e,r=1,i=1;function o(){for(var t,o,a,c,s,l,f,h=n.length,d=0;d<i;++d)for(o=ku(n,Nu,Lu).visitAfter(u),t=0;t<h;++t)a=n[t],l=e[a.index],f=l*l,c=a.x+a.vx,s=a.y+a.vy,o.visit(p);function p(t,n,e,i,o){var u=t.data,h=t.r,d=l+h;if(!u)return n>c+d||i<c-d||e>s+d||o<s-d;if(u.index>a.index){var p=c-u.x-u.vx,v=s-u.y-u.vy,g=p*p+v*v;g<d*d&&(0===p&&(g+=(p=bu())*p),0===v&&(g+=(v=bu())*v),g=(d-(g=Math.sqrt(g)))/g*r,a.vx+=(p*=g)*(d=(h*=h)/(f+h)),a.vy+=(v*=g)*d,u.vx-=p*(d=1-d),u.vy-=v*d)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function a(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=_u(null==t?1:+t)),o.initialize=function(t){n=t,a()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:_u(+n),a(),o):t},o};function Ou(t){return t.index}function Du(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var Pu=function(t){var n,e,r,i,o,u=Ou,a=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=_u(30),s=1;function l(r){for(var i=0,u=t.length;i<s;++i)for(var a,c,l,f,h,d,p,v=0;v<u;++v)c=(a=t[v]).source,f=(l=a.target).x+l.vx-c.x-c.vx||bu(),h=l.y+l.vy-c.y-c.vy||bu(),f*=d=((d=Math.sqrt(f*f+h*h))-e[v])/d*r*n[v],h*=d,l.vx-=f*(p=o[v]),l.vy-=h*p,c.vx+=f*(p=1-p),c.vy+=h*p}function f(){if(r){var a,c,s=r.length,l=t.length,f=eo(r,u);for(a=0,i=new Array(s);a<l;++a)(c=t[a]).index=a,"object"!=typeof c.source&&(c.source=Du(f,c.source)),"object"!=typeof c.target&&(c.target=Du(f,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)c=t[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(l),h(),e=new Array(l),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+a(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,f()},l.links=function(n){return arguments.length?(t=n,f(),l):t},l.id=function(t){return arguments.length?(u=t,l):u},l.iterations=function(t){return arguments.length?(s=+t,l):s},l.strength=function(t){return arguments.length?(a="function"==typeof t?t:_u(+t),h(),l):a},l.distance=function(t){return arguments.length?(c="function"==typeof t?t:_u(+t),d(),l):c},l};function zu(t){return t.x}function Ru(t){return t.y}var Iu=10,Fu=Math.PI*(3-Math.sqrt(5)),ju=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=eo(),c=Ye(l),s=C("tick","end");function l(){f(),s.call("tick",n),e<r&&(c.stop(),s.call("end",n))}function f(r){var c,s,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(o-e)*i,a.each(function(t){t(e)}),c=0;c<l;++c)null==(s=t[c]).fx?s.x+=s.vx*=u:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=u:(s.y=s.fy,s.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=Iu*Math.sqrt(e),o=e*Fu;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:f,restart:function(){return c.restart(l),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),a.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},force:function(t,e){return arguments.length>1?(null==e?a.remove(t):a.set(t,d(e)),n):a.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,l=t.length;for(null==r?r=1/0:r*=r,s=0;s<l;++s)(u=(i=n-(a=t[s]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,e){return arguments.length>1?(s.on(t,e),n):s.on(t)}}},Wu=function(){var t,n,e,r,i=_u(-30),o=1,u=1/0,a=.81;function c(r){var i,o=t.length,u=ku(t,zu,Ru).visitAfter(l);for(e=r,i=0;i<o;++i)n=t[i],u.visit(f)}function s(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function l(t){var n,e,i,o,u,a=0,c=0;if(t.length){for(i=o=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(a+=n.value,c+=e,i+=e*n.x,o+=e*n.y);t.x=i/c,t.y=o/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=r[n.data.index]}while(n=n.next)}t.value=a}function f(t,i,c,s){if(!t.value)return!0;var l=t.x-n.x,f=t.y-n.y,h=s-i,d=l*l+f*f;if(h*h/a<d)return d<u&&(0===l&&(d+=(l=bu())*l),0===f&&(d+=(f=bu())*f),d<o&&(d=Math.sqrt(o*d)),n.vx+=l*t.value*e/d,n.vy+=f*t.value*e/d),!0;if(!(t.length||d>=u)){(t.data!==n||t.next)&&(0===l&&(d+=(l=bu())*l),0===f&&(d+=(f=bu())*f),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=l*h,n.vy+=f*h)}while(t=t.next)}}return c.initialize=function(n){t=n,s()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:_u(+t),s(),c):i},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c},Hu=function(t,n,e){var r,i,o,u=_u(.1);function a(t){for(var u=0,a=r.length;u<a;++u){var c=r[u],s=c.x-n||1e-6,l=c.y-e||1e-6,f=Math.sqrt(s*s+l*l),h=(o[u]-f)*i[u]*t/f;c.vx+=s*h,c.vy+=l*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+u(r[n],n,r)}}return"function"!=typeof t&&(t=_u(+t)),null==n&&(n=0),null==e&&(e=0),a.initialize=function(t){r=t,c()},a.strength=function(t){return arguments.length?(u="function"==typeof t?t:_u(+t),c(),a):u},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:_u(+n),c(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(e=+t,a):e},a},Bu=function(t){var n,e,r,i=_u(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=_u(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:_u(+t),u(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:_u(+n),u(),o):t},o},Uu=function(t){var n,e,r,i=_u(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=_u(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:_u(+t),u(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:_u(+n),u(),o):t},o},qu=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Yu=function(t){return(t=qu(Math.abs(t)))?t[1]:NaN},Gu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(t){return new $u(t)}function $u(t){if(!(n=Gu.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}Vu.prototype=$u.prototype,$u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Xu,Ku,Zu,Qu,Ju=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t},ta=function(t,n){var e=qu(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},na={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ta(100*t,n)},r:ta,s:function(t,n){var e=qu(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Xu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qu(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ea=function(t){return t},ra=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],ia=function(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}):ea,i=t.currency,o=t.decimal,u=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):ea,a=t.percent||"%";function c(t){var n=(t=Vu(t)).fill,e=t.align,c=t.sign,s=t.symbol,l=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,v=t.type;"n"===v?(h=!0,v="g"):na[v]||(null==d&&(d=12),p=!0,v="g"),(l||"0"===n&&"="===e)&&(l=!0,n="0",e="=");var g="$"===s?i[0]:"#"===s&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===s?i[1]:/[%p]/.test(v)?a:"",m=na[v],_=/[defgprs%]/.test(v);function b(t){var i,a,s,b=g,x=y;if("c"===v)x=m(t)+x,t="";else{var w=(t=+t)<0;if(t=m(Math.abs(t),d),p&&(t=Ju(t)),w&&0==+t&&(w=!1),b=(w?"("===c?c:"-":"-"===c||"("===c?"":c)+b,x=("s"===v?ra[8+Xu/3]:"")+x+(w&&"("===c?")":""),_)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){x=(46===s?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}h&&!l&&(t=r(t,1/0));var M=b.length+t.length+x.length,C=M<f?new Array(f-M+1).join(n):"";switch(h&&l&&(t=r(C+t,C.length?f-x.length:1/0),C=""),e){case"<":t=b+t+x+C;break;case"=":t=b+C+t+x;break;case"^":t=C.slice(0,M=C.length>>1)+b+t+x+C.slice(M);break;default:t=C+b+t+x}return u(t)}return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return t+""},b}return{format:c,formatPrefix:function(t,n){var e=c(((t=Vu(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Yu(n)/3))),i=Math.pow(10,-r),o=ra[8+r/3];return function(t){return e(i*t)+o}}}};function oa(t){return Ku=ia(t),Zu=Ku.format,Qu=Ku.formatPrefix,Ku}oa({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ua=function(t){return Math.max(0,-Yu(Math.abs(t)))},aa=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yu(n)/3)))-Yu(Math.abs(t)))},ca=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Yu(n)-Yu(t))+1},sa=function(){return new la};function la(){this.reset()}la.prototype={constructor:la,reset:function(){this.s=this.t=0},add:function(t){ha(fa,t,this.t),ha(this,fa.s,this.s),this.s?this.t+=fa.t:this.s=fa.t},valueOf:function(){return this.s}};var fa=new la;function ha(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var da=1e-6,pa=Math.PI,va=pa/2,ga=pa/4,ya=2*pa,ma=180/pa,_a=pa/180,ba=Math.abs,xa=Math.atan,wa=Math.atan2,Ma=Math.cos,Ca=Math.ceil,ka=Math.exp,Sa=(Math.floor,Math.log),Ta=Math.pow,Aa=Math.sin,Na=Math.sign||function(t){return t>0?1:t<0?-1:0},La=Math.sqrt,Ea=Math.tan;function Oa(t){return t>1?0:t<-1?pa:Math.acos(t)}function Da(t){return t>1?va:t<-1?-va:Math.asin(t)}function Pa(t){return(t=Aa(t/2))*t}function za(){}function Ra(t,n){t&&Fa.hasOwnProperty(t.type)&&Fa[t.type](t,n)}var Ia={Feature:function(t,n){Ra(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ra(e[r].geometry,n)}},Fa={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ja(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ja(e[r],n,0)},Polygon:function(t,n){Wa(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Wa(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ra(e[r],n)}};function ja(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Wa(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ja(t[e],n,1);n.polygonEnd()}var Ha,Ba,Ua,qa,Ya,Ga=function(t,n){t&&Ia.hasOwnProperty(t.type)?Ia[t.type](t,n):Ra(t,n)},Va=sa(),$a=sa(),Xa={point:za,lineStart:za,lineEnd:za,polygonStart:function(){Va.reset(),Xa.lineStart=Ka,Xa.lineEnd=Za},polygonEnd:function(){var t=+Va;$a.add(t<0?ya+t:t),this.lineStart=this.lineEnd=this.point=za},sphere:function(){$a.add(ya)}};function Ka(){Xa.point=Qa}function Za(){Ja(Ha,Ba)}function Qa(t,n){Xa.point=Ja,Ha=t,Ba=n,Ua=t*=_a,qa=Ma(n=(n*=_a)/2+ga),Ya=Aa(n)}function Ja(t,n){var e=(t*=_a)-Ua,r=e>=0?1:-1,i=r*e,o=Ma(n=(n*=_a)/2+ga),u=Aa(n),a=Ya*u,c=qa*o+a*Ma(i),s=a*r*Aa(i);Va.add(wa(s,c)),Ua=t,qa=o,Ya=u}var tc=function(t){return $a.reset(),Ga(t,Xa),2*$a};function nc(t){return[wa(t[1],t[0]),Da(t[2])]}function ec(t){var n=t[0],e=t[1],r=Ma(e);return[r*Ma(n),r*Aa(n),Aa(e)]}function rc(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ic(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function oc(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function uc(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ac(t){var n=La(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var cc,sc,lc,fc,hc,dc,pc,vc,gc,yc,mc=sa(),_c={point:bc,lineStart:wc,lineEnd:Mc,polygonStart:function(){_c.point=Cc,_c.lineStart=kc,_c.lineEnd=Sc,mc.reset(),Xa.polygonStart()},polygonEnd:function(){Xa.polygonEnd(),_c.point=bc,_c.lineStart=wc,_c.lineEnd=Mc,Va<0?(cc=-(lc=180),sc=-(fc=90)):mc>da?fc=90:mc<-da&&(sc=-90),yc[0]=cc,yc[1]=lc}};function bc(t,n){gc.push(yc=[cc=t,lc=t]),n<sc&&(sc=n),n>fc&&(fc=n)}function xc(t,n){var e=ec([t*_a,n*_a]);if(vc){var r=ic(vc,e),i=ic([r[1],-r[0],0],r);ac(i),i=nc(i);var o,u=t-hc,a=u>0?1:-1,c=i[0]*ma*a,s=ba(u)>180;s^(a*hc<c&&c<a*t)?(o=i[1]*ma)>fc&&(fc=o):s^(a*hc<(c=(c+360)%360-180)&&c<a*t)?(o=-i[1]*ma)<sc&&(sc=o):(n<sc&&(sc=n),n>fc&&(fc=n)),s?t<hc?Tc(cc,t)>Tc(cc,lc)&&(lc=t):Tc(t,lc)>Tc(cc,lc)&&(cc=t):lc>=cc?(t<cc&&(cc=t),t>lc&&(lc=t)):t>hc?Tc(cc,t)>Tc(cc,lc)&&(lc=t):Tc(t,lc)>Tc(cc,lc)&&(cc=t)}else gc.push(yc=[cc=t,lc=t]);n<sc&&(sc=n),n>fc&&(fc=n),vc=e,hc=t}function wc(){_c.point=xc}function Mc(){yc[0]=cc,yc[1]=lc,_c.point=bc,vc=null}function Cc(t,n){if(vc){var e=t-hc;mc.add(ba(e)>180?e+(e>0?360:-360):e)}else dc=t,pc=n;Xa.point(t,n),xc(t,n)}function kc(){Xa.lineStart()}function Sc(){Cc(dc,pc),Xa.lineEnd(),ba(mc)>da&&(cc=-(lc=180)),yc[0]=cc,yc[1]=lc,vc=null}function Tc(t,n){return(n-=t)<0?n+360:n}function Ac(t,n){return t[0]-n[0]}function Nc(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var Lc,Ec,Oc,Dc,Pc,zc,Rc,Ic,Fc,jc,Wc,Hc,Bc,Uc,qc,Yc,Gc=function(t){var n,e,r,i,o,u,a;if(fc=lc=-(cc=sc=1/0),gc=[],Ga(t,_c),e=gc.length){for(gc.sort(Ac),n=1,o=[r=gc[0]];n<e;++n)Nc(r,(i=gc[n])[0])||Nc(r,i[1])?(Tc(r[0],i[1])>Tc(r[0],r[1])&&(r[1]=i[1]),Tc(i[0],r[1])>Tc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(a=Tc(r[1],i[0]))>u&&(u=a,cc=i[0],lc=r[1])}return gc=yc=null,cc===1/0||sc===1/0?[[NaN,NaN],[NaN,NaN]]:[[cc,sc],[lc,fc]]},Vc={sphere:za,point:$c,lineStart:Kc,lineEnd:Jc,polygonStart:function(){Vc.lineStart=ts,Vc.lineEnd=ns},polygonEnd:function(){Vc.lineStart=Kc,Vc.lineEnd=Jc}};function $c(t,n){t*=_a;var e=Ma(n*=_a);Xc(e*Ma(t),e*Aa(t),Aa(n))}function Xc(t,n,e){Oc+=(t-Oc)/++Lc,Dc+=(n-Dc)/Lc,Pc+=(e-Pc)/Lc}function Kc(){Vc.point=Zc}function Zc(t,n){t*=_a;var e=Ma(n*=_a);Uc=e*Ma(t),qc=e*Aa(t),Yc=Aa(n),Vc.point=Qc,Xc(Uc,qc,Yc)}function Qc(t,n){t*=_a;var e=Ma(n*=_a),r=e*Ma(t),i=e*Aa(t),o=Aa(n),u=wa(La((u=qc*o-Yc*i)*u+(u=Yc*r-Uc*o)*u+(u=Uc*i-qc*r)*u),Uc*r+qc*i+Yc*o);Ec+=u,zc+=u*(Uc+(Uc=r)),Rc+=u*(qc+(qc=i)),Ic+=u*(Yc+(Yc=o)),Xc(Uc,qc,Yc)}function Jc(){Vc.point=$c}function ts(){Vc.point=es}function ns(){rs(Hc,Bc),Vc.point=$c}function es(t,n){Hc=t,Bc=n,t*=_a,n*=_a,Vc.point=rs;var e=Ma(n);Uc=e*Ma(t),qc=e*Aa(t),Yc=Aa(n),Xc(Uc,qc,Yc)}function rs(t,n){t*=_a;var e=Ma(n*=_a),r=e*Ma(t),i=e*Aa(t),o=Aa(n),u=qc*o-Yc*i,a=Yc*r-Uc*o,c=Uc*i-qc*r,s=La(u*u+a*a+c*c),l=Da(s),f=s&&-l/s;Fc+=f*u,jc+=f*a,Wc+=f*c,Ec+=l,zc+=l*(Uc+(Uc=r)),Rc+=l*(qc+(qc=i)),Ic+=l*(Yc+(Yc=o)),Xc(Uc,qc,Yc)}var is=function(t){Lc=Ec=Oc=Dc=Pc=zc=Rc=Ic=Fc=jc=Wc=0,Ga(t,Vc);var n=Fc,e=jc,r=Wc,i=n*n+e*e+r*r;return i<1e-12&&(n=zc,e=Rc,r=Ic,Ec<da&&(n=Oc,e=Dc,r=Pc),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[wa(e,n)*ma,Da(r/La(i))*ma]},os=function(t){return function(){return t}},us=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function as(t,n){return[ba(t)>pa?t+Math.round(-t/ya)*ya:t,n]}function cs(t,n,e){return(t%=ya)?n||e?us(ls(t),fs(n,e)):ls(t):n||e?fs(n,e):as}function ss(t){return function(n,e){return[(n+=t)>pa?n-ya:n<-pa?n+ya:n,e]}}function ls(t){var n=ss(t);return n.invert=ss(-t),n}function fs(t,n){var e=Ma(t),r=Aa(t),i=Ma(n),o=Aa(n);function u(t,n){var u=Ma(n),a=Ma(t)*u,c=Aa(t)*u,s=Aa(n),l=s*e+a*r;return[wa(c*i-l*o,a*e-s*r),Da(l*i+c*o)]}return u.invert=function(t,n){var u=Ma(n),a=Ma(t)*u,c=Aa(t)*u,s=Aa(n),l=s*i-c*o;return[wa(c*i+s*o,a*e+l*r),Da(l*e-a*r)]},u}as.invert=as;var hs=function(t){function n(n){return(n=t(n[0]*_a,n[1]*_a))[0]*=ma,n[1]*=ma,n}return t=cs(t[0]*_a,t[1]*_a,t.length>2?t[2]*_a:0),n.invert=function(n){return(n=t.invert(n[0]*_a,n[1]*_a))[0]*=ma,n[1]*=ma,n},n};function ds(t,n,e,r,i,o){if(e){var u=Ma(n),a=Aa(n),c=r*e;null==i?(i=n+r*ya,o=n-c/2):(i=ps(u,i),o=ps(u,o),(r>0?i<o:i>o)&&(i+=r*ya));for(var s,l=i;r>0?l>o:l<o;l-=c)s=nc([u,-a*Ma(l),-a*Aa(l)]),t.point(s[0],s[1])}}function ps(t,n){(n=ec(n))[0]-=t,ac(n);var e=Oa(-n[1]);return((-n[2]<0?-e:e)+ya-da)%ya}var vs=function(){var t,n,e=os([0,0]),r=os(90),i=os(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=ma,e[1]*=ma}};function u(){var u=e.apply(this,arguments),a=r.apply(this,arguments)*_a,c=i.apply(this,arguments)*_a;return t=[],n=cs(-u[0]*_a,-u[1]*_a,0).invert,ds(o,a,c,1),u={type:"Polygon",coordinates:[t]},t=n=null,u}return u.center=function(t){return arguments.length?(e="function"==typeof t?t:os([+t[0],+t[1]]),u):e},u.radius=function(t){return arguments.length?(r="function"==typeof t?t:os(+t),u):r},u.precision=function(t){return arguments.length?(i="function"==typeof t?t:os(+t),u):i},u},gs=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:za,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},ys=function(t,n){return ba(t[0]-n[0])<da&&ba(t[1]-n[1])<da};function ms(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var _s=function(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(ys(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new ms(r,t,null,!0)),c.push(e.o=new ms(r,null,e,!1)),a.push(e=new ms(u,t,null,!1)),c.push(e.o=new ms(u,null,e,!0))}}),a.length){for(c.sort(n),bs(a),bs(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,l,f=a[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,u=s.length;o<u;++o)i.point((l=s[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((l=s[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function bs(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var xs=sa(),ws=function(t,n){var e=n[0],r=n[1],i=Aa(r),o=[Aa(e),-Ma(e),0],u=0,a=0;xs.reset(),1===i?r=va+da:-1===i&&(r=-va-da);for(var c=0,s=t.length;c<s;++c)if(f=(l=t[c]).length)for(var l,f,h=l[f-1],d=h[0],p=h[1]/2+ga,v=Aa(p),g=Ma(p),y=0;y<f;++y,d=_,v=x,g=w,h=m){var m=l[y],_=m[0],b=m[1]/2+ga,x=Aa(b),w=Ma(b),M=_-d,C=M>=0?1:-1,k=C*M,S=k>pa,T=v*x;if(xs.add(wa(T*C*Aa(k),g*w+T*Ma(k))),u+=S?M+C*ya:M,S^d>=e^_>=e){var A=ic(ec(h),ec(m));ac(A);var N=ic(o,A);ac(N);var L=(S^M>=0?-1:1)*Da(N[2]);(r>L||r===L&&(A[0]||A[1]))&&(a+=S^M>=0?1:-1)}}return(u<-da||u<da&&xs<-da)^1&a},Ms=function(t,n,e,i){return function(o){var u,a,c,s=n(o),l=gs(),f=n(l),h=!1,d={point:p,lineStart:g,lineEnd:y,polygonStart:function(){d.point=m,d.lineStart=_,d.lineEnd=b,a=[],u=[]},polygonEnd:function(){d.point=p,d.lineStart=g,d.lineEnd=y,a=Object(r.n)(a);var t=ws(u,i);a.length?(h||(o.polygonStart(),h=!0),_s(a,ks,t,e,o)):t&&(h||(o.polygonStart(),h=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),a=u=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(n,e){t(n,e)&&o.point(n,e)}function v(t,n){s.point(t,n)}function g(){d.point=v,s.lineStart()}function y(){d.point=p,s.lineEnd()}function m(t,n){c.push([t,n]),f.point(t,n)}function _(){f.lineStart(),c=[]}function b(){m(c[0][0],c[0][1]),f.lineEnd();var t,n,e,r,i=f.clean(),s=l.result(),d=s.length;if(c.pop(),u.push(c),c=null,d)if(1&i){if((n=(e=s[0]).length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),t=0;t<n;++t)o.point((r=e[t])[0],r[1]);o.lineEnd()}}else d>1&&2&i&&s.push(s.pop().concat(s.shift())),a.push(s.filter(Cs))}return d}};function Cs(t){return t.length>1}function ks(t,n){return((t=t.x)[0]<0?t[1]-va-da:va-t[1])-((n=n.x)[0]<0?n[1]-va-da:va-n[1])}var Ss=Ms(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?pa:-pa,c=ba(o-e);ba(c-pa)<da?(t.point(e,r=(r+u)/2>0?va:-va),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=pa&&(ba(e-i)<da&&(e-=i*da),ba(o-a)<da&&(o-=a*da),r=function(t,n,e,r){var i,o,u=Aa(t-e);return ba(u)>da?xa((Aa(n)*(o=Ma(r))*Aa(e)-Aa(r)*(i=Ma(n))*Aa(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*va,r.point(-pa,i),r.point(0,i),r.point(pa,i),r.point(pa,0),r.point(pa,-i),r.point(0,-i),r.point(-pa,-i),r.point(-pa,0),r.point(-pa,i);else if(ba(t[0]-n[0])>da){var o=t[0]<n[0]?pa:-pa;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-pa,-va]);var Ts=function(t){var n=Ma(t),e=6*_a,r=n>0,i=ba(n)>da;function o(t,e){return Ma(t)*Ma(e)>n}function u(t,e,r){var i=[1,0,0],o=ic(ec(t),ec(e)),u=rc(o,o),a=o[0],c=u-a*a;if(!c)return!r&&t;var s=n*u/c,l=-n*a/c,f=ic(i,o),h=uc(i,s);oc(h,uc(o,l));var d=f,p=rc(h,d),v=rc(d,d),g=p*p-v*(rc(h,h)-1);if(!(g<0)){var y=La(g),m=uc(d,(-p-y)/v);if(oc(m,h),m=nc(m),!r)return m;var _,b=t[0],x=e[0],w=t[1],M=e[1];x<b&&(_=b,b=x,x=_);var C=x-b,k=ba(C-pa)<da;if(!k&&M<w&&(_=w,w=M,M=_),k||C<da?k?w+M>0^m[1]<(ba(m[0]-b)<da?w:M):w<=m[1]&&m[1]<=M:C>pa^(b<=m[0]&&m[0]<=x)){var S=uc(d,(-p+y)/v);return oc(S,h),[m,nc(S)]}}}function a(n,e){var i=r?t:pa-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Ms(o,function(t){var n,e,c,s,l;return{lineStart:function(){s=c=!1,l=1},point:function(f,h){var d,p=[f,h],v=o(f,h),g=r?v?0:a(f,h):v?a(f+(f<0?pa:-pa),h):0;if(!n&&(s=c=v)&&t.lineStart(),v!==c&&(!(d=u(n,p))||ys(n,d)||ys(p,d))&&(p[0]+=da,p[1]+=da,v=o(p[0],p[1])),v!==c)l=0,v?(t.lineStart(),d=u(p,n),t.point(d[0],d[1])):(d=u(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^v){var y;g&e||!(y=u(p,n,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&ys(n,p)||t.point(p[0],p[1]),n=p,c=v,e=g},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return l|(s&&c)<<1}}},function(n,r,i,o){ds(o,t,e,i,n,r)},r?[0,-t]:[-pa,t-pa])},As=function(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=0,l=1,f=n[0]-a,h=n[1]-c;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<s)return;u<l&&(l=u)}else if(f>0){if(u>l)return;u>s&&(s=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>l)return;u>s&&(s=u)}else if(f>0){if(u<s)return;u<l&&(l=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<l&&(l=u)}else if(h>0){if(u>l)return;u>s&&(s=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>l)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<l&&(l=u)}return s>0&&(t[0]=a+s*f,t[1]=c+s*h),l<1&&(n[0]=a+l*f,n[1]=c+l*h),!0}}}}},Ns=1e9,Ls=-Ns;function Es(t,n,e,i){function o(r,o){return t<=r&&r<=e&&n<=o&&o<=i}function u(r,o,u,c){var l=0,f=0;if(null==r||(l=a(r,u))!==(f=a(o,u))||s(r,o)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?i:n)}while((l=(l+u+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return ba(r[0]-t)<da?i>0?0:3:ba(r[0]-e)<da?i>0?2:1:ba(r[1]-n)<da?i>0?1:0:i>0?3:2}function c(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,l,f,h,d,p,v,g,y,m,_,b=a,x=gs(),w={point:M,lineStart:function(){w.point=C,l&&l.push(f=[]);m=!0,y=!1,v=g=NaN},lineEnd:function(){s&&(C(h,d),p&&y&&x.rejoin(),s.push(x.result()));w.point=M,y&&b.lineEnd()},polygonStart:function(){b=x,s=[],l=[],_=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=l.length;e<r;++e)for(var o,u,a=l[e],c=1,s=a.length,f=a[0],h=f[0],d=f[1];c<s;++c)o=h,u=d,f=a[c],h=f[0],d=f[1],u<=i?d>i&&(h-o)*(i-u)>(d-u)*(t-o)&&++n:d<=i&&(h-o)*(i-u)<(d-u)*(t-o)&&--n;return n}(),e=_&&n,o=(s=Object(r.n)(s)).length;(e||o)&&(a.polygonStart(),e&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),o&&_s(s,c,n,u,a),a.polygonEnd());b=a,s=l=f=null}};function M(t,n){o(t,n)&&b.point(t,n)}function C(r,u){var a=o(r,u);if(l&&f.push([r,u]),m)h=r,d=u,p=a,m=!1,a&&(b.lineStart(),b.point(r,u));else if(a&&y)b.point(r,u);else{var c=[v=Math.max(Ls,Math.min(Ns,v)),g=Math.max(Ls,Math.min(Ns,g))],s=[r=Math.max(Ls,Math.min(Ns,r)),u=Math.max(Ls,Math.min(Ns,u))];As(c,s,t,n,e,i)?(y||(b.lineStart(),b.point(c[0],c[1])),b.point(s[0],s[1]),a||b.lineEnd(),_=!1):a&&(b.lineStart(),b.point(r,u),_=!1)}v=r,g=u,y=a}return w}}var Os,Ds,Ps,zs=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=Es(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},Rs=sa(),Is={sphere:za,point:za,lineStart:function(){Is.point=js,Is.lineEnd=Fs},lineEnd:za,polygonStart:za,polygonEnd:za};function Fs(){Is.point=Is.lineEnd=za}function js(t,n){Os=t*=_a,Ds=Aa(n*=_a),Ps=Ma(n),Is.point=Ws}function Ws(t,n){t*=_a;var e=Aa(n*=_a),r=Ma(n),i=ba(t-Os),o=Ma(i),u=r*Aa(i),a=Ps*e-Ds*r*o,c=Ds*e+Ps*r*o;Rs.add(wa(La(u*u+a*a),c)),Os=t,Ds=e,Ps=r}var Hs=function(t){return Rs.reset(),Ga(t,Is),+Rs},Bs=[null,null],Us={type:"LineString",coordinates:Bs},qs=function(t,n){return Bs[0]=t,Bs[1]=n,Hs(Us)},Ys={Feature:function(t,n){return Vs(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Vs(e[r].geometry,n))return!0;return!1}},Gs={Sphere:function(){return!0},Point:function(t,n){return $s(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if($s(e[r],n))return!0;return!1},LineString:function(t,n){return Xs(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Xs(e[r],n))return!0;return!1},Polygon:function(t,n){return Ks(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Ks(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Vs(e[r],n))return!0;return!1}};function Vs(t,n){return!(!t||!Gs.hasOwnProperty(t.type))&&Gs[t.type](t,n)}function $s(t,n){return 0===qs(t,n)}function Xs(t,n){var e=qs(t[0],t[1]);return qs(t[0],n)+qs(n,t[1])<=e+da}function Ks(t,n){return!!ws(t.map(Zs),Qs(n))}function Zs(t){return(t=t.map(Qs)).pop(),t}function Qs(t){return[t[0]*_a,t[1]*_a]}var Js=function(t,n){return(t&&Ys.hasOwnProperty(t.type)?Ys[t.type]:Vs)(t,n)};function tl(t,n,e){var i=Object(r.s)(t,n-da,e).concat(n);return function(t){return i.map(function(n){return[t,n]})}}function nl(t,n,e){var i=Object(r.s)(t,n-da,e).concat(n);return function(t){return i.map(function(n){return[n,t]})}}function el(){var t,n,e,i,o,u,a,c,s,l,f,h,d=10,p=d,v=90,g=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:_()}}function _(){return Object(r.s)(Ca(i/v)*v,e,v).map(f).concat(Object(r.s)(Ca(c/g)*g,a,g).map(h)).concat(Object(r.s)(Ca(n/d)*d,t,d).filter(function(t){return ba(t%v)>da}).map(s)).concat(Object(r.s)(Ca(u/p)*p,o,p).filter(function(t){return ba(t%g)>da}).map(l))}return m.lines=function(){return _().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(a).slice(1),f(e).reverse().slice(1),h(c).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(i=+t[0][0],e=+t[1][0],c=+t[0][1],a=+t[1][1],i>e&&(t=i,i=e,e=t),c>a&&(t=c,c=a,a=t),m.precision(y)):[[i,c],[e,a]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],u=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),u>o&&(e=u,u=o,o=e),m.precision(y)):[[n,u],[t,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(v=+t[0],g=+t[1],m):[v,g]},m.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],m):[d,p]},m.precision=function(r){return arguments.length?(y=+r,s=tl(u,o,90),l=nl(n,t,y),f=tl(c,a,90),h=nl(i,e,y),m):y},m.extentMajor([[-180,-90+da],[180,90-da]]).extentMinor([[-180,-80-da],[180,80+da]])}function rl(){return el()()}var il,ol,ul,al,cl=function(t,n){var e=t[0]*_a,r=t[1]*_a,i=n[0]*_a,o=n[1]*_a,u=Ma(r),a=Aa(r),c=Ma(o),s=Aa(o),l=u*Ma(e),f=u*Aa(e),h=c*Ma(i),d=c*Aa(i),p=2*Da(La(Pa(o-r)+u*c*Pa(i-e))),v=Aa(p),g=p?function(t){var n=Aa(t*=p)/v,e=Aa(p-t)/v,r=e*l+n*h,i=e*f+n*d,o=e*a+n*s;return[wa(i,r)*ma,wa(o,La(r*r+i*i))*ma]}:function(){return[e*ma,r*ma]};return g.distance=p,g},sl=function(t){return t},ll=sa(),fl=sa(),hl={point:za,lineStart:za,lineEnd:za,polygonStart:function(){hl.lineStart=dl,hl.lineEnd=gl},polygonEnd:function(){hl.lineStart=hl.lineEnd=hl.point=za,ll.add(ba(fl)),fl.reset()},result:function(){var t=ll/2;return ll.reset(),t}};function dl(){hl.point=pl}function pl(t,n){hl.point=vl,il=ul=t,ol=al=n}function vl(t,n){fl.add(al*t-ul*n),ul=t,al=n}function gl(){vl(il,ol)}var yl=hl,ml=1/0,_l=ml,bl=-ml,xl=bl;var wl,Ml,Cl,kl,Sl={point:function(t,n){t<ml&&(ml=t);t>bl&&(bl=t);n<_l&&(_l=n);n>xl&&(xl=n)},lineStart:za,lineEnd:za,polygonStart:za,polygonEnd:za,result:function(){var t=[[ml,_l],[bl,xl]];return bl=xl=-(_l=ml=1/0),t}},Tl=0,Al=0,Nl=0,Ll=0,El=0,Ol=0,Dl=0,Pl=0,zl=0,Rl={point:Il,lineStart:Fl,lineEnd:Hl,polygonStart:function(){Rl.lineStart=Bl,Rl.lineEnd=Ul},polygonEnd:function(){Rl.point=Il,Rl.lineStart=Fl,Rl.lineEnd=Hl},result:function(){var t=zl?[Dl/zl,Pl/zl]:Ol?[Ll/Ol,El/Ol]:Nl?[Tl/Nl,Al/Nl]:[NaN,NaN];return Tl=Al=Nl=Ll=El=Ol=Dl=Pl=zl=0,t}};function Il(t,n){Tl+=t,Al+=n,++Nl}function Fl(){Rl.point=jl}function jl(t,n){Rl.point=Wl,Il(Cl=t,kl=n)}function Wl(t,n){var e=t-Cl,r=n-kl,i=La(e*e+r*r);Ll+=i*(Cl+t)/2,El+=i*(kl+n)/2,Ol+=i,Il(Cl=t,kl=n)}function Hl(){Rl.point=Il}function Bl(){Rl.point=ql}function Ul(){Yl(wl,Ml)}function ql(t,n){Rl.point=Yl,Il(wl=Cl=t,Ml=kl=n)}function Yl(t,n){var e=t-Cl,r=n-kl,i=La(e*e+r*r);Ll+=i*(Cl+t)/2,El+=i*(kl+n)/2,Ol+=i,Dl+=(i=kl*t-Cl*n)*(Cl+t),Pl+=i*(kl+n),zl+=3*i,Il(Cl=t,kl=n)}var Gl=Rl;function Vl(t){this._context=t}Vl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ya)}},result:za};var $l,Xl,Kl,Zl,Ql,Jl=sa(),tf={point:za,lineStart:function(){tf.point=nf},lineEnd:function(){$l&&ef(Xl,Kl),tf.point=za},polygonStart:function(){$l=!0},polygonEnd:function(){$l=null},result:function(){var t=+Jl;return Jl.reset(),t}};function nf(t,n){tf.point=ef,Xl=Zl=t,Kl=Ql=n}function ef(t,n){Zl-=t,Ql-=n,Jl.add(La(Zl*Zl+Ql*Ql)),Zl=t,Ql=n}var rf=tf;function of(){this._string=[]}function uf(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}of.prototype={_radius:4.5,_circle:uf(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=uf(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var af=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Ga(t,e(r))),r.result()}return o.area=function(t){return Ga(t,e(yl)),yl.result()},o.measure=function(t){return Ga(t,e(rf)),rf.result()},o.bounds=function(t){return Ga(t,e(Sl)),Sl.result()},o.centroid=function(t){return Ga(t,e(Gl)),Gl.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,sl):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new of):new Vl(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},cf=function(t){return{stream:sf(t)}};function sf(t){return function(n){var e=new lf;for(var r in t)e[r]=t[r];return e.stream=n,e}}function lf(){}function ff(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Ga(e,t.stream(Sl)),n(Sl.result()),null!=r&&t.clipExtent(r),t}function hf(t,n,e){return ff(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])},e)}function df(t,n,e){return hf(t,[[0,0],n],e)}function pf(t,n,e){return ff(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])},e)}function vf(t,n,e){return ff(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])},e)}lf.prototype={constructor:lf,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var gf=16,yf=Ma(30*_a),mf=function(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,s,l,f,h,d,p,v,g){var y=s-r,m=l-i,_=y*y+m*m;if(_>4*n&&v--){var b=u+h,x=a+d,w=c+p,M=La(b*b+x*x+w*w),C=Da(w/=M),k=ba(ba(w)-1)<da||ba(o-f)<da?(o+f)/2:wa(x,b),S=t(k,C),T=S[0],A=S[1],N=T-r,L=A-i,E=m*N-y*L;(E*E/_>n||ba((y*N+m*L)/_-.5)>.3||u*h+a*d+c*p<yf)&&(e(r,i,o,u,a,c,T,A,k,b/=M,x/=M,w,v,g),g.point(T,A),e(T,A,k,b,x,w,s,l,f,h,d,p,v,g))}}return function(n){var r,i,o,u,a,c,s,l,f,h,d,p,v={point:g,lineStart:y,lineEnd:_,polygonStart:function(){n.polygonStart(),v.lineStart=b},polygonEnd:function(){n.polygonEnd(),v.lineStart=y}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){l=NaN,v.point=m,n.lineStart()}function m(r,i){var o=ec([r,i]),u=t(r,i);e(l,f,s,h,d,p,l=u[0],f=u[1],s=r,h=o[0],d=o[1],p=o[2],gf,n),n.point(l,f)}function _(){v.point=g,n.lineEnd()}function b(){y(),v.point=x,v.lineEnd=w}function x(t,n){m(r=t,n),i=l,o=f,u=h,a=d,c=p,v.point=m}function w(){e(l,f,s,h,d,p,i,o,r,u,a,c,gf,n),v.lineEnd=_,_()}return v}}(t,n):function(t){return sf({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var _f=sf({point:function(t,n){this.stream.point(t*_a,n*_a)}});function bf(t,n,e,r){var i=Ma(r),o=Aa(r),u=i*t,a=o*t,c=i/t,s=o/t,l=(o*e-i*n)/t,f=(o*n+i*e)/t;function h(t,r){return[u*t-a*r+n,e-a*t-u*r]}return h.invert=function(t,n){return[c*t-s*n+l,f-s*t-c*n]},h}function xf(t){return wf(function(){return t})()}function wf(t){var n,e,r,i,o,u,a,c,s,l,f=150,h=480,d=250,p=0,v=0,g=0,y=0,m=0,_=0,b=null,x=Ss,w=null,M=sl,C=.5;function k(t){return c(t[0]*_a,t[1]*_a)}function S(t){return(t=c.invert(t[0],t[1]))&&[t[0]*ma,t[1]*ma]}function T(){var t=bf(f,0,0,_).apply(null,n(p,v)),r=(_?bf:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,h-t[0],d-t[1],_);return e=cs(g,y,m),a=us(n,r),c=us(e,a),u=mf(a,C),A()}function A(){return s=l=null,k}return k.stream=function(t){return s&&l===t?s:s=_f(function(t){return sf({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(u(M(l=t)))))},k.preclip=function(t){return arguments.length?(x=t,b=void 0,A()):x},k.postclip=function(t){return arguments.length?(M=t,w=r=i=o=null,A()):M},k.clipAngle=function(t){return arguments.length?(x=+t?Ts(b=t*_a):(b=null,Ss),A()):b*ma},k.clipExtent=function(t){return arguments.length?(M=null==t?(w=r=i=o=null,sl):Es(w=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==w?null:[[w,r],[i,o]]},k.scale=function(t){return arguments.length?(f=+t,T()):f},k.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],T()):[h,d]},k.center=function(t){return arguments.length?(p=t[0]%360*_a,v=t[1]%360*_a,T()):[p*ma,v*ma]},k.rotate=function(t){return arguments.length?(g=t[0]%360*_a,y=t[1]%360*_a,m=t.length>2?t[2]%360*_a:0,T()):[g*ma,y*ma,m*ma]},k.angle=function(t){return arguments.length?(_=t%360*_a,T()):_*ma},k.precision=function(t){return arguments.length?(u=mf(a,C=t*t),A()):La(C)},k.fitExtent=function(t,n){return hf(k,t,n)},k.fitSize=function(t,n){return df(k,t,n)},k.fitWidth=function(t,n){return pf(k,t,n)},k.fitHeight=function(t,n){return vf(k,t,n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&S,T()}}function Mf(t){var n=0,e=pa/3,r=wf(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*_a,e=t[1]*_a):[n*ma,e*ma]},i}function Cf(t,n){var e=Aa(t),r=(e+Aa(n))/2;if(ba(r)<da)return function(t){var n=Ma(t);function e(t,e){return[t*n,Aa(e)/n]}return e.invert=function(t,e){return[t/n,Da(e*n)]},e}(t);var i=1+e*(2*r-e),o=La(i)/r;function u(t,n){var e=La(i-2*r*Aa(n))/r;return[e*Aa(t*=r),o-e*Ma(t)]}return u.invert=function(t,n){var e=o-n;return[wa(t,ba(e))/r*Na(e),Da((i-(t*t+e*e)*r*r)/(2*r))]},u}var kf=function(){return Mf(Cf).scale(155.424).center([0,33.6442])},Sf=function(){return kf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Tf=function(){var t,n,e,r,i,o,u=Sf(),a=kf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=kf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){o=[t,n]}};function l(t){var n=t[0],u=t[1];return o=null,e.point(n,u),o||(r.point(n,u),o)||(i.point(n,u),o)}function f(){return t=n=null,l}return l.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},l.stream=function(e){return t&&n===e?t:(r=[u.stream(n=e),a.stream(e),c.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(u.precision(t),a.precision(t),c.precision(t),f()):u.precision()},l.scale=function(t){return arguments.length?(u.scale(t),a.scale(.35*t),c.scale(t),l.translate(u.translate())):u.scale()},l.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],l=+t[1];return e=u.translate(t).clipExtent([[o-.455*n,l-.238*n],[o+.455*n,l+.238*n]]).stream(s),r=a.translate([o-.307*n,l+.201*n]).clipExtent([[o-.425*n+da,l+.12*n+da],[o-.214*n-da,l+.234*n-da]]).stream(s),i=c.translate([o-.205*n,l+.212*n]).clipExtent([[o-.214*n+da,l+.166*n+da],[o-.115*n-da,l+.234*n-da]]).stream(s),f()},l.fitExtent=function(t,n){return hf(l,t,n)},l.fitSize=function(t,n){return df(l,t,n)},l.fitWidth=function(t,n){return pf(l,t,n)},l.fitHeight=function(t,n){return vf(l,t,n)},l.scale(1070)};function Af(t){return function(n,e){var r=Ma(n),i=Ma(e),o=t(r*i);return[o*i*Aa(n),o*Aa(e)]}}function Nf(t){return function(n,e){var r=La(n*n+e*e),i=t(r),o=Aa(i),u=Ma(i);return[wa(n*o,r*u),Da(r&&e*o/r)]}}var Lf=Af(function(t){return La(2/(1+t))});Lf.invert=Nf(function(t){return 2*Da(t/2)});var Ef=function(){return xf(Lf).scale(124.75).clipAngle(179.999)},Of=Af(function(t){return(t=Oa(t))&&t/Aa(t)});Of.invert=Nf(function(t){return t});var Df=function(){return xf(Of).scale(79.4188).clipAngle(179.999)};function Pf(t,n){return[t,Sa(Ea((va+n)/2))]}Pf.invert=function(t,n){return[t,2*xa(ka(n))-va]};var zf=function(){return Rf(Pf).scale(961/ya)};function Rf(t){var n,e,r,i=xf(t),o=i.center,u=i.scale,a=i.translate,c=i.clipExtent,s=null;function l(){var o=pa*u(),a=i(hs(i.rotate()).invert([0,0]));return c(null==s?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===Pf?[[Math.max(a[0]-o,s),n],[Math.min(a[0]+o,e),r]]:[[s,Math.max(a[1]-o,n)],[e,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(u(t),l()):u()},i.translate=function(t){return arguments.length?(a(t),l()):a()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?s=n=e=r=null:(s=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==s?null:[[s,n],[e,r]]},l()}function If(t){return Ea((va+t)/2)}function Ff(t,n){var e=Ma(t),r=t===n?Aa(t):Sa(e/Ma(n))/Sa(If(n)/If(t)),i=e*Ta(If(t),r)/r;if(!r)return Pf;function o(t,n){i>0?n<-va+da&&(n=-va+da):n>va-da&&(n=va-da);var e=i/Ta(If(n),r);return[e*Aa(r*t),i-e*Ma(r*t)]}return o.invert=function(t,n){var e=i-n,o=Na(r)*La(t*t+e*e);return[wa(t,ba(e))/r*Na(e),2*xa(Ta(i/o,1/r))-va]},o}var jf=function(){return Mf(Ff).scale(109.5).parallels([30,30])};function Wf(t,n){return[t,n]}Wf.invert=Wf;var Hf=function(){return xf(Wf).scale(152.63)};function Bf(t,n){var e=Ma(t),r=t===n?Aa(t):(e-Ma(n))/(n-t),i=e/r+t;if(ba(r)<da)return Wf;function o(t,n){var e=i-n,o=r*t;return[e*Aa(o),i-e*Ma(o)]}return o.invert=function(t,n){var e=i-n;return[wa(t,ba(e))/r*Na(e),i-Na(r)*La(t*t+e*e)]},o}var Uf=function(){return Mf(Bf).scale(131.154).center([0,13.9389])},qf=1.340264,Yf=-.081106,Gf=893e-6,Vf=.003796,$f=La(3)/2;function Xf(t,n){var e=Da($f*Aa(n)),r=e*e,i=r*r*r;return[t*Ma(e)/($f*(qf+3*Yf*r+i*(7*Gf+9*Vf*r))),e*(qf+Yf*r+i*(Gf+Vf*r))]}Xf.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,u=0;u<12&&(o=(i=(r-=e=(r*(qf+Yf*i+o*(Gf+Vf*i))-n)/(qf+3*Yf*i+o*(7*Gf+9*Vf*i)))*r)*i*i,!(ba(e)<1e-12));++u);return[$f*t*(qf+3*Yf*i+o*(7*Gf+9*Vf*i))/Ma(r),Da(Aa(r)/$f)]};var Kf=function(){return xf(Xf).scale(177.158)};function Zf(t,n){var e=Ma(n),r=Ma(t)*e;return[e*Aa(t)/r,Aa(n)/r]}Zf.invert=Nf(xa);var Qf=function(){return xf(Zf).scale(144.049).clipAngle(60)};function Jf(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?sl:sf({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}var th=function(){var t,n,e,r,i,o,u=1,a=0,c=0,s=1,l=1,f=sl,h=null,d=sl;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,sl):Es(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(f=Jf((u=+t)*s,u*l,a,c),p()):u},translate:function(t){return arguments.length?(f=Jf(u*s,u*l,a=+t[0],c=+t[1]),p()):[a,c]},reflectX:function(t){return arguments.length?(f=Jf(u*(s=t?-1:1),u*l,a,c),p()):s<0},reflectY:function(t){return arguments.length?(f=Jf(u*s,u*(l=t?-1:1),a,c),p()):l<0},fitExtent:function(t,n){return hf(o,t,n)},fitSize:function(t,n){return df(o,t,n)},fitWidth:function(t,n){return pf(o,t,n)},fitHeight:function(t,n){return vf(o,t,n)}}};function nh(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}nh.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(ba(e)>da&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var eh=function(){return xf(nh).scale(175.295)};function rh(t,n){return[Ma(n)*Aa(t),Aa(n)]}rh.invert=Nf(Da);var ih=function(){return xf(rh).scale(249.5).clipAngle(90+da)};function oh(t,n){var e=Ma(n),r=1+Ma(t)*e;return[e*Aa(t)/r,Aa(n)/r]}oh.invert=Nf(function(t){return 2*xa(t)});var uh=function(){return xf(oh).scale(250).clipAngle(142)};function ah(t,n){return[Sa(Ea((va+n)/2)),-t]}ah.invert=function(t,n){return[-n,2*xa(ka(t))-va]};var ch=function(){var t=Rf(ah),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)};function sh(t,n){return t.parent===n.parent?1:2}function lh(t,n){return t+n.x}function fh(t,n){return Math.max(t,n.y)}var hh=function(){var t=sh,n=1,e=1,r=!1;function i(i){var o,u=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(lh,0)/t.length}(e),n.y=function(t){return 1+t.reduce(fh,0)}(e)):(n.x=o?u+=t(n,o):0,n.y=0,o=n)});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(i),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),s=a.x-t(a,c)/2,l=c.x+t(c,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-s)/(l-s)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i};function dh(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function ph(t,n){var e,r,i,o,u,a=new mh(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=vh);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new mh(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(yh)}function vh(t){return t.children}function gh(t){t.data=t.data.data}function yh(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function mh(t){this.data=t,this.depth=this.height=0,this.parent=null}mh.prototype=ph.prototype={constructor:mh,count:function(){return this.eachAfter(dh)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return ph(this).eachBefore(gh)}};var _h=Array.prototype.slice;var bh=function(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(_h.call(t))).length,o=[];r<i;)n=t[r],e&&Mh(e,n)?++r:(e=kh(o=xh(o,n)),r=0);return e};function xh(t,n){var e,r;if(Ch(n,t))return[n];for(e=0;e<t.length;++e)if(wh(n,t[e])&&Ch(Sh(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(wh(Sh(t[e],t[r]),n)&&wh(Sh(t[e],n),t[r])&&wh(Sh(t[r],n),t[e])&&Ch(Th(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function wh(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Mh(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Ch(t,n){for(var e=0;e<n.length;++e)if(!Mh(t,n[e]))return!1;return!0}function kh(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return Sh(t[0],t[1]);case 3:return Th(t[0],t[1],t[2])}var n}function Sh(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,l=a-i,f=Math.sqrt(c*c+s*s);return{x:(e+o+c/f*l)/2,y:(r+u+s/f*l)/2,r:(f+i+a)/2}}function Th(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,l=e.y,f=e.r,h=r-u,d=r-s,p=i-a,v=i-l,g=c-o,y=f-o,m=r*r+i*i-o*o,_=m-u*u-a*a+c*c,b=m-s*s-l*l+f*f,x=d*p-h*v,w=(p*b-v*_)/(2*x)-r,M=(v*g-p*y)/x,C=(d*_-h*b)/(2*x)-i,k=(h*y-d*g)/x,S=M*M+k*k-1,T=2*(o+w*M+C*k),A=w*w+C*C-o*o,N=-(S?(T+Math.sqrt(T*T-4*S*A))/(2*S):A/T);return{x:r+w+M*N,y:i+C+k*N,r:N}}function Ah(t,n,e){var r,i,o,u,a=t.x-n.x,c=t.y-n.y,s=a*a+c*c;s?(i=n.r+e.r,i*=i,u=t.r+e.r,i>(u*=u)?(r=(s+u-i)/(2*s),o=Math.sqrt(Math.max(0,u/s-r*r)),e.x=t.x-r*a-o*c,e.y=t.y-r*c+o*a):(r=(s+i-u)/(2*s),o=Math.sqrt(Math.max(0,i/s-r*r)),e.x=n.x+r*a-o*c,e.y=n.y+r*c+o*a)):(e.x=n.x+e.r,e.y=n.y)}function Nh(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Lh(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Eh(t){this._=t,this.next=null,this.previous=null}function Oh(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,s,l,f;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Ah(e,n,r=t[2]),n=new Eh(n),e=new Eh(e),r=new Eh(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){Ah(n._,e._,r=t[a]),r=new Eh(r),c=e.next,s=n.previous,l=e._.r,f=n._.r;do{if(l<=f){if(Nh(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}l+=c._.r,c=c.next}else{if(Nh(s._,r._)){(n=s).next=e,e.previous=n,--a;continue t}f+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Lh(n);(r=r.next)!==e;)(u=Lh(r))<o&&(n=r,o=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=bh(n),a=0;a<i;++a)(n=t[a]).x-=r.x,n.y-=r.y;return r.r}var Dh=function(t){return Oh(t),t};function Ph(t){if("function"!=typeof t)throw new Error;return t}function zh(){return 0}var Rh=function(t){return function(){return t}};function Ih(t){return Math.sqrt(t.value)}var Fh=function(){var t=null,n=1,e=1,r=zh;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(jh(t)).eachAfter(Wh(r,.5)).eachBefore(Hh(1)):i.eachBefore(jh(Ih)).eachAfter(Wh(zh,1)).eachAfter(Wh(r,i.r/Math.min(n,e))).eachBefore(Hh(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=null==(e=n)?null:Ph(e),i):t;var e},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Rh(+t),i):r},i};function jh(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Wh(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=Oh(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function Hh(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var Bh=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Uh=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s},qh=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Uh(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,u=r.x1-e,a=r.y1-e;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=u,r.y1=a}}(n,o)),r&&i.eachBefore(Bh),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},Yh="$",Gh={depth:-1},Vh={};function $h(t){return t.id}function Xh(t){return t.parentId}var Kh=function(){var t=$h,n=Xh;function e(e){var r,i,o,u,a,c,s,l=e.length,f=new Array(l),h={};for(i=0;i<l;++i)r=e[i],a=f[i]=new mh(r),null!=(c=t(r,i,e))&&(c+="")&&(h[s=Yh+(a.id=c)]=s in h?Vh:a);for(i=0;i<l;++i)if(a=f[i],null!=(c=n(e[i],i,e))&&(c+="")){if(!(u=h[Yh+c]))throw new Error("missing: "+c);if(u===Vh)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Gh,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(yh),o.parent=null,l>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=Ph(n),e):t},e.parentId=function(t){return arguments.length?(n=Ph(t),e):n},e};function Zh(t,n){return t.parent===n.parent?1:2}function Qh(t){var n=t.children;return n?n[0]:t.t}function Jh(t){var n=t.children;return n?n[n.length-1]:t.t}function td(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function nd(t,n,e){return t.a.parent===n.parent?t.a:e}function ed(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}ed.prototype=Object.create(mh.prototype);var rd=function(){var t=Zh,n=1,e=1,r=null;function i(i){var c=function(t){for(var n,e,r,i,o,u=new ed(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new ed(r[i],i)),e.parent=n;return(u.parent=new ed(null,0)).children=[u],u}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(u),r)i.eachBefore(a);else{var s=i,l=i,f=i;i.eachBefore(function(t){t.x<s.x&&(s=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=s===l?1:t(s,l)/2,d=h-s.x,p=n/(l.x+h+d),v=e/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*v})}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,u=n,a=e,c=o.parent.children[0],s=o.m,l=u.m,f=a.m,h=c.m;a=Jh(a),o=Qh(o),a&&o;)c=Qh(c),(u=Jh(u)).a=n,(i=a.z+f-o.z-s+t(a._,o._))>0&&(td(nd(a,n,r),n,i),s+=i,l+=i),f+=a.m,s+=o.m,h+=c.m,l+=u.m;a&&!Jh(u)&&(u.t=a,u.m+=f-l),o&&!Qh(c)&&(c.t=o,c.m+=s-h,r=n)}return r}(n,i,n.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},id=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s},od=(1+Math.sqrt(5))/2;function ud(t,n,e,r,i,o){for(var u,a,c,s,l,f,h,d,p,v,g,y=[],m=n.children,_=0,b=0,x=m.length,w=n.value;_<x;){c=i-e,s=o-r;do{l=m[b++].value}while(!l&&b<x);for(f=h=l,g=l*l*(v=Math.max(s/c,c/s)/(w*t)),p=Math.max(h/g,g/f);b<x;++b){if(l+=a=m[b].value,a<f&&(f=a),a>h&&(h=a),g=l*l*v,(d=Math.max(h/g,g/f))>p){l-=a;break}p=d}y.push(u={value:l,dice:c<s,children:m.slice(_,b)}),u.dice?Uh(u,e,r,i,w?r+=s*l/w:o):id(u,e,r,w?e+=c*l/w:i,o),w-=l,_=b}return y}var ad=function t(n){function e(t,e,r,i,o){ud(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(od),cd=function(){var t=ad,n=!1,e=1,r=1,i=[0],o=zh,u=zh,a=zh,c=zh,s=zh;function l(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(f),i=[0],n&&t.eachBefore(Bh),t}function f(n){var e=i[n.depth],r=n.x0+e,l=n.y0+e,f=n.x1-e,h=n.y1-e;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),n.x0=r,n.y0=l,n.x1=f,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=s(n)-e,l+=u(n)-e,(f-=a(n)-e)<r&&(r=f=(r+f)/2),(h-=c(n)-e)<l&&(l=h=(l+h)/2),t(n,r,l,f,h))}return l.round=function(t){return arguments.length?(n=!!t,l):n},l.size=function(t){return arguments.length?(e=+t[0],r=+t[1],l):[e,r]},l.tile=function(n){return arguments.length?(t=Ph(n),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Rh(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:Rh(+t),l):u},l.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:Rh(+t),l):a},l.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:Rh(+t),l):c},l.paddingLeft=function(t){return arguments.length?(s="function"==typeof t?t:Rh(+t),l):s},l},sd=function(t,n,e,r,i){var o,u,a=t.children,c=a.length,s=new Array(c+1);for(s[0]=u=o=0;o<c;++o)s[o+1]=u+=a[o].value;!function t(n,e,r,i,o,u,c){if(n>=e-1){var l=a[n];return l.x0=i,l.y0=o,l.x1=u,void(l.y1=c)}var f=s[n],h=r/2+f,d=n+1,p=e-1;for(;d<p;){var v=d+p>>>1;s[v]<h?d=v+1:p=v}h-s[d-1]<s[d]-h&&n+1<d&&--d;var g=s[d]-f,y=r-g;if(u-i>c-o){var m=(i*y+u*g)/r;t(n,d,g,i,o,m,c),t(d,e,y,m,o,u,c)}else{var _=(o*y+c*g)/r;t(n,d,g,i,o,u,_),t(d,e,y,i,_,u,c)}}(0,c,t.value,n,e,r,i)},ld=function(t,n,e,r,i){(1&t.depth?id:Uh)(t,n,e,r,i)},fd=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,l,f=-1,h=u.length,d=t.value;++f<h;){for(c=(a=u[f]).children,s=a.value=0,l=c.length;s<l;++s)a.value+=c[s].value;a.dice?Uh(a,e,r,i,r+=(o-r)*a.value/d):id(a,e,r,e+=(i-e)*a.value/d,o),d-=a.value}else t._squarify=u=ud(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(od),hd=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},dd=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[o/(c*=3),u/c]},pd=function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])};function vd(t,n){return t[0]-n[0]||t[1]-n[1]}function gd(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&pd(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}var yd=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(vd),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=gd(r),u=gd(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},md=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],l=!1,f=0;f<i;++f)e=(o=t[f])[0],(r=o[1])>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(l=!l),c=e,s=r;return l},_d=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.sqrt(n*n+e*e);return c},bd=function(){return Math.random()},xd=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(bd),wd=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(bd),Md=function t(n){function e(){var t=wd.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(bd),Cd=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(bd),kd=function t(n){function e(t){var e=Cd.source(n)(t);return function(){return e()/t}}return e.source=t,e}(bd),Sd=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(bd);function Td(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Ad(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}var Nd=Array.prototype,Ld=Nd.map,Ed=Nd.slice,Od={name:"implicit"};function Dd(){var t=eo(),n=[],e=[],r=Od;function i(i){var o=i+"",u=t.get(o);if(!u){if(r!==Od)return r;t.set(o,u=n.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=eo();for(var r,o,u=-1,a=e.length;++u<a;)t.has(o=(r=e[u])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Ed.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Dd(n,e).unknown(r)},Td.apply(i,arguments),i}function Pd(){var t,n,e=Dd().unknown(void 0),i=e.domain,o=e.range,u=[0,1],a=!1,c=0,s=0,l=.5;function f(){var e=i().length,f=u[1]<u[0],h=u[f-0],d=u[1-f];t=(d-h)/Math.max(1,e-c+2*s),a&&(t=Math.floor(t)),h+=(d-h-t*(e-c))*l,n=t*(1-c),a&&(h=Math.round(h),n=Math.round(n));var p=Object(r.s)(e).map(function(n){return h+t*n});return o(f?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(i(t),f()):i()},e.range=function(t){return arguments.length?(u=[+t[0],+t[1]],f()):u.slice()},e.rangeRound=function(t){return u=[+t[0],+t[1]],a=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,f()):a},e.padding=function(t){return arguments.length?(c=Math.min(1,s=+t),f()):c},e.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),f()):c},e.paddingOuter=function(t){return arguments.length?(s=+t,f()):s},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),f()):l},e.copy=function(){return Pd(i(),u).round(a).paddingInner(c).paddingOuter(s).align(l)},Td.apply(f(),arguments)}function zd(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(Pd.apply(null,arguments).paddingInner(1))}var Rd=function(t){return function(){return t}},Id=function(t){return+t},Fd=[0,1];function jd(t){return t}function Wd(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Rd(isNaN(n)?NaN:.5)}function Hd(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Bd(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Wd(i,r),o=e(u,o)):(r=Wd(r,i),o=e(o,u)),function(t){return o(r(t))}}function Ud(t,n,e){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=Wd(t[a],t[a+1]),u[a]=e(n[a],n[a+1]);return function(n){var e=Object(r.b)(t,n,1,i)-1;return u[e](o[e](n))}}function qd(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yd(){var t,n,e,r,i,o,u=Fd,a=Fd,c=ue,s=jd;function l(){return r=Math.min(u.length,a.length)>2?Ud:Bd,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),a,c)))(t(s(n)))}return f.invert=function(e){return s(n((o||(o=r(a,u.map(t),Zn)))(e)))},f.domain=function(t){return arguments.length?(u=Ld.call(t,Id),s===jd||(s=Hd(u)),l()):u.slice()},f.range=function(t){return arguments.length?(a=Ed.call(t),l()):a.slice()},f.rangeRound=function(t){return a=Ed.call(t),c=se,l()},f.clamp=function(t){return arguments.length?(s=t?Hd(u):jd,f):s!==jd},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function Gd(t,n){return Yd()(t,n)}var Vd=function(t,n,e,i){var o,u=Object(r.A)(t,n,e);switch((i=Vu(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(o=aa(u,a))||(i.precision=o),Qu(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=ca(u,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=ua(u))||(i.precision=o-2*("%"===i.type))}return Zu(i)};function $d(t){var n=t.domain;return t.ticks=function(t){var e=n();return Object(r.B)(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Vd(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var i,o=n(),u=0,a=o.length-1,c=o[u],s=o[a];return s<c&&(i=c,c=s,s=i,i=u,u=a,a=i),(i=Object(r.z)(c,s,e))>0?(c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i,i=Object(r.z)(c,s,e)):i<0&&(c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i,i=Object(r.z)(c,s,e)),i>0?(o[u]=Math.floor(c/i)*i,o[a]=Math.ceil(s/i)*i,n(o)):i<0&&(o[u]=Math.ceil(c*i)/i,o[a]=Math.floor(s*i)/i,n(o)),t},t}function Xd(){var t=Gd(jd,jd);return t.copy=function(){return qd(t,Xd())},Td.apply(t,arguments),$d(t)}function Kd(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Ld.call(n,Id),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Kd(t).unknown(n)},t=arguments.length?Ld.call(t,Id):[0,1],$d(e)}var Zd=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t};function Qd(t){return Math.log(t)}function Jd(t){return Math.exp(t)}function tp(t){return-Math.log(-t)}function np(t){return-Math.exp(-t)}function ep(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rp(t){return function(n){return-t(-n)}}function ip(t){var n,e,i=t(Qd,Jd),o=i.domain,u=10;function a(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(u),e=function(t){return 10===t?ep:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(u),o()[0]<0?(n=rp(n),e=rp(e),t(tp,np)):t(Qd,Jd),i}return i.base=function(t){return arguments.length?(u=+t,a()):u},i.domain=function(t){return arguments.length?(o(t),a()):o()},i.ticks=function(t){var i,a=o(),c=a[0],s=a[a.length-1];(i=s<c)&&(d=c,c=s,s=d);var l,f,h,d=n(c),p=n(s),v=null==t?10:+t,g=[];if(!(u%1)&&p-d<v){if(d=Math.round(d)-1,p=Math.round(p)+1,c>0){for(;d<p;++d)for(f=1,l=e(d);f<u;++f)if(!((h=l*f)<c)){if(h>s)break;g.push(h)}}else for(;d<p;++d)for(f=u-1,l=e(d);f>=1;--f)if(!((h=l*f)<c)){if(h>s)break;g.push(h)}}else g=Object(r.B)(d,p,Math.min(p-d,v)).map(e);return i?g.reverse():g},i.tickFormat=function(t,r){if(null==r&&(r=10===u?".0e":","),"function"!=typeof r&&(r=Zu(r)),t===1/0)return r;null==t&&(t=10);var o=Math.max(1,u*t/i.ticks().length);return function(t){var i=t/e(Math.round(n(t)));return i*u<u-.5&&(i*=u),i<=o?r(t):""}},i.nice=function(){return o(Zd(o(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},i}function op(){var t=ip(Yd()).domain([1,10]);return t.copy=function(){return qd(t,op()).base(t.base())},Td.apply(t,arguments),t}function up(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function ap(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function cp(t){var n=1,e=t(up(n),ap(n));return e.constant=function(e){return arguments.length?t(up(n=+e),ap(n)):n},$d(e)}function sp(){var t=cp(Yd());return t.copy=function(){return qd(t,sp()).constant(t.constant())},Td.apply(t,arguments)}function lp(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function fp(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hp(t){return t<0?-t*t:t*t}function dp(t){var n=t(jd,jd),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(jd,jd):.5===e?t(fp,hp):t(lp(e),lp(1/e)):e},$d(n)}function pp(){var t=dp(Yd());return t.copy=function(){return qd(t,pp()).exponent(t.exponent())},Td.apply(t,arguments),t}function vp(){return pp.apply(null,arguments).exponent(.5)}function gp(){var t,n=[],e=[],i=[];function o(){var t=0,o=Math.max(1,e.length);for(i=new Array(o-1);++t<o;)i[t-1]=Object(r.r)(n,t/o);return u}function u(n){return isNaN(n=+n)?t:e[Object(r.b)(i,n)]}return u.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},u.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,i=0,u=t.length;i<u;++i)null==(e=t[i])||isNaN(e=+e)||n.push(e);return n.sort(r.a),o()},u.range=function(t){return arguments.length?(e=Ed.call(t),o()):e.slice()},u.unknown=function(n){return arguments.length?(t=n,u):t},u.quantiles=function(){return i.slice()},u.copy=function(){return gp().domain(n).range(e).unknown(t)},Td.apply(u,arguments)}function yp(){var t,n=0,e=1,i=1,o=[.5],u=[0,1];function a(n){return n<=n?u[Object(r.b)(o,n,0,i)]:t}function c(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*e-(t-i)*n)/(i+1);return a}return a.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],c()):[n,e]},a.range=function(t){return arguments.length?(i=(u=Ed.call(t)).length-1,c()):u.slice()},a.invertExtent=function(t){var r=u.indexOf(t);return r<0?[NaN,NaN]:r<1?[n,o[0]]:r>=i?[o[i-1],e]:[o[r-1],o[r]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return o.slice()},a.copy=function(){return yp().domain([n,e]).range(u).unknown(t)},Td.apply($d(a),arguments)}function mp(){var t,n=[.5],e=[0,1],i=1;function o(o){return o<=o?e[Object(r.b)(n,o,0,i)]:t}return o.domain=function(t){return arguments.length?(n=Ed.call(t),i=Math.min(n.length,e.length-1),o):n.slice()},o.range=function(t){return arguments.length?(e=Ed.call(t),i=Math.min(n.length,e.length-1),o):e.slice()},o.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},o.unknown=function(n){return arguments.length?(t=n,o):t},o.copy=function(){return mp().domain(n).range(e).unknown(t)},Td.apply(o,arguments)}var _p=new Date,bp=new Date;function xp(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return xp(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return _p.setTime(+n),bp.setTime(+r),t(_p),t(bp),Math.floor(e(_p,bp))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var wp=xp(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});wp.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?xp(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):wp:null};var Mp=wp,Cp=wp.range,kp=6e4,Sp=6048e5,Tp=xp(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Ap=Tp,Np=Tp.range,Lp=xp(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+n*kp)},function(t,n){return(n-t)/kp},function(t){return t.getMinutes()}),Ep=Lp,Op=Lp.range,Dp=xp(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*kp)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Pp=Dp,zp=Dp.range,Rp=xp(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*kp)/864e5},function(t){return t.getDate()-1}),Ip=Rp,Fp=Rp.range;function jp(t){return xp(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*kp)/Sp})}var Wp=jp(0),Hp=jp(1),Bp=jp(2),Up=jp(3),qp=jp(4),Yp=jp(5),Gp=jp(6),Vp=Wp.range,$p=Hp.range,Xp=Bp.range,Kp=Up.range,Zp=qp.range,Qp=Yp.range,Jp=Gp.range,tv=xp(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),nv=tv,ev=tv.range,rv=xp(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});rv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xp(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var iv=rv,ov=rv.range,uv=xp(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*kp)},function(t,n){return(n-t)/kp},function(t){return t.getUTCMinutes()}),av=uv,cv=uv.range,sv=xp(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),lv=sv,fv=sv.range,hv=xp(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),dv=hv,pv=hv.range;function vv(t){return xp(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Sp})}var gv=vv(0),yv=vv(1),mv=vv(2),_v=vv(3),bv=vv(4),xv=vv(5),wv=vv(6),Mv=gv.range,Cv=yv.range,kv=mv.range,Sv=_v.range,Tv=bv.range,Av=xv.range,Nv=wv.range,Lv=xp(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ev=Lv,Ov=Lv.range,Dv=xp(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Dv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xp(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Pv=Dv,zv=Dv.range;function Rv(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Iv(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fv(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function jv(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,s=Zv(i),l=Qv(i),f=Zv(o),h=Qv(o),d=Zv(u),p=Qv(u),v=Zv(a),g=Qv(a),y=Zv(c),m=Qv(c),_={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:mg,e:mg,f:Mg,H:_g,I:bg,j:xg,L:wg,m:Cg,M:kg,p:function(t){return i[+(t.getHours()>=12)]},Q:Jg,s:ty,S:Sg,u:Tg,U:Ag,V:Ng,w:Lg,W:Eg,x:null,X:null,y:Og,Y:Dg,Z:Pg,"%":Qg},b={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:zg,e:zg,f:Wg,H:Rg,I:Ig,j:Fg,L:jg,m:Hg,M:Bg,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:Jg,s:ty,S:Ug,u:qg,U:Yg,V:Gg,w:Vg,W:$g,x:null,X:null,y:Xg,Y:Kg,Z:Zg,"%":Qg},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return C(t,n,e,r)},d:cg,e:cg,f:pg,H:lg,I:lg,j:sg,L:dg,m:ag,M:fg,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:gg,s:yg,S:hg,u:tg,U:ng,V:eg,w:Jv,W:rg,x:function(t,n,r){return C(t,e,n,r)},X:function(t,n,e){return C(t,r,n,e)},y:og,Y:ig,Z:ug,"%":vg};function w(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Yv[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function M(t,n){return function(e){var r,i,o=Fv(1900);if(C(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Iv(Fv(o.y))).getUTCDay(),r=i>4||0===i?yv.ceil(r):yv(r),r=dv.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=n(Fv(o.y))).getDay(),r=i>4||0===i?Hp.ceil(r):Hp(r),r=Ip.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Iv(Fv(o.y)).getUTCDay():n(Fv(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Iv(o)):n(o)}}function C(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=x[i in Yv?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return _.x=w(e,_),_.X=w(r,_),_.c=w(n,_),b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),{format:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Rv);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,Iv);return n.toString=function(){return t},n}}}var Wv,Hv,Bv,Uv,qv,Yv={"-":"",_:" ",0:"0"},Gv=/^\s*\d+/,Vv=/^%/,$v=/[\\^$*+?|[\]().{}]/g;function Xv(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Kv(t){return t.replace($v,"\\$&")}function Zv(t){return new RegExp("^(?:"+t.map(Kv).join("|")+")","i")}function Qv(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Jv(t,n,e){var r=Gv.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function tg(t,n,e){var r=Gv.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function ng(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function eg(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function rg(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function ig(t,n,e){var r=Gv.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function og(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ug(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ag(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function cg(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function sg(t,n,e){var r=Gv.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function lg(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function fg(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function hg(t,n,e){var r=Gv.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function dg(t,n,e){var r=Gv.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function pg(t,n,e){var r=Gv.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function vg(t,n,e){var r=Vv.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function gg(t,n,e){var r=Gv.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function yg(t,n,e){var r=Gv.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function mg(t,n){return Xv(t.getDate(),n,2)}function _g(t,n){return Xv(t.getHours(),n,2)}function bg(t,n){return Xv(t.getHours()%12||12,n,2)}function xg(t,n){return Xv(1+Ip.count(iv(t),t),n,3)}function wg(t,n){return Xv(t.getMilliseconds(),n,3)}function Mg(t,n){return wg(t,n)+"000"}function Cg(t,n){return Xv(t.getMonth()+1,n,2)}function kg(t,n){return Xv(t.getMinutes(),n,2)}function Sg(t,n){return Xv(t.getSeconds(),n,2)}function Tg(t){var n=t.getDay();return 0===n?7:n}function Ag(t,n){return Xv(Wp.count(iv(t),t),n,2)}function Ng(t,n){var e=t.getDay();return t=e>=4||0===e?qp(t):qp.ceil(t),Xv(qp.count(iv(t),t)+(4===iv(t).getDay()),n,2)}function Lg(t){return t.getDay()}function Eg(t,n){return Xv(Hp.count(iv(t),t),n,2)}function Og(t,n){return Xv(t.getFullYear()%100,n,2)}function Dg(t,n){return Xv(t.getFullYear()%1e4,n,4)}function Pg(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Xv(n/60|0,"0",2)+Xv(n%60,"0",2)}function zg(t,n){return Xv(t.getUTCDate(),n,2)}function Rg(t,n){return Xv(t.getUTCHours(),n,2)}function Ig(t,n){return Xv(t.getUTCHours()%12||12,n,2)}function Fg(t,n){return Xv(1+dv.count(Pv(t),t),n,3)}function jg(t,n){return Xv(t.getUTCMilliseconds(),n,3)}function Wg(t,n){return jg(t,n)+"000"}function Hg(t,n){return Xv(t.getUTCMonth()+1,n,2)}function Bg(t,n){return Xv(t.getUTCMinutes(),n,2)}function Ug(t,n){return Xv(t.getUTCSeconds(),n,2)}function qg(t){var n=t.getUTCDay();return 0===n?7:n}function Yg(t,n){return Xv(gv.count(Pv(t),t),n,2)}function Gg(t,n){var e=t.getUTCDay();return t=e>=4||0===e?bv(t):bv.ceil(t),Xv(bv.count(Pv(t),t)+(4===Pv(t).getUTCDay()),n,2)}function Vg(t){return t.getUTCDay()}function $g(t,n){return Xv(yv.count(Pv(t),t),n,2)}function Xg(t,n){return Xv(t.getUTCFullYear()%100,n,2)}function Kg(t,n){return Xv(t.getUTCFullYear()%1e4,n,4)}function Zg(){return"+0000"}function Qg(){return"%"}function Jg(t){return+t}function ty(t){return Math.floor(+t/1e3)}function ny(t){return Wv=jv(t),Hv=Wv.format,Bv=Wv.parse,Uv=Wv.utcFormat,qv=Wv.utcParse,Wv}ny({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ey=Date.prototype.toISOString?function(t){return t.toISOString()}:Uv("%Y-%m-%dT%H:%M:%S.%LZ");var ry=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:qv("%Y-%m-%dT%H:%M:%S.%LZ"),iy=1e3,oy=60*iy,uy=60*oy,ay=24*uy,cy=7*ay,sy=30*ay,ly=365*ay;function fy(t){return new Date(t)}function hy(t){return t instanceof Date?+t:+new Date(+t)}function dy(t,n,e,i,o,u,a,c,s){var l=Gd(jd,jd),f=l.invert,h=l.domain,d=s(".%L"),p=s(":%S"),v=s("%I:%M"),g=s("%I %p"),y=s("%a %d"),m=s("%b %d"),_=s("%B"),b=s("%Y"),x=[[a,1,iy],[a,5,5*iy],[a,15,15*iy],[a,30,30*iy],[u,1,oy],[u,5,5*oy],[u,15,15*oy],[u,30,30*oy],[o,1,uy],[o,3,3*uy],[o,6,6*uy],[o,12,12*uy],[i,1,ay],[i,2,2*ay],[e,1,cy],[n,1,sy],[n,3,3*sy],[t,1,ly]];function w(r){return(a(r)<r?d:u(r)<r?p:o(r)<r?v:i(r)<r?g:n(r)<r?e(r)<r?y:m:t(r)<r?_:b)(r)}function M(n,e,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-e)/n,a=Object(r.e)(function(t){return t[2]}).right(x,u);a===x.length?(o=Object(r.A)(e/ly,i/ly,n),n=t):a?(o=(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a])[1],n=a[0]):(o=Math.max(Object(r.A)(e,i,n),1),n=c)}return null==o?n:n.every(o)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Ld.call(t,hy)):h().map(fy)},l.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=(e=M(t,i,o,n))?e.range(i,o+1):[],u?e.reverse():e},l.tickFormat=function(t,n){return null==n?w:s(n)},l.nice=function(t,n){var e=h();return(t=M(t,e[0],e[e.length-1],n))?h(Zd(e,t)):l},l.copy=function(){return qd(l,dy(t,n,e,i,o,u,a,c,s))},l}var py=function(){return Td.apply(dy(iv,nv,Wp,Ip,Pp,Ep,Ap,Mp,Hv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},vy=function(){return Td.apply(dy(Pv,Ev,gv,dv,lv,av,Ap,Mp,Uv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function gy(){var t,n,e,r,i,o=0,u=1,a=jd,c=!1;function s(n){return isNaN(n=+n)?i:a(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}return s.domain=function(i){return arguments.length?(t=r(o=+i[0]),n=r(u=+i[1]),e=t===n?0:1/(n-t),s):[o,u]},s.clamp=function(t){return arguments.length?(c=!!t,s):c},s.interpolator=function(t){return arguments.length?(a=t,s):a},s.unknown=function(t){return arguments.length?(i=t,s):i},function(i){return r=i,t=i(o),n=i(u),e=t===n?0:1/(n-t),s}}function yy(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function my(){var t=$d(gy()(jd));return t.copy=function(){return yy(t,my())},Ad.apply(t,arguments)}function _y(){var t=ip(gy()).domain([1,10]);return t.copy=function(){return yy(t,_y()).base(t.base())},Ad.apply(t,arguments)}function by(){var t=cp(gy());return t.copy=function(){return yy(t,by()).constant(t.constant())},Ad.apply(t,arguments)}function xy(){var t=dp(gy());return t.copy=function(){return yy(t,xy()).exponent(t.exponent())},Ad.apply(t,arguments)}function wy(){return xy.apply(null,arguments).exponent(.5)}function My(){var t=[],n=jd;function e(e){if(!isNaN(e=+e))return n((Object(r.b)(t,e)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var i,o=0,u=n.length;o<u;++o)null==(i=n[o])||isNaN(i=+i)||t.push(i);return t.sort(r.a),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return My(n).domain(t)},Ad.apply(e,arguments)}function Cy(){var t,n,e,r,i,o,u,a=0,c=.5,s=1,l=jd,f=!1;function h(t){return isNaN(t=+t)?u:(t=.5+((t=+o(t))-n)*(t<n?r:i),l(f?Math.max(0,Math.min(1,t)):t))}return h.domain=function(u){return arguments.length?(t=o(a=+u[0]),n=o(c=+u[1]),e=o(s=+u[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[a,c,s]},h.clamp=function(t){return arguments.length?(f=!!t,h):f},h.interpolator=function(t){return arguments.length?(l=t,h):l},h.unknown=function(t){return arguments.length?(u=t,h):u},function(u){return o=u,t=u(a),n=u(c),e=u(s),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function ky(){var t=$d(Cy()(jd));return t.copy=function(){return yy(t,ky())},Ad.apply(t,arguments)}function Sy(){var t=ip(Cy()).domain([.1,1,10]);return t.copy=function(){return yy(t,Sy()).base(t.base())},Ad.apply(t,arguments)}function Ty(){var t=cp(Cy());return t.copy=function(){return yy(t,Ty()).constant(t.constant())},Ad.apply(t,arguments)}function Ay(){var t=dp(Cy());return t.copy=function(){return yy(t,Ay()).exponent(t.exponent())},Ad.apply(t,arguments)}function Ny(){return Ay.apply(null,arguments).exponent(.5)}var Ly=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},Ey=Ly("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Oy=Ly("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dy=Ly("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Py=Ly("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),zy=Ly("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ry=Ly("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Iy=Ly("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Fy=Ly("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),jy=Ly("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Wy=function(t){return Vn(t[t.length-1])},Hy=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ly),By=Wy(Hy),Uy=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ly),qy=Wy(Uy),Yy=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ly),Gy=Wy(Yy),Vy=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ly),$y=Wy(Vy),Xy=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ly),Ky=Wy(Xy),Zy=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ly),Qy=Wy(Zy),Jy=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ly),tm=Wy(Jy),nm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ly),em=Wy(nm),rm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ly),im=Wy(rm),om=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ly),um=Wy(om),am=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ly),cm=Wy(am),sm=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ly),lm=Wy(sm),fm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ly),hm=Wy(fm),dm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ly),pm=Wy(dm),vm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ly),gm=Wy(vm),ym=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ly),mm=Wy(ym),_m=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ly),bm=Wy(_m),xm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ly),wm=Wy(xm),Mm=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ly),Cm=Wy(Mm),km=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ly),Sm=Wy(km),Tm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ly),Am=Wy(Tm),Nm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ly),Lm=Wy(Nm),Em=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ly),Om=Wy(Em),Dm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ly),Pm=Wy(Dm),zm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ly),Rm=Wy(zm),Im=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ly),Fm=Wy(Im),jm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ly),Wm=Wy(jm),Hm=Ae(zn(300,.5,0),zn(-240,.5,1)),Bm=Ae(zn(-100,.75,.35),zn(80,1.5,.8)),Um=Ae(zn(260,.75,.35),zn(80,1.5,.8)),qm=zn(),Ym=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return qm.h=360*t-100,qm.s=1.5-1.5*n,qm.l=.8-.9*n,qm+""},Gm=tn(),Vm=Math.PI/3,$m=2*Math.PI/3,Xm=function(t){var n;return t=(.5-t)*Math.PI,Gm.r=255*(n=Math.sin(t))*n,Gm.g=255*(n=Math.sin(t+Vm))*n,Gm.b=255*(n=Math.sin(t+$m))*n,Gm+""};function Km(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var Zm=Km(Ly("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Qm=Km(Ly("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jm=Km(Ly("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),t_=Km(Ly("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),n_=e(4),e_=function(t){return function(){return t}};function r_(t){return t[0]}function i_(t){return t[1]}function o_(){this._=null}function u_(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function a_(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function c_(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function s_(t){for(;t.L;)t=t.L;return t}o_.prototype={constructor:o_,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=s_(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(a_(this,e),e=(t=e).U),e.C=!1,r.C=!0,c_(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(c_(this,e),e=(t=e).U),e.C=!1,r.C=!0,a_(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?s_(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,a_(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,c_(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,a_(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,c_(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,a_(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,c_(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var l_=o_;function f_(t,n,e,r){var i=[null,null],o=z_.push(i)-1;return i.left=t,i.right=n,e&&d_(i,t,n,e),r&&d_(i,n,t,r),D_[t.index].halfedges.push(o),D_[n.index].halfedges.push(o),i}function h_(t,n,e){var r=[n,e];return r.left=t,r}function d_(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function p_(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],l=0,f=1,h=a[0]-c,d=a[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=e-s,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>l&&(l=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(t[0]=[c+l*h,s+l*d]),f<1&&(t[1]=[c+f*h,s+f*d]),!0)}}}}}function v_(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,l=t.right,f=s[0],h=s[1],d=l[0],p=l[1],v=(f+d)/2,g=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(f>d){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(a=g-(u=(f-d)/(p-h))*v,u<-1||u>1)if(f>d){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function g_(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function y_(t,n){return n[+(n.left!==t.site)]}function m_(t,n){return n[+(n.left===t.site)]}var __,b_=[];function x_(){u_(this),this.x=this.y=this.arc=this.site=this.cy=null}function w_(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,l=o[0]-u,f=o[1]-a,h=2*(c*f-s*l);if(!(h>=-I_)){var d=c*c+s*s,p=l*l+f*f,v=(f*d-s*p)/h,g=(c*p-l*d)/h,y=b_.pop()||new x_;y.arc=t,y.site=i,y.x=v+u,y.y=(y.cy=g+a)+Math.sqrt(v*v+g*g),t.circle=y;for(var m=null,_=P_._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}P_.insert(m,y),m||(__=y)}}}}function M_(t){var n=t.circle;n&&(n.P||(__=n.N),P_.remove(n),b_.push(n),u_(n),t.circle=null)}var C_=[];function k_(){u_(this),this.edge=this.site=this.circle=null}function S_(t){var n=C_.pop()||new k_;return n.site=t,n}function T_(t){M_(t),O_.remove(t),C_.push(t),u_(t)}function A_(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];T_(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<R_&&Math.abs(r-c.circle.cy)<R_;)o=c.P,a.unshift(c),T_(c),c=o;a.unshift(c),M_(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<R_&&Math.abs(r-s.circle.cy)<R_;)u=s.N,a.push(s),T_(s),s=u;a.push(s),M_(s);var l,f=a.length;for(l=1;l<f;++l)s=a[l],c=a[l-1],d_(s.edge,c.site,s.site,i);c=a[0],(s=a[f-1]).edge=f_(c.site,s.site,null,i),w_(c),w_(s)}function N_(t){for(var n,e,r,i,o=t[0],u=t[1],a=O_._;a;)if((r=L_(a,u)-o)>R_)a=a.L;else{if(!((i=o-E_(a,u))>R_)){r>-R_?(n=a.P,e=a):i>-R_?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}!function(t){D_[t.index]={site:t,halfedges:[]}}(t);var c=S_(t);if(O_.insert(n,c),n||e){if(n===e)return M_(n),e=S_(n.site),O_.insert(c,e),c.edge=e.edge=f_(n.site,c.site),w_(n),void w_(e);if(e){M_(n),M_(e);var s=n.site,l=s[0],f=s[1],h=t[0]-l,d=t[1]-f,p=e.site,v=p[0]-l,g=p[1]-f,y=2*(h*g-d*v),m=h*h+d*d,_=v*v+g*g,b=[(g*m-d*_)/y+l,(h*_-v*m)/y+f];d_(e.edge,s,p,b),c.edge=f_(s,t,null,b),e.edge=f_(t,p,null,b),w_(n),w_(e)}else c.edge=f_(n.site,c.site)}}function L_(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],s=c-n;if(!s)return a;var l=a-r,f=1/o-1/s,h=l/s;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*s)-c+s/2+i-o/2)))/f+r:(r+a)/2}function E_(t,n){var e=t.N;if(e)return L_(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var O_,D_,P_,z_,R_=1e-6,I_=1e-12;function F_(t,n){return n[1]-t[1]||n[0]-t[0]}function j_(t,n){var e,r,i,o=t.sort(F_).pop();for(z_=[],D_=new Array(t.length),O_=new l_,P_=new l_;;)if(i=__,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(N_(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;A_(i.arc)}if(function(){for(var t,n,e,r,i=0,o=D_.length;i<o;++i)if((t=D_[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=g_(t,z_[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];!function(t,n,e,r){for(var i,o=z_.length;o--;)v_(i=z_[o],t,n,e,r)&&p_(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>R_||Math.abs(i[0][1]-i[1][1])>R_)||delete z_[o]}(u,a,c,s),function(t,n,e,r){var i,o,u,a,c,s,l,f,h,d,p,v,g=D_.length,y=!0;for(i=0;i<g;++i)if(o=D_[i]){for(u=o.site,a=(c=o.halfedges).length;a--;)z_[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)p=(d=m_(o,z_[c[a]]))[0],v=d[1],f=(l=y_(o,z_[c[++a%s]]))[0],h=l[1],(Math.abs(p-f)>R_||Math.abs(v-h)>R_)&&(c.splice(a,0,z_.push(h_(u,d,Math.abs(p-t)<R_&&r-v>R_?[t,Math.abs(f-t)<R_?h:r]:Math.abs(v-r)<R_&&e-p>R_?[Math.abs(h-r)<R_?f:e,r]:Math.abs(p-e)<R_&&v-n>R_?[e,Math.abs(f-e)<R_?h:n]:Math.abs(v-n)<R_&&p-t>R_?[Math.abs(h-n)<R_?f:t,n]:null))-1),++s);s&&(y=!1)}if(y){var m,_,b,x=1/0;for(i=0,y=null;i<g;++i)(o=D_[i])&&(b=(m=(u=o.site)[0]-t)*m+(_=u[1]-n)*_)<x&&(x=b,y=o);if(y){var w=[t,n],M=[t,r],C=[e,r],k=[e,n];y.halfedges.push(z_.push(h_(u=y.site,w,M))-1,z_.push(h_(u,M,C))-1,z_.push(h_(u,C,k))-1,z_.push(h_(u,k,w))-1)}}for(i=0;i<g;++i)(o=D_[i])&&(o.halfedges.length||delete D_[i])}(u,a,c,s)}this.edges=z_,this.cells=D_,O_=P_=z_=D_=null}j_.prototype={constructor:j_,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return y_(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a,c,s,l=e.site,f=-1,h=n[i[o-1]],d=h.left===l?h.right:h.left;++f<o;)u=d,d=(h=n[i[f]]).left===l?h.right:h.left,u&&d&&r<u.index&&r<d.index&&(c=u,s=d,((a=l)[0]-s[0])*(c[1]-a[1])-(a[0]-c[0])*(s[1]-a[1])<0)&&t.push([l.data,u.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],l=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],f=c*c+s*s;f<l&&(l=f,u=a.index)}})}while(null!==u);return o._found=r,null==e||l<=e*e?i.site:null}};var W_=function(){var t=r_,n=i_,e=null;function r(r){return new j_(r.map(function(e,i){var o=[Math.round(t(e,i,r)/R_)*R_,Math.round(n(e,i,r)/R_)*R_];return o.index=i,o.data=e,o}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:e_(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:e_(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r},H_=function(t){return function(){return t}};function B_(t,n,e){this.target=t,this.type=n,this.transform=e}function U_(t,n,e){this.k=t,this.x=n,this.y=e}U_.prototype={constructor:U_,scale:function(t){return 1===t?this:new U_(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new U_(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var q_=new U_(1,0,0);function Y_(t){return t.__zoom||q_}function G_(){et.stopImmediatePropagation()}Y_.prototype=U_.prototype;var V_=function(){et.preventDefault(),et.stopImmediatePropagation()};function $_(){return!et.button}function X_(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function K_(){return this.__zoom||q_}function Z_(){return-et.deltaY*(et.deltaMode?120:1)/500}function Q_(){return"ontouchstart"in this}function J_(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var tb=function(){var t,n,e=$_,r=X_,i=J_,o=Z_,u=Q_,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],s=250,l=me,f=[],h=C("start","zoom","end"),d=500,p=150,v=0;function g(t){t.property("__zoom",K_).on("wheel.zoom",M).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(u).on("touchstart.zoom",T).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new U_(n,t.x,t.y)}function m(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new U_(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,n,e){t.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=x(this,t),o=r.apply(this,t),u=e||_(o),a=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=this.__zoom,s="function"==typeof n?n.apply(this,t):n,f=l(c.invert(u).concat(a/c.k),s.invert(u).concat(a/s.k));return function(t){if(1===t)t=s;else{var n=f(t),e=a/n[2];t=new U_(e,u[0]-n[0]*e,u[1]-n[1]*e)}i.zoom(null,t)}})}function x(t,n){for(var e,r=0,i=f.length;r<i;++r)if((e=f[r]).that===t)return e;return new w(t,n)}function w(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=r.apply(t,n)}function M(){if(e.apply(this,arguments)){var t=x(this,arguments),n=this.__zoom,r=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,o.apply(this,arguments)))),u=bt(this);if(t.wheel)t.mouse[0][0]===u[0]&&t.mouse[0][1]===u[1]||(t.mouse[1]=n.invert(t.mouse[0]=u)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[u,n.invert(u)],fr(this),t.start()}V_(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},p),t.zoom("mouse",i(m(y(n,r),t.mouse[0],t.mouse[1]),t.extent,c))}}function k(){if(!n&&e.apply(this,arguments)){var t=x(this,arguments),r=dt(et.view).on("mousemove.zoom",function(){if(V_(),!t.moved){var n=et.clientX-u,e=et.clientY-a;t.moved=n*n+e*e>v}t.zoom("mouse",i(m(t.that.__zoom,t.mouse[0]=bt(t.that),t.mouse[1]),t.extent,c))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),Tt(et.view,t.moved),V_(),t.end()},!0),o=bt(this),u=et.clientX,a=et.clientY;St(et.view),G_(),t.mouse=[o,this.__zoom.invert(o)],fr(this),t.start()}}function S(){if(e.apply(this,arguments)){var t=this.__zoom,n=bt(this),o=t.invert(n),u=t.k*(et.shiftKey?.5:2),a=i(m(y(t,u),n,o),r.apply(this,arguments),c);V_(),s>0?dt(this).transition().duration(s).call(b,a,n):dt(this).call(g.transform,a)}}function T(){if(e.apply(this,arguments)){var n,r,i,o,u=x(this,arguments),a=et.changedTouches,c=a.length;for(G_(),r=0;r<c;++r)i=a[r],o=[o=wt(this,a,i.identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||(u.touch1=o):(u.touch0=o,n=!0);if(t&&(t=clearTimeout(t),!u.touch1))return u.end(),void((o=dt(this).on("dblclick.zoom"))&&o.apply(this,arguments));n&&(t=setTimeout(function(){t=null},d),fr(this),u.start())}}function A(){var n,e,r,o,u=x(this,arguments),a=et.changedTouches,s=a.length;for(V_(),t&&(t=clearTimeout(t)),n=0;n<s;++n)e=a[n],r=wt(this,a,e.identifier),u.touch0&&u.touch0[2]===e.identifier?u.touch0[0]=r:u.touch1&&u.touch1[2]===e.identifier&&(u.touch1[0]=r);if(e=u.that.__zoom,u.touch1){var l=u.touch0[0],f=u.touch0[1],h=u.touch1[0],d=u.touch1[1],p=(p=h[0]-l[0])*p+(p=h[1]-l[1])*p,v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v;e=y(e,Math.sqrt(p/v)),r=[(l[0]+h[0])/2,(l[1]+h[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!u.touch0)return;r=u.touch0[0],o=u.touch0[1]}u.zoom("touch",i(m(e,r,o),u.extent,c))}function N(){var t,e,r=x(this,arguments),i=et.changedTouches,o=i.length;for(G_(),n&&clearTimeout(n),n=setTimeout(function(){n=null},d),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return g.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",K_),t!==e?b(t,n):e.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},g.scaleBy=function(t,n){g.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},g.scaleTo=function(t,n){g.transform(t,function(){var t=r.apply(this,arguments),e=this.__zoom,o=_(t),u=e.invert(o),a="function"==typeof n?n.apply(this,arguments):n;return i(m(y(e,a),o,u),t,c)})},g.translateBy=function(t,n,e){g.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),c)})},g.translateTo=function(t,n,e){g.transform(t,function(){var t=r.apply(this,arguments),o=this.__zoom,u=_(t);return i(q_.translate(u[0],u[1]).scale(o.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)})},w.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){at(new B_(g,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:H_(+t),g):o},g.filter=function(t){return arguments.length?(e="function"==typeof t?t:H_(!!t),g):e},g.touchable=function(t){return arguments.length?(u="function"==typeof t?t:H_(!!t),g):u},g.extent=function(t){return arguments.length?(r="function"==typeof t?t:H_([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],g):[a[0],a[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(s=+t,g):s},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,g):Math.sqrt(v)},g};e.d(n,"version",function(){return"5.9.2"}),e.d(n,"bisect",function(){return r.b}),e.d(n,"bisectRight",function(){return r.d}),e.d(n,"bisectLeft",function(){return r.c}),e.d(n,"ascending",function(){return r.a}),e.d(n,"bisector",function(){return r.e}),e.d(n,"cross",function(){return r.f}),e.d(n,"descending",function(){return r.g}),e.d(n,"deviation",function(){return r.h}),e.d(n,"extent",function(){return r.i}),e.d(n,"histogram",function(){return r.j}),e.d(n,"thresholdFreedmanDiaconis",function(){return r.w}),e.d(n,"thresholdScott",function(){return r.x}),e.d(n,"thresholdSturges",function(){return r.y}),e.d(n,"max",function(){return r.k}),e.d(n,"mean",function(){return r.l}),e.d(n,"median",function(){return r.m}),e.d(n,"merge",function(){return r.n}),e.d(n,"min",function(){return r.o}),e.d(n,"pairs",function(){return r.p}),e.d(n,"permute",function(){return r.q}),e.d(n,"quantile",function(){return r.r}),e.d(n,"range",function(){return r.s}),e.d(n,"scan",function(){return r.t}),e.d(n,"shuffle",function(){return r.u}),e.d(n,"sum",function(){return r.v}),e.d(n,"ticks",function(){return r.B}),e.d(n,"tickIncrement",function(){return r.z}),e.d(n,"tickStep",function(){return r.A}),e.d(n,"transpose",function(){return r.C}),e.d(n,"variance",function(){return r.D}),e.d(n,"zip",function(){return r.E}),e.d(n,"axisTop",function(){return v}),e.d(n,"axisRight",function(){return g}),e.d(n,"axisBottom",function(){return y}),e.d(n,"axisLeft",function(){return m}),e.d(n,"brush",function(){return Ri}),e.d(n,"brushX",function(){return Pi}),e.d(n,"brushY",function(){return zi}),e.d(n,"brushSelection",function(){return Di}),e.d(n,"chord",function(){return qi}),e.d(n,"ribbon",function(){return Ji}),e.d(n,"nest",function(){return ro}),e.d(n,"set",function(){return fo}),e.d(n,"map",function(){return eo}),e.d(n,"keys",function(){return ho}),e.d(n,"values",function(){return po}),e.d(n,"entries",function(){return vo}),e.d(n,"color",function(){return Kt}),e.d(n,"rgb",function(){return tn}),e.d(n,"hsl",function(){return on}),e.d(n,"lab",function(){return _n}),e.d(n,"hcl",function(){return Tn}),e.d(n,"lch",function(){return Sn}),e.d(n,"gray",function(){return mn}),e.d(n,"cubehelix",function(){return zn}),e.d(n,"contours",function(){return ko}),e.d(n,"contourDensity",function(){return Eo}),e.d(n,"dispatch",function(){return C}),e.d(n,"drag",function(){return Pt}),e.d(n,"dragDisable",function(){return St}),e.d(n,"dragEnable",function(){return Tt}),e.d(n,"dsvFormat",function(){return Ho}),e.d(n,"csvParse",function(){return Uo}),e.d(n,"csvParseRows",function(){return qo}),e.d(n,"csvFormat",function(){return Yo}),e.d(n,"csvFormatBody",function(){return Go}),e.d(n,"csvFormatRows",function(){return Vo}),e.d(n,"tsvParse",function(){return Xo}),e.d(n,"tsvParseRows",function(){return Ko}),e.d(n,"tsvFormat",function(){return Zo}),e.d(n,"tsvFormatBody",function(){return Qo}),e.d(n,"tsvFormatRows",function(){return Jo}),e.d(n,"autoType",function(){return tu}),e.d(n,"easeLinear",function(){return xr}),e.d(n,"easeQuad",function(){return Cr}),e.d(n,"easeQuadIn",function(){return wr}),e.d(n,"easeQuadOut",function(){return Mr}),e.d(n,"easeQuadInOut",function(){return Cr}),e.d(n,"easeCubic",function(){return Tr}),e.d(n,"easeCubicIn",function(){return kr}),e.d(n,"easeCubicOut",function(){return Sr}),e.d(n,"easeCubicInOut",function(){return Tr}),e.d(n,"easePoly",function(){return Lr}),e.d(n,"easePolyIn",function(){return Ar}),e.d(n,"easePolyOut",function(){return Nr}),e.d(n,"easePolyInOut",function(){return Lr}),e.d(n,"easeSin",function(){return zr}),e.d(n,"easeSinIn",function(){return Dr}),e.d(n,"easeSinOut",function(){return Pr}),e.d(n,"easeSinInOut",function(){return zr}),e.d(n,"easeExp",function(){return Fr}),e.d(n,"easeExpIn",function(){return Rr}),e.d(n,"easeExpOut",function(){return Ir}),e.d(n,"easeExpInOut",function(){return Fr}),e.d(n,"easeCircle",function(){return Hr}),e.d(n,"easeCircleIn",function(){return jr}),e.d(n,"easeCircleOut",function(){return Wr}),e.d(n,"easeCircleInOut",function(){return Hr}),e.d(n,"easeBounce",function(){return Jr}),e.d(n,"easeBounceIn",function(){return Qr}),e.d(n,"easeBounceOut",function(){return Jr}),e.d(n,"easeBounceInOut",function(){return ti}),e.d(n,"easeBack",function(){return ri}),e.d(n,"easeBackIn",function(){return ni}),e.d(n,"easeBackOut",function(){return ei}),e.d(n,"easeBackInOut",function(){return ri}),e.d(n,"easeElastic",function(){return ui}),e.d(n,"easeElasticIn",function(){return oi}),e.d(n,"easeElasticOut",function(){return ui}),e.d(n,"easeElasticInOut",function(){return ai}),e.d(n,"blob",function(){return eu}),e.d(n,"buffer",function(){return iu}),e.d(n,"dsv",function(){return cu}),e.d(n,"csv",function(){return su}),e.d(n,"tsv",function(){return lu}),e.d(n,"image",function(){return fu}),e.d(n,"json",function(){return du}),e.d(n,"text",function(){return uu}),e.d(n,"xml",function(){return vu}),e.d(n,"html",function(){return gu}),e.d(n,"svg",function(){return yu}),e.d(n,"forceCenter",function(){return mu}),e.d(n,"forceCollide",function(){return Eu}),e.d(n,"forceLink",function(){return Pu}),e.d(n,"forceManyBody",function(){return Wu}),e.d(n,"forceRadial",function(){return Hu}),e.d(n,"forceSimulation",function(){return ju}),e.d(n,"forceX",function(){return Bu}),e.d(n,"forceY",function(){return Uu}),e.d(n,"formatDefaultLocale",function(){return oa}),e.d(n,"format",function(){return Zu}),e.d(n,"formatPrefix",function(){return Qu}),e.d(n,"formatLocale",function(){return ia}),e.d(n,"formatSpecifier",function(){return Vu}),e.d(n,"precisionFixed",function(){return ua}),e.d(n,"precisionPrefix",function(){return aa}),e.d(n,"precisionRound",function(){return ca}),e.d(n,"geoArea",function(){return tc}),e.d(n,"geoBounds",function(){return Gc}),e.d(n,"geoCentroid",function(){return is}),e.d(n,"geoCircle",function(){return vs}),e.d(n,"geoClipAntimeridian",function(){return Ss}),e.d(n,"geoClipCircle",function(){return Ts}),e.d(n,"geoClipExtent",function(){return zs}),e.d(n,"geoClipRectangle",function(){return Es}),e.d(n,"geoContains",function(){return Js}),e.d(n,"geoDistance",function(){return qs}),e.d(n,"geoGraticule",function(){return el}),e.d(n,"geoGraticule10",function(){return rl}),e.d(n,"geoInterpolate",function(){return cl}),e.d(n,"geoLength",function(){return Hs}),e.d(n,"geoPath",function(){return af}),e.d(n,"geoAlbers",function(){return Sf}),e.d(n,"geoAlbersUsa",function(){return Tf}),e.d(n,"geoAzimuthalEqualArea",function(){return Ef}),e.d(n,"geoAzimuthalEqualAreaRaw",function(){return Lf}),e.d(n,"geoAzimuthalEquidistant",function(){return Df}),e.d(n,"geoAzimuthalEquidistantRaw",function(){return Of}),e.d(n,"geoConicConformal",function(){return jf}),e.d(n,"geoConicConformalRaw",function(){return Ff}),e.d(n,"geoConicEqualArea",function(){return kf}),e.d(n,"geoConicEqualAreaRaw",function(){return Cf}),e.d(n,"geoConicEquidistant",function(){return Uf}),e.d(n,"geoConicEquidistantRaw",function(){return Bf}),e.d(n,"geoEqualEarth",function(){return Kf}),e.d(n,"geoEqualEarthRaw",function(){return Xf}),e.d(n,"geoEquirectangular",function(){return Hf}),e.d(n,"geoEquirectangularRaw",function(){return Wf}),e.d(n,"geoGnomonic",function(){return Qf}),e.d(n,"geoGnomonicRaw",function(){return Zf}),e.d(n,"geoIdentity",function(){return th}),e.d(n,"geoProjection",function(){return xf}),e.d(n,"geoProjectionMutator",function(){return wf}),e.d(n,"geoMercator",function(){return zf}),e.d(n,"geoMercatorRaw",function(){return Pf}),e.d(n,"geoNaturalEarth1",function(){return eh}),e.d(n,"geoNaturalEarth1Raw",function(){return nh}),e.d(n,"geoOrthographic",function(){return ih}),e.d(n,"geoOrthographicRaw",function(){return rh}),e.d(n,"geoStereographic",function(){return uh}),e.d(n,"geoStereographicRaw",function(){return oh}),e.d(n,"geoTransverseMercator",function(){return ch}),e.d(n,"geoTransverseMercatorRaw",function(){return ah}),e.d(n,"geoRotation",function(){return hs}),e.d(n,"geoStream",function(){return Ga}),e.d(n,"geoTransform",function(){return cf}),e.d(n,"cluster",function(){return hh}),e.d(n,"hierarchy",function(){return ph}),e.d(n,"pack",function(){return Fh}),e.d(n,"packSiblings",function(){return Dh}),e.d(n,"packEnclose",function(){return bh}),e.d(n,"partition",function(){return qh}),e.d(n,"stratify",function(){return Kh}),e.d(n,"tree",function(){return rd}),e.d(n,"treemap",function(){return cd}),e.d(n,"treemapBinary",function(){return sd}),e.d(n,"treemapDice",function(){return Uh}),e.d(n,"treemapSlice",function(){return id}),e.d(n,"treemapSliceDice",function(){return ld}),e.d(n,"treemapSquarify",function(){return ad}),e.d(n,"treemapResquarify",function(){return fd}),e.d(n,"interpolate",function(){return ue}),e.d(n,"interpolateArray",function(){return Xn}),e.d(n,"interpolateBasis",function(){return Fn}),e.d(n,"interpolateBasisClosed",function(){return jn}),e.d(n,"interpolateDate",function(){return Kn}),e.d(n,"interpolateDiscrete",function(){return ae}),e.d(n,"interpolateHue",function(){return ce}),e.d(n,"interpolateNumber",function(){return Zn}),e.d(n,"interpolateObject",function(){return Qn}),e.d(n,"interpolateRound",function(){return se}),e.d(n,"interpolateString",function(){return oe}),e.d(n,"interpolateTransformCss",function(){return pe}),e.d(n,"interpolateTransformSvg",function(){return ve}),e.d(n,"interpolateZoom",function(){return me}),e.d(n,"interpolateRgb",function(){return Yn}),e.d(n,"interpolateRgbBasis",function(){return Vn}),e.d(n,"interpolateRgbBasisClosed",function(){return $n}),e.d(n,"interpolateHsl",function(){return be}),e.d(n,"interpolateHslLong",function(){return xe}),e.d(n,"interpolateLab",function(){return we}),e.d(n,"interpolateHcl",function(){return Ce}),e.d(n,"interpolateHclLong",function(){return ke}),e.d(n,"interpolateCubehelix",function(){return Te}),e.d(n,"interpolateCubehelixLong",function(){return Ae}),e.d(n,"piecewise",function(){return Ne}),e.d(n,"quantize",function(){return Oe}),e.d(n,"path",function(){return Vi.a}),e.d(n,"polygonArea",function(){return hd}),e.d(n,"polygonCentroid",function(){return dd}),e.d(n,"polygonHull",function(){return yd}),e.d(n,"polygonContains",function(){return md}),e.d(n,"polygonLength",function(){return _d}),e.d(n,"quadtree",function(){return ku}),e.d(n,"randomUniform",function(){return xd}),e.d(n,"randomNormal",function(){return wd}),e.d(n,"randomLogNormal",function(){return Md}),e.d(n,"randomBates",function(){return kd}),e.d(n,"randomIrwinHall",function(){return Cd}),e.d(n,"randomExponential",function(){return Sd}),e.d(n,"scaleBand",function(){return Pd}),e.d(n,"scalePoint",function(){return zd}),e.d(n,"scaleIdentity",function(){return Kd}),e.d(n,"scaleLinear",function(){return Xd}),e.d(n,"scaleLog",function(){return op}),e.d(n,"scaleSymlog",function(){return sp}),e.d(n,"scaleOrdinal",function(){return Dd}),e.d(n,"scaleImplicit",function(){return Od}),e.d(n,"scalePow",function(){return pp}),e.d(n,"scaleSqrt",function(){return vp}),e.d(n,"scaleQuantile",function(){return gp}),e.d(n,"scaleQuantize",function(){return yp}),e.d(n,"scaleThreshold",function(){return mp}),e.d(n,"scaleTime",function(){return py}),e.d(n,"scaleUtc",function(){return vy}),e.d(n,"scaleSequential",function(){return my}),e.d(n,"scaleSequentialLog",function(){return _y}),e.d(n,"scaleSequentialPow",function(){return xy}),e.d(n,"scaleSequentialSqrt",function(){return wy}),e.d(n,"scaleSequentialSymlog",function(){return by}),e.d(n,"scaleSequentialQuantile",function(){return My}),e.d(n,"scaleDiverging",function(){return ky}),e.d(n,"scaleDivergingLog",function(){return Sy}),e.d(n,"scaleDivergingPow",function(){return Ay}),e.d(n,"scaleDivergingSqrt",function(){return Ny}),e.d(n,"scaleDivergingSymlog",function(){return Ty}),e.d(n,"tickFormat",function(){return Vd}),e.d(n,"schemeCategory10",function(){return Ey}),e.d(n,"schemeAccent",function(){return Oy}),e.d(n,"schemeDark2",function(){return Dy}),e.d(n,"schemePaired",function(){return Py}),e.d(n,"schemePastel1",function(){return zy}),e.d(n,"schemePastel2",function(){return Ry}),e.d(n,"schemeSet1",function(){return Iy}),e.d(n,"schemeSet2",function(){return Fy}),e.d(n,"schemeSet3",function(){return jy}),e.d(n,"interpolateBrBG",function(){return By}),e.d(n,"schemeBrBG",function(){return Hy}),e.d(n,"interpolatePRGn",function(){return qy}),e.d(n,"schemePRGn",function(){return Uy}),e.d(n,"interpolatePiYG",function(){return Gy}),e.d(n,"schemePiYG",function(){return Yy}),e.d(n,"interpolatePuOr",function(){return $y}),e.d(n,"schemePuOr",function(){return Vy}),e.d(n,"interpolateRdBu",function(){return Ky}),e.d(n,"schemeRdBu",function(){return Xy}),e.d(n,"interpolateRdGy",function(){return Qy}),e.d(n,"schemeRdGy",function(){return Zy}),e.d(n,"interpolateRdYlBu",function(){return tm}),e.d(n,"schemeRdYlBu",function(){return Jy}),e.d(n,"interpolateRdYlGn",function(){return em}),e.d(n,"schemeRdYlGn",function(){return nm}),e.d(n,"interpolateSpectral",function(){return im}),e.d(n,"schemeSpectral",function(){return rm}),e.d(n,"interpolateBuGn",function(){return um}),e.d(n,"schemeBuGn",function(){return om}),e.d(n,"interpolateBuPu",function(){return cm}),e.d(n,"schemeBuPu",function(){return am}),e.d(n,"interpolateGnBu",function(){return lm}),e.d(n,"schemeGnBu",function(){return sm}),e.d(n,"interpolateOrRd",function(){return hm}),e.d(n,"schemeOrRd",function(){return fm}),e.d(n,"interpolatePuBuGn",function(){return pm}),e.d(n,"schemePuBuGn",function(){return dm}),e.d(n,"interpolatePuBu",function(){return gm}),e.d(n,"schemePuBu",function(){return vm}),e.d(n,"interpolatePuRd",function(){return mm}),e.d(n,"schemePuRd",function(){return ym}),e.d(n,"interpolateRdPu",function(){return bm}),e.d(n,"schemeRdPu",function(){return _m}),e.d(n,"interpolateYlGnBu",function(){return wm}),e.d(n,"schemeYlGnBu",function(){return xm}),e.d(n,"interpolateYlGn",function(){return Cm}),e.d(n,"schemeYlGn",function(){return Mm}),e.d(n,"interpolateYlOrBr",function(){return Sm}),e.d(n,"schemeYlOrBr",function(){return km}),e.d(n,"interpolateYlOrRd",function(){return Am}),e.d(n,"schemeYlOrRd",function(){return Tm}),e.d(n,"interpolateBlues",function(){return Lm}),e.d(n,"schemeBlues",function(){return Nm}),e.d(n,"interpolateGreens",function(){return Om}),e.d(n,"schemeGreens",function(){return Em}),e.d(n,"interpolateGreys",function(){return Pm}),e.d(n,"schemeGreys",function(){return Dm}),e.d(n,"interpolatePurples",function(){return Rm}),e.d(n,"schemePurples",function(){return zm}),e.d(n,"interpolateReds",function(){return Fm}),e.d(n,"schemeReds",function(){return Im}),e.d(n,"interpolateOranges",function(){return Wm}),e.d(n,"schemeOranges",function(){return jm}),e.d(n,"interpolateCubehelixDefault",function(){return Hm}),e.d(n,"interpolateRainbow",function(){return Ym}),e.d(n,"interpolateWarm",function(){return Bm}),e.d(n,"interpolateCool",function(){return Um}),e.d(n,"interpolateSinebow",function(){return Xm}),e.d(n,"interpolateViridis",function(){return Zm}),e.d(n,"interpolateMagma",function(){return Qm}),e.d(n,"interpolateInferno",function(){return Jm}),e.d(n,"interpolatePlasma",function(){return t_}),e.d(n,"create",function(){return pt}),e.d(n,"creator",function(){return A}),e.d(n,"local",function(){return gt}),e.d(n,"matcher",function(){return D}),e.d(n,"mouse",function(){return bt}),e.d(n,"namespace",function(){return T}),e.d(n,"namespaces",function(){return S}),e.d(n,"clientPoint",function(){return _t}),e.d(n,"select",function(){return dt}),e.d(n,"selectAll",function(){return xt}),e.d(n,"selection",function(){return ht}),e.d(n,"selector",function(){return L}),e.d(n,"selectorAll",function(){return O}),e.d(n,"style",function(){return H}),e.d(n,"touch",function(){return wt}),e.d(n,"touches",function(){return Mt}),e.d(n,"window",function(){return W}),e.d(n,"event",function(){return et}),e.d(n,"customEvent",function(){return at}),e.d(n,"arc",function(){return n_.a}),e.d(n,"area",function(){return n_.b}),e.d(n,"line",function(){return n_.v}),e.d(n,"pie",function(){return n_.A}),e.d(n,"areaRadial",function(){return n_.c}),e.d(n,"radialArea",function(){return n_.C}),e.d(n,"lineRadial",function(){return n_.w}),e.d(n,"radialLine",function(){return n_.D}),e.d(n,"pointRadial",function(){return n_.B}),e.d(n,"linkHorizontal",function(){return n_.x}),e.d(n,"linkVertical",function(){return n_.z}),e.d(n,"linkRadial",function(){return n_.y}),e.d(n,"symbol",function(){return n_.Q}),e.d(n,"symbols",function(){return n_.Y}),e.d(n,"symbolCircle",function(){return n_.R}),e.d(n,"symbolCross",function(){return n_.S}),e.d(n,"symbolDiamond",function(){return n_.T}),e.d(n,"symbolSquare",function(){return n_.U}),e.d(n,"symbolStar",function(){return n_.V}),e.d(n,"symbolTriangle",function(){return n_.W}),e.d(n,"symbolWye",function(){return n_.X}),e.d(n,"curveBasisClosed",function(){return n_.e}),e.d(n,"curveBasisOpen",function(){return n_.f}),e.d(n,"curveBasis",function(){return n_.d}),e.d(n,"curveBundle",function(){return n_.g}),e.d(n,"curveCardinalClosed",function(){return n_.i}),e.d(n,"curveCardinalOpen",function(){return n_.j}),e.d(n,"curveCardinal",function(){return n_.h}),e.d(n,"curveCatmullRomClosed",function(){return n_.l}),e.d(n,"curveCatmullRomOpen",function(){return n_.m}),e.d(n,"curveCatmullRom",function(){return n_.k}),e.d(n,"curveLinearClosed",function(){return n_.o}),e.d(n,"curveLinear",function(){return n_.n}),e.d(n,"curveMonotoneX",function(){return n_.p}),e.d(n,"curveMonotoneY",function(){return n_.q}),e.d(n,"curveNatural",function(){return n_.r}),e.d(n,"curveStep",function(){return n_.s}),e.d(n,"curveStepAfter",function(){return n_.t}),e.d(n,"curveStepBefore",function(){return n_.u}),e.d(n,"stack",function(){return n_.E}),e.d(n,"stackOffsetExpand",function(){return n_.G}),e.d(n,"stackOffsetDiverging",function(){return n_.F}),e.d(n,"stackOffsetNone",function(){return n_.H}),e.d(n,"stackOffsetSilhouette",function(){return n_.I}),e.d(n,"stackOffsetWiggle",function(){return n_.J}),e.d(n,"stackOrderAppearance",function(){return n_.K}),e.d(n,"stackOrderAscending",function(){return n_.L}),e.d(n,"stackOrderDescending",function(){return n_.M}),e.d(n,"stackOrderInsideOut",function(){return n_.N}),e.d(n,"stackOrderNone",function(){return n_.O}),e.d(n,"stackOrderReverse",function(){return n_.P}),e.d(n,"timeInterval",function(){return xp}),e.d(n,"timeMillisecond",function(){return Mp}),e.d(n,"timeMilliseconds",function(){return Cp}),e.d(n,"utcMillisecond",function(){return Mp}),e.d(n,"utcMilliseconds",function(){return Cp}),e.d(n,"timeSecond",function(){return Ap}),e.d(n,"timeSeconds",function(){return Np}),e.d(n,"utcSecond",function(){return Ap}),e.d(n,"utcSeconds",function(){return Np}),e.d(n,"timeMinute",function(){return Ep}),e.d(n,"timeMinutes",function(){return Op}),e.d(n,"timeHour",function(){return Pp}),e.d(n,"timeHours",function(){return zp}),e.d(n,"timeDay",function(){return Ip}),e.d(n,"timeDays",function(){return Fp}),e.d(n,"timeWeek",function(){return Wp}),e.d(n,"timeWeeks",function(){return Vp}),e.d(n,"timeSunday",function(){return Wp}),e.d(n,"timeSundays",function(){return Vp}),e.d(n,"timeMonday",function(){return Hp}),e.d(n,"timeMondays",function(){return $p}),e.d(n,"timeTuesday",function(){return Bp}),e.d(n,"timeTuesdays",function(){return Xp}),e.d(n,"timeWednesday",function(){return Up}),e.d(n,"timeWednesdays",function(){return Kp}),e.d(n,"timeThursday",function(){return qp}),e.d(n,"timeThursdays",function(){return Zp}),e.d(n,"timeFriday",function(){return Yp}),e.d(n,"timeFridays",function(){return Qp}),e.d(n,"timeSaturday",function(){return Gp}),e.d(n,"timeSaturdays",function(){return Jp}),e.d(n,"timeMonth",function(){return nv}),e.d(n,"timeMonths",function(){return ev}),e.d(n,"timeYear",function(){return iv}),e.d(n,"timeYears",function(){return ov}),e.d(n,"utcMinute",function(){return av}),e.d(n,"utcMinutes",function(){return cv}),e.d(n,"utcHour",function(){return lv}),e.d(n,"utcHours",function(){return fv}),e.d(n,"utcDay",function(){return dv}),e.d(n,"utcDays",function(){return pv}),e.d(n,"utcWeek",function(){return gv}),e.d(n,"utcWeeks",function(){return Mv}),e.d(n,"utcSunday",function(){return gv}),e.d(n,"utcSundays",function(){return Mv}),e.d(n,"utcMonday",function(){return yv}),e.d(n,"utcMondays",function(){return Cv}),e.d(n,"utcTuesday",function(){return mv}),e.d(n,"utcTuesdays",function(){return kv}),e.d(n,"utcWednesday",function(){return _v}),e.d(n,"utcWednesdays",function(){return Sv}),e.d(n,"utcThursday",function(){return bv}),e.d(n,"utcThursdays",function(){return Tv}),e.d(n,"utcFriday",function(){return xv}),e.d(n,"utcFridays",function(){return Av}),e.d(n,"utcSaturday",function(){return wv}),e.d(n,"utcSaturdays",function(){return Nv}),e.d(n,"utcMonth",function(){return Ev}),e.d(n,"utcMonths",function(){return Ov}),e.d(n,"utcYear",function(){return Pv}),e.d(n,"utcYears",function(){return zv}),e.d(n,"timeFormatDefaultLocale",function(){return ny}),e.d(n,"timeFormat",function(){return Hv}),e.d(n,"timeParse",function(){return Bv}),e.d(n,"utcFormat",function(){return Uv}),e.d(n,"utcParse",function(){return qv}),e.d(n,"timeFormatLocale",function(){return jv}),e.d(n,"isoFormat",function(){return ey}),e.d(n,"isoParse",function(){return ry}),e.d(n,"now",function(){return Be}),e.d(n,"timer",function(){return Ye}),e.d(n,"timerFlush",function(){return Ge}),e.d(n,"timeout",function(){return Ke}),e.d(n,"interval",function(){return Ze}),e.d(n,"transition",function(){return mr}),e.d(n,"active",function(){return fi}),e.d(n,"interrupt",function(){return fr}),e.d(n,"voronoi",function(){return W_}),e.d(n,"zoom",function(){return tb}),e.d(n,"zoomTransform",function(){return Y_}),e.d(n,"zoomIdentity",function(){return q_})},function(t,n,e){"use strict";e.r(n);var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN};var i,o;1===(i=r).length&&(o=i,i=function(t,n){return r(o(t),n)});var u=Array.prototype;u.slice,u.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function a(t,n){let e;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e||e>n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e>i)&&(e=i)}return e}function c(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function s(t){return t.target.depth}function l(t){return t.depth}function f(t,n){return n-1-t.height}function h(t,n){return t.sourceLinks.length?t.depth:n-1}function d(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?a(t.sourceLinks,s)-1:0}function p(t){return function(){return t}}function v(t,n){return y(t.source,n.source)||t.index-n.index}function g(t,n){return y(t.target,n.target)||t.index-n.index}function y(t,n){return t.y0-n.y0}function m(t){return t.value}function _(t){return t.index}function b(t){return t.nodes}function x(t){return t.links}function w(t,n){const e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function M({nodes:t}){for(const n of t){let t=n.y0,e=t;for(const e of n.sourceLinks)e.y0=t+e.width/2,t+=e.width;for(const t of n.targetLinks)t.y1=e+t.width/2,e+=t.width}}function C(){let t,n,e=0,r=0,i=1,o=1,u=24,s=8,l=_,f=h,d=b,C=x,k=6;function S(){const n={nodes:d.apply(null,arguments),links:C.apply(null,arguments)};return function({nodes:t,links:n}){for(const[n,e]of t.entries())e.index=n,e.sourceLinks=[],e.targetLinks=[];const e=new Map(t.map((n,e)=>[l(n,e,t),n]));for(const[t,r]of n.entries()){r.index=t;let{source:n,target:i}=r;"object"!=typeof n&&(n=r.source=w(e,n)),"object"!=typeof i&&(i=r.target=w(e,i)),n.sourceLinks.push(r),i.targetLinks.push(r)}}(n),function({nodes:t}){for(const n of t)n.value=Math.max(c(n.sourceLinks,m),c(n.targetLinks,m))}(n),function({nodes:t}){const n=t.length;let e=new Set(t),r=new Set,i=0;for(;e.size;){for(const t of e){t.depth=i;for(const{target:n}of t.sourceLinks)r.add(n)}if(++i>n)throw new Error("circular link");e=r,r=new Set}}(n),function({nodes:t}){const n=t.length;let e=new Set(t),r=new Set,i=0;for(;e.size;){for(const t of e){t.height=i;for(const{source:n}of t.targetLinks)r.add(n)}if(++i>n)throw new Error("circular link");e=r,r=new Set}}(n),function(n){const l=function({nodes:n}){const r=function(t,n){let e;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e||e<n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e<i)&&(e=i)}return e}(n,t=>t.depth)+1,o=(i-e-u)/(r-1),a=new Array(r);for(const t of n){const n=Math.max(0,Math.min(r-1,Math.floor(f.call(null,t,r))));t.layer=n,t.x0=e+n*o,t.x1=t.x0+u,a[n]?a[n].push(t):a[n]=[t]}if(t)for(const n of a)n.sort(t);return a}(n);!function(t){const n=a(t,t=>(o-r-(t.length-1)*s)/c(t,m));for(const e of t){let t=r;for(const r of e){r.y0=t,r.y1=t+r.value*n,t=r.y1+s;for(const t of r.sourceLinks)t.width=t.value*n}t=(o-t+s)/(e.length+1);for(let n=0;n<e.length;++n){const r=e[n];r.y0+=t*(n+1),r.y1+=t*(n+1)}D(e)}}(l);for(let t=0;t<k;++t){const n=Math.pow(.99,t),e=Math.max(1-n,(t+1)/k);A(l,n,e),T(l,n,e)}}(n),M(n),n}function T(n,e,r){for(let i=1,o=n.length;i<o;++i){const o=n[i];for(const t of o){let n=0,r=0;for(const{source:e,value:i}of t.targetLinks){let o=i*(t.layer-e.layer);n+=P(e,t)*o,r+=o}if(!(r>0))continue;let i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,O(t)}void 0===t&&o.sort(y),N(o,r)}}function A(n,e,r){for(let i=n.length-2;i>=0;--i){const o=n[i];for(const t of o){let n=0,r=0;for(const{target:e,value:i}of t.sourceLinks){let o=i*(e.layer-t.layer);n+=z(t,e)*o,r+=o}if(!(r>0))continue;let i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,O(t)}void 0===t&&o.sort(y),N(o,r)}}function N(t,n){const e=t.length>>1,i=t[e];E(t,i.y0-s,e-1,n),L(t,i.y1+s,e+1,n),E(t,o,t.length-1,n),L(t,r,0,n)}function L(t,n,e,r){for(;e<t.length;++e){const i=t[e],o=(n-i.y0)*r;o>1e-6&&(i.y0+=o,i.y1+=o),n=i.y1+s}}function E(t,n,e,r){for(;e>=0;--e){const i=t[e],o=(i.y1-n)*r;o>1e-6&&(i.y0-=o,i.y1-=o),n=i.y0-s}}function O({sourceLinks:t,targetLinks:e}){if(void 0===n){for(const{source:{sourceLinks:t}}of e)t.sort(g);for(const{target:{targetLinks:n}}of t)n.sort(v)}}function D(t){if(void 0===n)for(const{sourceLinks:n,targetLinks:e}of t)n.sort(g),e.sort(v)}function P(t,n){let e=t.y0-(t.sourceLinks.length-1)*s/2;for(const{target:r,width:i}of t.sourceLinks){if(r===n)break;e+=i+s}for(const{source:r,width:i}of n.targetLinks){if(r===t)break;e-=i}return e}function z(t,n){let e=n.y0-(n.targetLinks.length-1)*s/2;for(const{source:r,width:i}of n.targetLinks){if(r===t)break;e+=i+s}for(const{target:r,width:i}of t.sourceLinks){if(r===n)break;e-=i}return e}return S.update=function(t){return M(t),t},S.nodeId=function(t){return arguments.length?(l="function"==typeof t?t:p(t),S):l},S.nodeAlign=function(t){return arguments.length?(f="function"==typeof t?t:p(t),S):f},S.nodeSort=function(n){return arguments.length?(t=n,S):t},S.nodeWidth=function(t){return arguments.length?(u=+t,S):u},S.nodePadding=function(t){return arguments.length?(s=+t,S):s},S.nodes=function(t){return arguments.length?(d="function"==typeof t?t:p(t),S):d},S.links=function(t){return arguments.length?(C="function"==typeof t?t:p(t),S):C},S.linkSort=function(t){return arguments.length?(n=t,S):n},S.size=function(t){return arguments.length?(e=r=0,i=+t[0],o=+t[1],S):[i-e,o-r]},S.extent=function(t){return arguments.length?(e=+t[0][0],i=+t[1][0],r=+t[0][1],o=+t[1][1],S):[[e,r],[i,o]]},S.iterations=function(t){return arguments.length?(k=+t,S):k},S}var k=Math.PI,S=2*k,T=S-1e-6;function A(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function N(){return new A}A.prototype=N.prototype={constructor:A,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,l=u-n,f=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(l*a-c*s)>1e-6&&i){var h=e-o,d=r-u,p=a*a+c*c,v=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((k-Math.acos((p+f-v)/(2*g*y)))/2),_=m/y,b=m/g;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*s)+","+(n+_*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>s*d)+","+(this._x1=t+b*a)+","+(this._y1=n+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(f<0&&(f=f%S+S),f>T?this._+="A"+e+","+e+",0,1,"+l+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=k)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var L=N,E=function(t){return function(){return t}},O=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),D=Math.PI,P=2*D;function z(t){this._context=t}z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var R=function(t){return new z(t)};function I(t){return t[0]}function F(t){return t[1]}W(R);function j(t){this._curve=t}function W(t){function n(n){return new j(t(n))}return n._curve=t,n}j.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var H=Array.prototype.slice;function B(t){return t.source}function U(t){return t.target}function q(t){var n=B,e=U,r=I,i=F,o=null;function u(){var u,a=H.call(arguments),c=n.apply(this,a),s=e.apply(this,a);if(o||(o=u=L()),t(o,+r.apply(this,(a[0]=c,a)),+i.apply(this,a),+r.apply(this,(a[0]=s,a)),+i.apply(this,a)),u)return o=null,u+""||null}return u.source=function(t){return arguments.length?(n=t,u):n},u.target=function(t){return arguments.length?(e=t,u):e},u.x=function(t){return arguments.length?(r="function"==typeof t?t:E(+t),u):r},u.y=function(t){return arguments.length?(i="function"==typeof t?t:E(+t),u):i},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}function Y(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}Math.sqrt(1/3);var G=Math.sin(D/10)/Math.sin(7*D/10),V=(Math.sin(P/10),Math.cos(P/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function $(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function X(t){this._context=t}X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function K(t){this._context=t}K.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:$(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Z(t){this._context=t}Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:$(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Q(t,n){this._basis=new X(t),this._beta=n}Q.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};(function t(n){function e(t){return 1===n?new X(t):new Q(t,n)}return e.beta=function(n){return t(+n)},e})(.85);function J(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function tt(t,n){this._context=t,this._k=(1-n)/6}tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:J(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:J(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new tt(t,n)}return e.tension=function(n){return t(+n)},e})(0);function nt(t,n){this._context=t,this._k=(1-n)/6}nt.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:J(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new nt(t,n)}return e.tension=function(n){return t(+n)},e})(0);function et(t,n){this._context=t,this._k=(1-n)/6}et.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:J(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new et(t,n)}return e.tension=function(n){return t(+n)},e})(0);function rt(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>O){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>O){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/l,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function it(t,n){this._context=t,this._alpha=n}it.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:rt(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new it(t,n):new tt(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function ot(t,n){this._context=t,this._alpha=n}ot.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:rt(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new ot(t,n):new nt(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function ut(t,n){this._context=t,this._alpha=n}ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rt(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new ut(t,n):new et(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function at(t){this._context=t}at.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function ct(t){return t<0?-1:1}function st(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(ct(o)+ct(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function lt(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ft(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function ht(t){this._context=t}function dt(t){this._context=new pt(t)}function pt(t){this._context=t}function vt(t){this._context=t}function gt(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ft(this,this._t0,lt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ft(this,lt(this,e=st(this,t,n)),e);break;default:ft(this,this._t0,e=st(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(dt.prototype=Object.create(ht.prototype)).point=function(t,n){ht.prototype.point.call(this,n,t)},pt.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=gt(t),i=gt(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function yt(t,n){this._context=t,this._t=n}yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};function mt(t){return[t.source.x1,t.y0]}function _t(t){return[t.target.x0,t.y1]}var bt=function(){return q(Y).source(mt).target(_t)};e.d(n,"sankey",function(){return C}),e.d(n,"sankeyCenter",function(){return d}),e.d(n,"sankeyLeft",function(){return l}),e.d(n,"sankeyRight",function(){return f}),e.d(n,"sankeyJustify",function(){return h}),e.d(n,"sankeyLinkHorizontal",function(){return bt})},function(t,n,e){"use strict";e.r(n);var r=e(0);function i(t){return t.target.depth}function o(t){return t.depth}function u(t,n){return n-1-t.height}function a(t,n){return t.sourceLinks.length?t.depth:n-1}function c(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(r.o)(t.sourceLinks,i)-1:0}function s(t){return function(){return t}}function l(t,n){return h(t.source,n.source)||t.index-n.index}function f(t,n){return h(t.target,n.target)||t.index-n.index}function h(t,n){return t.y0-n.y0}function d(t){return t.value}function p(t){return t.index}function v(t){return t.nodes}function g(t){return t.links}function y(t,n){const e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function m({nodes:t}){for(const n of t){let t=n.y0,e=t;for(const e of n.sourceLinks)e.y0=t+e.width/2,t+=e.width;for(const t of n.targetLinks)t.y1=e+t.width/2,e+=t.width}}function _(){let t,n,e=0,i=0,o=1,u=1,c=24,_=8,b=p,x=a,w=v,M=g,C=6;function k(){const n={nodes:w.apply(null,arguments),links:M.apply(null,arguments)};return function({nodes:t,links:n}){for(const[n,e]of t.entries())e.index=n,e.sourceLinks=[],e.targetLinks=[];const e=new Map(t.map((n,e)=>[b(n,e,t),n]));for(const[t,r]of n.entries()){r.index=t;let{source:n,target:i}=r;"object"!=typeof n&&(n=r.source=y(e,n)),"object"!=typeof i&&(i=r.target=y(e,i)),n.sourceLinks.push(r),i.targetLinks.push(r)}}(n),function({nodes:t}){for(const n of t)n.value=Math.max(Object(r.v)(n.sourceLinks,d),Object(r.v)(n.targetLinks,d))}(n),function({nodes:t}){const n=t.length;let e=new Set(t),r=new Set,i=0;for(;e.size;){for(const t of e){t.depth=i;for(const{target:n}of t.sourceLinks)r.add(n)}if(++i>n)throw new Error("circular link");e=r,r=new Set}}(n),function({nodes:t}){const n=t.length;let e=new Set(t),r=new Set,i=0;for(;e.size;){for(const t of e){t.height=i;for(const{source:n}of t.targetLinks)r.add(n)}if(++i>n)throw new Error("circular link");e=r,r=new Set}}(n),function(n){const a=function({nodes:n}){const i=Object(r.k)(n,t=>t.depth)+1,u=(o-e-c)/(i-1),a=new Array(i);for(const t of n){const n=Math.max(0,Math.min(i-1,Math.floor(x.call(null,t,i))));t.layer=n,t.x0=e+n*u,t.x1=t.x0+c,a[n]?a[n].push(t):a[n]=[t]}if(t)for(const n of a)n.sort(t);return a}(n);!function(t){const n=Object(r.o)(t,t=>(u-i-(t.length-1)*_)/Object(r.v)(t,d));for(const e of t){let t=i;for(const r of e){r.y0=t,r.y1=t+r.value*n,t=r.y1+_;for(const t of r.sourceLinks)t.width=t.value*n}t=(u-t+_)/(e.length+1);for(let n=0;n<e.length;++n){const r=e[n];r.y0+=t*(n+1),r.y1+=t*(n+1)}O(e)}}(a);for(let t=0;t<C;++t){const n=Math.pow(.99,t),e=Math.max(1-n,(t+1)/C);T(a,n,e),S(a,n,e)}}(n),m(n),n}function S(n,e,r){for(let i=1,o=n.length;i<o;++i){const o=n[i];for(const t of o){let n=0,r=0;for(const{source:e,value:i}of t.targetLinks){let o=i*(t.layer-e.layer);n+=D(e,t)*o,r+=o}if(!(r>0))continue;let i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,E(t)}void 0===t&&o.sort(h),A(o,r)}}function T(n,e,r){for(let i=n.length-2;i>=0;--i){const o=n[i];for(const t of o){let n=0,r=0;for(const{target:e,value:i}of t.sourceLinks){let o=i*(e.layer-t.layer);n+=P(t,e)*o,r+=o}if(!(r>0))continue;let i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,E(t)}void 0===t&&o.sort(h),A(o,r)}}function A(t,n){const e=t.length>>1,r=t[e];L(t,r.y0-_,e-1,n),N(t,r.y1+_,e+1,n),L(t,u,t.length-1,n),N(t,i,0,n)}function N(t,n,e,r){for(;e<t.length;++e){const i=t[e],o=(n-i.y0)*r;o>1e-6&&(i.y0+=o,i.y1+=o),n=i.y1+_}}function L(t,n,e,r){for(;e>=0;--e){const i=t[e],o=(i.y1-n)*r;o>1e-6&&(i.y0-=o,i.y1-=o),n=i.y0-_}}function E({sourceLinks:t,targetLinks:e}){if(void 0===n){for(const{source:{sourceLinks:t}}of e)t.sort(f);for(const{target:{targetLinks:n}}of t)n.sort(l)}}function O(t){if(void 0===n)for(const{sourceLinks:n,targetLinks:e}of t)n.sort(f),e.sort(l)}function D(t,n){let e=t.y0-(t.sourceLinks.length-1)*_/2;for(const{target:r,width:i}of t.sourceLinks){if(r===n)break;e+=i+_}for(const{source:r,width:i}of n.targetLinks){if(r===t)break;e-=i}return e}function P(t,n){let e=n.y0-(n.targetLinks.length-1)*_/2;for(const{source:r,width:i}of n.targetLinks){if(r===t)break;e+=i+_}for(const{target:r,width:i}of t.sourceLinks){if(r===n)break;e-=i}return e}return k.update=function(t){return m(t),t},k.nodeId=function(t){return arguments.length?(b="function"==typeof t?t:s(t),k):b},k.nodeAlign=function(t){return arguments.length?(x="function"==typeof t?t:s(t),k):x},k.nodeSort=function(n){return arguments.length?(t=n,k):t},k.nodeWidth=function(t){return arguments.length?(c=+t,k):c},k.nodePadding=function(t){return arguments.length?(_=+t,k):_},k.nodes=function(t){return arguments.length?(w="function"==typeof t?t:s(t),k):w},k.links=function(t){return arguments.length?(M="function"==typeof t?t:s(t),k):M},k.linkSort=function(t){return arguments.length?(n=t,k):n},k.size=function(t){return arguments.length?(e=i=0,o=+t[0],u=+t[1],k):[o-e,u-i]},k.extent=function(t){return arguments.length?(e=+t[0][0],o=+t[1][0],i=+t[0][1],u=+t[1][1],k):[[e,i],[o,u]]},k.iterations=function(t){return arguments.length?(C=+t,k):C},k}var b=e(4);function x(t){return[t.source.x1,t.y0]}function w(t){return[t.target.x0,t.y1]}var M=function(){return Object(b.x)().source(x).target(w)};e.d(n,"sankey",function(){return _}),e.d(n,"sankeyCenter",function(){return c}),e.d(n,"sankeyLeft",function(){return o}),e.d(n,"sankeyRight",function(){return u}),e.d(n,"sankeyJustify",function(){return a}),e.d(n,"sankeyLinkHorizontal",function(){return M})}]);